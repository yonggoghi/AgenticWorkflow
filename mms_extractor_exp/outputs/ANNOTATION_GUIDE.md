# Entity Extraction Evaluation - Annotation Guide

## 목적
이 파일은 LLM 기반 엔티티 추출 성능을 평가하기 위한 데이터입니다.
어노테이터가 `correct_extracted_entities`와 `correct_linked_entities` 컬럼에 정답을 작성해 주시면,
이를 기반으로 추출 로직을 개선합니다.

---

## 파일 구조

| 컬럼명 | 설명 | 작성 필요 여부 |
|--------|------|----------------|
| `mms` | 원본 MMS 메시지 텍스트 | 읽기만 |
| `extracted_entities_ax` | Amazon LLM이 추출한 엔티티 (1차 추출 결과) | 읽기만 |
| `linked_entities_ax` | Amazon LLM 추출 후 DB 매칭된 상품명 | 읽기만 |
| `extracted_entities_cld` | Claude LLM이 추출한 엔티티 (1차 추출 결과) | 읽기만 |
| `linked_entities_cld` | Claude LLM 추출 후 DB 매칭된 상품명 | 읽기만 |
| **`correct_extracted_entities`** | **정답 엔티티 (직접 작성)** | **작성 필요** |
| **`correct_linked_entities`** | **정답 상품명 (직접 작성)** | **작성 필요** |

---

## 용어 설명

### extracted_entities (추출된 엔티티)
- MMS 메시지에서 **LLM이 1차로 추출한 상품/서비스명**
- 메시지 원문에 등장하는 그대로의 텍스트
- 예: `T 안심콜 라이트`, `Netflix 광고형 스탠다드`, `5GX 프라임(넷플릭스)`

### linked_entities (링크된 엔티티)
- 추출된 엔티티를 **상품 DB와 매칭하여 정규화된 상품명**
- DB에 등록된 공식 상품명으로 변환됨
- 예: `T안심콜 라이트` (띄어쓰기 정규화), `Netflix 광고형 스탠다드 이용권` (정식 명칭)

---

## 어노테이션 작성 방법

### 1. correct_extracted_entities 작성
MMS 메시지를 읽고, **메시지에서 추출해야 할 상품/서비스명**을 작성합니다.

**포함해야 할 것:**
- 요금제명 (예: `5GX 프라임`, `0 청년 89`)
- 서비스명 (예: `T 안심콜 라이트`, `Netflix 광고형 스탠다드`)
- 앱/제품명 (예: `에이닷 전화 앱`, `스마트워치`)
- 혜택/쿠폰명 (예: `풀무원 설 선물 세트 25% 할인`)

**제외해야 할 것:**
- 일반 명사 (예: `고객님`, `휴대폰`, `전화`)
- 회사/기관명 (예: `SKT`, `경찰청`, `한국인터넷진흥원`)
- 고객센터 정보 (예: `SKT 고객센터(114)`)
- URL, 날짜, 금액

**형식:** 파이프(`|`)로 구분하여 작성
```
T 안심콜 라이트 | 050 넘버플러스 | 안심번호
```

### 2. correct_linked_entities 작성
추출된 엔티티가 **DB에서 매칭되어야 할 공식 상품명**을 작성합니다.

**참고:**
- `linked_entities_ax` 또는 `linked_entities_cld` 컬럼을 참고하여,
  올바르게 매칭된 것은 그대로 작성하고, 잘못된 것은 수정합니다.
- DB에 없는 상품의 경우, 빈칸으로 두거나 가장 유사한 상품명을 작성합니다.

**형식:** 파이프(`|`)로 구분하여 작성
```
T안심콜 라이트 | 넘버플러스
```

---

## 예시

### 예시 1: T 안심콜 서비스 안내 MMS

**mms (원본 메시지):**
```
(광고)[SKT] T 안심콜 라이트(050 넘버플러스) 서비스 안내
...050으로 시작하는 안심번호를 발급받아 이용하는 서비스...
```

**extracted_entities_ax (LLM 추출):**
```
050 넘버플러스 | SKT 고객센터 | T 안심콜 라이트 | 안심번호 | 전용 앱
```

**correct_extracted_entities (정답 - 작성 필요):**
```
T 안심콜 라이트 | 050 넘버플러스
```
- `SKT 고객센터`, `안심번호`, `전용 앱`은 상품명이 아니므로 제외

**linked_entities_ax (DB 매칭 결과):**
```
T안심콜 라이트
```

**correct_linked_entities (정답 - 작성 필요):**
```
T안심콜 라이트 | 넘버플러스
```
- `050 넘버플러스`가 DB에서 `넘버플러스`로 매칭되어야 함

---

### 예시 2: 넷플릭스 요금제 안내 MMS

**mms (원본 메시지):**
```
[SKT] <Netflix 광고형 스탠다드> 구독료 변경 안내
...T 우주 <Netflix 광고형 스탠다드> 할인 요금제...
...5GX 프라임(넷플릭스), 0 청년 89(넷플릭스)...
```

**correct_extracted_entities (정답):**
```
Netflix 광고형 스탠다드 | T 우주 | 5GX 프라임(넷플릭스) | 0 청년 89(넷플릭스) | 다이렉트5G 62(넷플릭스) | 0 청년 다이렉트 62(넷플릭스) | T 우주패스 Netflix
```

**correct_linked_entities (정답):**
```
Netflix 광고형 스탠다드 이용권 | T 우주패스 Netflix | 5GX 프라임(넷플릭스) | 0 청년 89(넷플릭스) | 다이렉트5G 62(넷플릭스) | 0 청년 다이렉트 62(넷플릭스)
```

---

## 주의사항

1. **일관성 유지**: 같은 상품은 항상 같은 방식으로 작성해 주세요.
2. **정렬**: 가능하면 알파벳/가나다 순으로 정렬해 주세요.
3. **구분자**: 반드시 ` | ` (공백 + 파이프 + 공백)로 구분해 주세요.
4. **빈칸 허용**: 추출할 엔티티가 없으면 빈칸으로 두세요.
5. **애매한 경우**: LLM 결과를 참고하되, 최종 판단은 어노테이터가 합니다.

---

## 문의
어노테이션 관련 질문이 있으시면 담당자에게 연락해 주세요.
