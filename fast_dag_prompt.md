# 고속 DAG 추출 프롬프트 (30초 이내 목표)

## 작업 목표
통신사 광고 메시지에서 핵심 행동 흐름을 추출하여 DAG 형식으로 표현

## 핵심 원칙 (간소화)
1. **직관적 추출**: 복잡한 추론보다 핵심 패턴 인식
2. **최소 경로**: 가장 중요한 흐름만 표현
3. **즉시 결정**: 과도한 고민 없이 명확한 선택

## 출력 형식
```
(개체명:기대행동) -[관계동사]-> (개체명:기대행동)
```

## 개체명 카테고리 (핵심만)
### 추출 대상
- **제품/서비스**: 구체적 제품명, 서비스명
- **핵심 혜택**: 금전적 혜택, 사은품, 할인
- **시작점**: 매장, 온라인몰, 앱 등

### 제외 대상
- 광고 대상자, 일정/기간, 법적 고지

## 기대 행동 (7개 핵심 동사)
`방문, 가입, 구매, 사용, 확인, 수령, 적립`

## 관계 동사 (3개 유형)
- **조건**: `가입하면`, `구매하면`, `방문하면`
- **결과**: `받다`, `수령하다`
- **경로**: `통해`, `이용하여`

## 고속 추출 프로세스 (3단계)

### Step 1: 즉시 패턴 인식 (10초)
```
💡 빠른 스캔:
1. 시작점 찾기: [매장명/온라인/앱 중 하나 선택]
2. 핵심 행동 찾기: [가입/구매/사용 중 주요 행동]
3. 최종 혜택 찾기: [고객이 받는 구체적 혜택]

즉시 판단: 단일 Root vs 복수 Root?
- 단일: 하나의 명확한 시작점
- 복수: 온라인+오프라인 또는 서로 다른 혜택
```

### Step 2: 직선적 연결 (10초)
```
💡 간단 연결:
시작점 → 중간 행동 → 최종 혜택

연결 논리 체크:
- 시간 순서 맞나? (Y/N)
- 조건-결과 명확한가? (Y/N)
- 고객이 실제 따를 경로인가? (Y/N)

문제 있으면 즉시 수정, 없으면 완료
```

### Step 3: 빠른 검증 (10초)
```
💡 필수 체크만:
□ Root Node 명확한가?
□ 모든 핵심 혜택 포함됐나?
□ 불필요한 노드 있나?
□ 실제 고객 행동과 일치하나?

4개 중 3개 이상 ✓면 완료
문제 있는 항목만 즉시 수정
```

## 간소화된 출력 형식

### 1. 핵심 분석 (1-2줄)
```
[메시지 유형]: 제품출시/혜택안내/이벤트/매장안내
[핵심 의도]: 한 문장 요약
```

### 2. 최종 DAG
```
[완성된 DAG 구조]
```

### 3. 간단 검증 (선택사항)
```
[체크 결과]: ✓✓✓□ (4개 중 3개 통과)
[수정 사항]: 있다면 간단히 기술
```

## 성능 최적화 지침

### 속도 우선 원칙
1. **첫 직감을 믿어라**: 복잡한 추론보다 패턴 인식
2. **완벽보다 완성**: 80% 정확도로 빠르게 완료
3. **단순한 구조**: 복잡한 분기보다 직선적 흐름
4. **즉시 결정**: 3초 이상 고민 금지

### 시간 분배
- Step 1 (패턴 인식): 10초
- Step 2 (연결 구성): 10초  
- Step 3 (빠른 검증): 10초
- **총 목표 시간: 30초**

### 품질 vs 속도 균형
- **필수 품질**: Root Node, 핵심 흐름, 주요 혜택
- **생략 가능**: 세부 분석, 대안 탐색, 깊은 성찰
- **타협점**: 90% 케이스에서 충분한 품질을 30초 내 달성

## 고속 처리 예시

### 입력 메시지 (예시)
"[SKT] 갤럭시 S25 매장 방문 시 50만원 할인! T월드 강남점에서 상담받고 구매하면 추가 사은품까지!"

### Step 1: 즉시 패턴 인식 (5초)
- 시작점: T월드강남점 (매장)
- 핵심 행동: 방문 → 상담 → 구매
- 최종 혜택: 50만원할인 + 사은품
- Root: 단일 (매장 중심)

### Step 2: 직선적 연결 (5초)
```
(T월드강남점:방문) -[방문하여]-> (갤럭시S25:구매)
(갤럭시S25:구매) -[구매시]-> (50만원할인:수령)
(갤럭시S25:구매) -[구매시]-> (사은품:수령)
```

### Step 3: 빠른 검증 (5초)
- ✓ Root Node 명확 (T월드강남점:방문)
- ✓ 핵심 혜택 포함 (할인+사은품)
- ✓ 불필요 노드 없음
- ✓ 실제 고객 행동 일치
→ 완료!

**총 소요 시간: 15초**

## 실행 지침

1. **타이머 설정**: 각 단계별 시간 제한 엄수
2. **직감 우선**: 첫 번째 떠오른 구조를 기본으로
3. **완벽주의 금지**: 80% 정확도면 충분
4. **즉시 출력**: 고민보다 실행

**목표: 품질을 크게 해치지 않으면서 처리 시간을 1/3로 단축**

## message:
{msg}
