2025-12-18 19:22:59,290 - __main__ - INFO - ë¡œê·¸ ë ˆë²¨ ì„¤ì •: DEBUG
2025-12-18 19:22:59,290 - __main__ - INFO - ğŸ”§ --storage ì˜µì…˜: local
2025-12-18 19:22:59,290 - __main__ - INFO - ğŸ”§ í™˜ê²½ë³€ìˆ˜ DAG_STORAGE_MODE ì„¤ì •: local
2025-12-18 19:22:59,291 - __main__ - INFO - ğŸ“ DAG ì €ì¥ ëª¨ë“œ: local - API server provides images (URL: API server IP)
2025-12-18 19:22:59,291 - __main__ - INFO - ğŸ“‚ DAG ì €ì¥ ê²½ë¡œ: dag_images
2025-12-18 19:22:59,291 - __main__ - INFO - ğŸŒ ë¡œì»¬ ì„œë²„ URL: http://192.168.0.251:8000
2025-12-18 19:22:59,291 - __main__ - INFO - CLI ë°ì´í„° ì†ŒìŠ¤ ì„¤ì •: db
2025-12-18 19:22:59,291 - __main__ - INFO - ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì¤‘...
2025-12-18 19:22:59,291 - __main__ - INFO - ë°ì´í„° ì†ŒìŠ¤ë¡œ ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì¤‘: db
2025-12-18 19:22:59,291 - core.mms_extractor - INFO - ğŸš€ MMSExtractor ì´ˆê¸°í™” ì‹œì‘
2025-12-18 19:22:59,291 - core.mms_extractor - INFO - âš™ï¸ ê¸°ë³¸ ì„¤ì • ì ìš© ì¤‘...
2025-12-18 19:22:59,291 - core.mms_extractor - INFO - ğŸ¯ DAG ì¶”ì¶œ ëª¨ë“œ í™œì„±í™”ë¨
2025-12-18 19:22:59,291 - core.mms_extractor - INFO - ğŸ”‘ í™˜ê²½ë³€ìˆ˜ ë¡œë“œ ì¤‘...
2025-12-18 19:22:59,293 - core.mms_extractor - INFO - ğŸ’» ë””ë°”ì´ìŠ¤ ì„¤ì • ì¤‘...
2025-12-18 19:22:59,337 - core.mms_extractor - INFO - Using device: mps
2025-12-18 19:22:59,337 - utils.common_utils - INFO - _initialize_device ì‹¤í–‰ì™„ë£Œ: 0.04ì´ˆ
2025-12-18 19:22:59,337 - core.mms_extractor - INFO - ğŸ¤– LLM ëª¨ë¸ ì´ˆê¸°í™” ì¤‘...
2025-12-18 19:22:59,337 - core.mms_extractor - INFO - LLM ì´ˆê¸°í™” ì™„ë£Œ: gemini (gcp/gemini-2.5-flash)
2025-12-18 19:22:59,337 - utils.common_utils - INFO - _initialize_llm ì‹¤í–‰ì™„ë£Œ: 0.00ì´ˆ
2025-12-18 19:22:59,337 - core.mms_extractor - INFO - ğŸ§  ì„ë² ë”© ëª¨ë¸ ë¡œë“œ ì¤‘...
2025-12-18 19:22:59,337 - utils.nlp_utils - INFO - Loading model from ./models/ko-sbert-nli...
2025-12-18 19:22:59,338 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-12-18 19:22:59,338 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-12-18 19:22:59,797 - utils.nlp_utils - INFO - Model loaded on mps
2025-12-18 19:22:59,797 - utils.common_utils - INFO - _initialize_embedding_model ì‹¤í–‰ì™„ë£Œ: 0.46ì´ˆ
2025-12-18 19:22:59,797 - core.mms_extractor - INFO - ğŸ“ NLP ë„êµ¬ (Kiwi) ì´ˆê¸°í™” ì¤‘...
2025-12-18 19:23:00,383 - core.mms_extractor - INFO - Kiwi í˜•íƒœì†Œ ë¶„ì„ê¸° ì´ˆê¸°í™” ì™„ë£Œ
2025-12-18 19:23:00,383 - utils.common_utils - INFO - _initialize_kiwi ì‹¤í–‰ì™„ë£Œ: 0.59ì´ˆ
2025-12-18 19:23:00,383 - core.mms_extractor - INFO - ğŸ“ ë°ì´í„° ë¡œë“œ ì¤‘...
2025-12-18 19:23:00,383 - core.mms_extractor - INFO - ============================================================
2025-12-18 19:23:00,383 - core.mms_extractor - INFO - ğŸ“Š ë°ì´í„° ë¡œë”© ì‹œì‘
2025-12-18 19:23:00,383 - core.mms_extractor - INFO - ============================================================
2025-12-18 19:23:00,384 - core.mms_extractor - INFO - ë°ì´í„° ì†ŒìŠ¤ ëª¨ë“œ: db
2025-12-18 19:23:00,384 - core.mms_extractor - INFO - 1ï¸âƒ£ ìƒí’ˆ ì •ë³´ ë¡œë“œ ë° ì¤€ë¹„ ì¤‘...
2025-12-18 19:23:00,384 - core.mms_extractor - ERROR - ItemDataLoader ì‹¤í–‰ ì‹¤íŒ¨: 'MMSExtractor' object has no attribute '_load_offer_info_from_db'
2025-12-18 19:23:00,386 - core.mms_extractor - ERROR - ì˜¤ë¥˜ ìƒì„¸: Traceback (most recent call last):
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/core/mms_extractor.py", line 676, in _load_item_data
    db_loader=self._load_offer_info_from_db if self.offer_info_data_src == 'db' else None
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MMSExtractor' object has no attribute '_load_offer_info_from_db'

2025-12-18 19:23:00,387 - core.mms_extractor - WARNING - ë¹ˆ DataFrameìœ¼ë¡œ fallback ì„¤ì •ë¨
2025-12-18 19:23:00,387 - core.mms_extractor - INFO - ìƒí’ˆ ì •ë³´ ìµœì¢… ë°ì´í„° í¬ê¸°: (0, 5)
2025-12-18 19:23:00,387 - core.mms_extractor - INFO - ìƒí’ˆ ì •ë³´ ì»¬ëŸ¼ë“¤: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_nm_alias']
2025-12-18 19:23:00,387 - core.mms_extractor - INFO - 2ï¸âƒ£ ì •ì§€ì–´ ë¡œë“œ ì¤‘...
2025-12-18 19:23:00,388 - core.mms_extractor - INFO - ì •ì§€ì–´ ë¡œë“œ ì™„ë£Œ: 204ê°œ
2025-12-18 19:23:00,388 - core.mms_extractor - INFO - ë¡œë“œëœ ì •ì§€ì–´ ìˆ˜: 204ê°œ
2025-12-18 19:23:00,388 - core.mms_extractor - INFO - 3ï¸âƒ£ Kiwiì— ìƒí’ˆëª… ë“±ë¡ ì¤‘...
2025-12-18 19:23:00,388 - core.mms_extractor - INFO - === Kiwiì— ìƒí’ˆëª… ë“±ë¡ ì‹œì‘ ===
2025-12-18 19:23:00,389 - core.mms_extractor - INFO - ë“±ë¡í•  ê³ ìœ  ë³„ì¹­ ìˆ˜: 0ê°œ
2025-12-18 19:23:00,389 - core.mms_extractor - INFO - ìœ íš¨í•œ ë³„ì¹­ ìˆ˜: 0ê°œ
2025-12-18 19:23:00,389 - core.mms_extractor - INFO - Kiwiì— ìƒí’ˆëª… ë“±ë¡ ì™„ë£Œ: 0ê°œ ì„±ê³µ, 0ê°œ ì‹¤íŒ¨
2025-12-18 19:23:00,389 - core.mms_extractor - INFO - 4ï¸âƒ£ í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë“œ ì¤‘...
2025-12-18 19:23:00,389 - core.mms_extractor - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë”© ì‹œì‘...
2025-12-18 19:23:00,389 - utils.db_utils - INFO - === ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë“œ ì‹œì‘ ===
2025-12-18 19:23:00,389 - utils.db_utils - INFO - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° context manager ì‹œì‘
2025-12-18 19:23:00,389 - utils.db_utils - INFO - === ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œë„ ì¤‘ ===
2025-12-18 19:23:00,389 - utils.db_utils - INFO - DB ì—°ê²° ì •ë³´:
2025-12-18 19:23:00,389 - utils.db_utils - INFO -   - ì‚¬ìš©ìëª…: apps
2025-12-18 19:23:00,389 - utils.db_utils - INFO -   - ë¹„ë°€ë²ˆí˜¸: **********
2025-12-18 19:23:00,389 - utils.db_utils - INFO -   - í˜¸ìŠ¤íŠ¸: 150.2.181.115
2025-12-18 19:23:00,389 - utils.db_utils - INFO -   - í¬íŠ¸: 1531
2025-12-18 19:23:00,389 - utils.db_utils - INFO -   - ì„œë¹„ìŠ¤ëª…: NTOSDEV
2025-12-18 19:23:00,389 - utils.db_utils - INFO - DSN ìƒì„± ì¤‘: 150.2.181.115:1531/NTOSDEV
2025-12-18 19:23:00,389 - utils.db_utils - INFO - DSN ìƒì„± ì„±ê³µ: (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=150.2.181.115)(PORT=1531))(CONNECT_DATA=(SERVICE_NAME=NTOSDEV)))
2025-12-18 19:23:00,389 - utils.db_utils - INFO - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œë„ ì¤‘...
2025-12-18 19:23:00,395 - utils.db_utils - ERROR - Oracle ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜:
2025-12-18 19:23:00,395 - utils.db_utils - ERROR -   - ì˜¤ë¥˜ ì½”ë“œ: 0
2025-12-18 19:23:00,395 - utils.db_utils - ERROR -   - ì˜¤ë¥˜ ë©”ì‹œì§€: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-18 19:23:00,395 - utils.db_utils - ERROR -   - ì „ì²´ ì˜¤ë¥˜: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-18 19:23:00,396 - utils.db_utils - ERROR - ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… ì¤‘ ì˜¤ë¥˜: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-18 19:23:00,396 - utils.db_utils - ERROR - ì˜¤ë¥˜ íƒ€ì…: DatabaseError
2025-12-18 19:23:00,397 - utils.db_utils - ERROR - ì˜¤ë¥˜ ìƒì„¸: Traceback (most recent call last):
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 119, in database_connection
    conn = get_database_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 72, in get_database_connection
    conn = cx_Oracle.connect(user=username, password=password, dsn=dsn, encoding="UTF-8")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
cx_Oracle.DatabaseError: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help

2025-12-18 19:23:00,397 - utils.db_utils - WARNING - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
2025-12-18 19:23:00,397 - utils.db_utils - ERROR - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë°ì´í„°ë² ì´ìŠ¤ ë¡œë“œ ì‹¤íŒ¨: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-18 19:23:00,398 - utils.db_utils - ERROR - ì˜¤ë¥˜ ìƒì„¸: Traceback (most recent call last):
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 153, in load_program_from_database
    with database_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.12/3.12.11_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 137, in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 119, in database_connection
    conn = get_database_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 72, in get_database_connection
    conn = cx_Oracle.connect(user=username, password=password, dsn=dsn, encoding="UTF-8")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
cx_Oracle.DatabaseError: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help

2025-12-18 19:23:00,398 - core.mms_extractor - INFO - ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í”„ë¡œê·¸ë¨ ì •ë³´ ë¡œë“œ: 0ê°œ
2025-12-18 19:23:00,398 - core.mms_extractor - WARNING - í”„ë¡œê·¸ë¨ ë°ì´í„°ê°€ ë¹„ì–´ìˆì–´ ì„ë² ë”©ì„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
2025-12-18 19:23:00,398 - core.mms_extractor - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë“œ í›„ ë°ì´í„° í¬ê¸°: (0, 3)
2025-12-18 19:23:00,398 - core.mms_extractor - INFO - 5ï¸âƒ£ ì¡°ì§ ì •ë³´ ë¡œë“œ ì¤‘...
2025-12-18 19:23:00,398 - core.mms_extractor - INFO - === ì¡°ì§ ì •ë³´ ë¡œë“œ ì‹œì‘ (ëª¨ë“œ: db) ===
2025-12-18 19:23:00,398 - core.mms_extractor - INFO - ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°ì§ ì •ë³´ ë¡œë“œ ì¤‘...
2025-12-18 19:23:00,398 - utils.db_utils - INFO - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œë„ ì¤‘...
2025-12-18 19:23:00,398 - utils.db_utils - INFO - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° context manager ì‹œì‘
2025-12-18 19:23:00,398 - utils.db_utils - INFO - === ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œë„ ì¤‘ ===
2025-12-18 19:23:00,398 - utils.db_utils - INFO - DB ì—°ê²° ì •ë³´:
2025-12-18 19:23:00,398 - utils.db_utils - INFO -   - ì‚¬ìš©ìëª…: apps
2025-12-18 19:23:00,398 - utils.db_utils - INFO -   - ë¹„ë°€ë²ˆí˜¸: **********
2025-12-18 19:23:00,398 - utils.db_utils - INFO -   - í˜¸ìŠ¤íŠ¸: 150.2.181.115
2025-12-18 19:23:00,398 - utils.db_utils - INFO -   - í¬íŠ¸: 1531
2025-12-18 19:23:00,398 - utils.db_utils - INFO -   - ì„œë¹„ìŠ¤ëª…: NTOSDEV
2025-12-18 19:23:00,399 - utils.db_utils - INFO - DSN ìƒì„± ì¤‘: 150.2.181.115:1531/NTOSDEV
2025-12-18 19:23:00,399 - utils.db_utils - INFO - DSN ìƒì„± ì„±ê³µ: (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=150.2.181.115)(PORT=1531))(CONNECT_DATA=(SERVICE_NAME=NTOSDEV)))
2025-12-18 19:23:00,399 - utils.db_utils - INFO - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œë„ ì¤‘...
2025-12-18 19:23:00,425 - utils.db_utils - ERROR - Oracle ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜:
2025-12-18 19:23:00,425 - utils.db_utils - ERROR -   - ì˜¤ë¥˜ ì½”ë“œ: 0
2025-12-18 19:23:00,425 - utils.db_utils - ERROR -   - ì˜¤ë¥˜ ë©”ì‹œì§€: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-18 19:23:00,425 - utils.db_utils - ERROR -   - ì „ì²´ ì˜¤ë¥˜: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-18 19:23:00,425 - utils.db_utils - ERROR - ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… ì¤‘ ì˜¤ë¥˜: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-18 19:23:00,425 - utils.db_utils - ERROR - ì˜¤ë¥˜ íƒ€ì…: DatabaseError
2025-12-18 19:23:00,425 - utils.db_utils - ERROR - ì˜¤ë¥˜ ìƒì„¸: Traceback (most recent call last):
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 119, in database_connection
    conn = get_database_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 72, in get_database_connection
    conn = cx_Oracle.connect(user=username, password=password, dsn=dsn, encoding="UTF-8")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
cx_Oracle.DatabaseError: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help

2025-12-18 19:23:00,425 - utils.db_utils - WARNING - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
2025-12-18 19:23:00,425 - utils.db_utils - ERROR - DBì—ì„œ ì¡°ì§ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-18 19:23:00,425 - utils.db_utils - ERROR - DB ì¡°ì§ ë¡œë“œ ì˜¤ë¥˜ ìƒì„¸: Traceback (most recent call last):
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 218, in load_org_from_database
    with database_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.12/3.12.11_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 137, in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 119, in database_connection
    conn = get_database_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 72, in get_database_connection
    conn = cx_Oracle.connect(user=username, password=password, dsn=dsn, encoding="UTF-8")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
cx_Oracle.DatabaseError: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help

2025-12-18 19:23:00,426 - core.mms_extractor - INFO - === ì¡°ì§ ì •ë³´ ë¡œë“œ ìµœì¢… ì™„ë£Œ: 0ê°œ ì¡°ì§ ===
2025-12-18 19:23:00,426 - core.mms_extractor - INFO - ìµœì¢… ì¡°ì§ ë°ì´í„° ìŠ¤í‚¤ë§ˆ: ['item_nm', 'item_id', 'item_desc', 'item_dmn']
2025-12-18 19:23:00,426 - core.mms_extractor - WARNING - ì¡°ì§ ë°ì´í„°ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. ì¡°ì§/ë§¤ì¥ ì¶”ì¶œì´ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2025-12-18 19:23:00,426 - core.mms_extractor - INFO - ì¡°ì§ ì •ë³´ ë¡œë“œ í›„ ë°ì´í„° í¬ê¸°: (0, 4)
2025-12-18 19:23:00,426 - core.mms_extractor - INFO - ============================================================
2025-12-18 19:23:00,426 - core.mms_extractor - INFO - ğŸ“‹ ë°ì´í„° ë¡œë”© ì™„ë£Œ - ìµœì¢… ìƒíƒœ ìš”ì•½
2025-12-18 19:23:00,426 - core.mms_extractor - INFO - ============================================================
2025-12-18 19:23:00,426 - core.mms_extractor - INFO - âœ… ìƒí’ˆ ë°ì´í„°: (0, 5)
2025-12-18 19:23:00,426 - core.mms_extractor - INFO - âœ… í”„ë¡œê·¸ë¨ ë°ì´í„°: (0, 3)
2025-12-18 19:23:00,426 - core.mms_extractor - INFO - âœ… ì¡°ì§ ë°ì´í„°: (0, 4)
2025-12-18 19:23:00,426 - core.mms_extractor - INFO - âœ… ì •ì§€ì–´: 204ê°œ
2025-12-18 19:23:00,426 - utils.common_utils - INFO - _load_data ì‹¤í–‰ì™„ë£Œ: 0.04ì´ˆ
2025-12-18 19:23:00,427 - core.mms_extractor - INFO - ğŸ­ LLM Factory ì´ˆê¸°í™” ì¤‘...
2025-12-18 19:23:00,427 - core.mms_extractor - INFO - âœ… LLM Factory ì´ˆê¸°í™” ì™„ë£Œ
2025-12-18 19:23:00,427 - core.mms_extractor - INFO - ğŸ› ï¸ ì„œë¹„ìŠ¤ ì´ˆê¸°í™” ì¤‘...
2025-12-18 19:23:00,427 - core.mms_extractor - INFO - âœ… ì„œë¹„ìŠ¤ ì´ˆê¸°í™” ì™„ë£Œ
2025-12-18 19:23:00,427 - core.mms_extractor - INFO - âš™ï¸ Workflow ì—”ì§„ ì´ˆê¸°í™” ì¤‘...
2025-12-18 19:23:00,427 - core.workflow_core - DEBUG - Added step: InputValidationStep to MMS Extraction Workflow
2025-12-18 19:23:00,427 - core.workflow_core - DEBUG - Added step: EntityExtractionStep to MMS Extraction Workflow
2025-12-18 19:23:00,427 - core.workflow_core - DEBUG - Added step: ProgramClassificationStep to MMS Extraction Workflow
2025-12-18 19:23:00,427 - core.workflow_core - DEBUG - Added step: ContextPreparationStep to MMS Extraction Workflow
2025-12-18 19:23:00,427 - core.workflow_core - DEBUG - Added step: LLMExtractionStep to MMS Extraction Workflow
2025-12-18 19:23:00,427 - core.workflow_core - DEBUG - Added step: ResponseParsingStep to MMS Extraction Workflow
2025-12-18 19:23:00,427 - core.workflow_core - DEBUG - Added step: ResultConstructionStep to MMS Extraction Workflow
2025-12-18 19:23:00,427 - core.workflow_core - DEBUG - Added step: ValidationStep to MMS Extraction Workflow
2025-12-18 19:23:00,427 - core.workflow_core - DEBUG - Added step: DAGExtractionStep to MMS Extraction Workflow
2025-12-18 19:23:00,427 - core.mms_extractor - INFO - ğŸ¯ DAG ì¶”ì¶œ ë‹¨ê³„ ë“±ë¡ë¨
2025-12-18 19:23:00,427 - core.mms_extractor - INFO - âœ… Workflow ì—”ì§„ ì´ˆê¸°í™” ì™„ë£Œ (9ê°œ ë‹¨ê³„)
2025-12-18 19:23:00,427 - core.mms_extractor - INFO - âœ… MMSExtractor ì´ˆê¸°í™” ì™„ë£Œ
2025-12-18 19:23:00,427 - __main__ - INFO - ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì™„ë£Œ
2025-12-18 19:23:00,427 - __main__ - INFO - íŒŒì‹±ëœ ì¸ì: host=0.0.0.0, port=8000, debug=False
2025-12-18 19:23:00,427 - __main__ - INFO - âœ… ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì™„ë£Œ, ìš”ì²­ ì²˜ë¦¬ ì¤€ë¹„ë¨
2025-12-18 19:23:00,427 - __main__ - INFO - MMS ì¶”ì¶œê¸° API ì„œë²„ë¥¼ 0.0.0.0:8000ì—ì„œ ì‹œì‘í•©ë‹ˆë‹¤
2025-12-18 19:23:00,427 - __main__ - INFO - ì‚¬ìš© ê°€ëŠ¥í•œ ì—”ë“œí¬ì¸íŠ¸:
2025-12-18 19:23:00,427 - __main__ - INFO -   GET  /health - í—¬ìŠ¤ì²´í¬
2025-12-18 19:23:00,427 - __main__ - INFO -   GET  /models - ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ ëª©ë¡
2025-12-18 19:23:00,427 - __main__ - INFO -   GET  /status - ì„œë²„ ìƒíƒœ ì¡°íšŒ
2025-12-18 19:23:00,427 - __main__ - INFO -   POST /extract - ë‹¨ì¼ ë©”ì‹œì§€ ì¶”ì¶œ
2025-12-18 19:23:00,427 - __main__ - INFO -   POST /extract/batch - ë‹¤ì¤‘ ë©”ì‹œì§€ ë°°ì¹˜ ì¶”ì¶œ
2025-12-18 19:23:00,427 - __main__ - INFO -   POST /dag - Entity DAG ì¶”ì¶œ
2025-12-18 19:23:00,452 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.251:8000
2025-12-18 19:23:00,452 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-12-18 19:23:57,042 - __main__ - INFO - ğŸ¯ DAG ì¶”ì¶œ ìš”ì²­ë¨ - LLM: ax, ë©”ì‹œì§€ ê¸¸ì´: 202ì
2025-12-18 19:23:57,042 - __main__ - INFO - ğŸ“‹ ë©”ì‹œì§€ ID: test_message_id
2025-12-18 19:23:57,042 - __main__ - INFO - LLM ëª¨ë¸ì´ gemini -> axë¡œ ë³€ê²½ë¨. ì¬ì´ˆê¸°í™” ì¤‘...
2025-12-18 19:23:57,043 - core.mms_extractor - INFO - LLM ì´ˆê¸°í™” ì™„ë£Œ: ax (skt/ax4)
2025-12-18 19:23:57,043 - utils.common_utils - INFO - _initialize_llm ì‹¤í–‰ì™„ë£Œ: 0.00ì´ˆ
2025-12-18 19:23:57,043 - __main__ - INFO - ë°ì´í„° ì†ŒìŠ¤ë¡œ ë©”ì‹œì§€ ì²˜ë¦¬ ì¤‘: db
2025-12-18 19:23:57,043 - __main__ - INFO - DAG ì¶”ì¶œê³¼ í•¨ê»˜ ìˆœì°¨ ì²˜ë¦¬ ì‹œì‘
2025-12-18 19:23:57,043 - utils.prompt_utils - DEBUG - í”„ë¡¬í”„íŠ¸ ì €ì¥ì†Œ ì´ˆê¸°í™”ë¨
2025-12-18 19:23:57,043 - core.mms_extractor - INFO - ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ì—ì„œ ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œì‘: 
(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„...
2025-12-18 19:23:57,043 - core.workflow_core - INFO - ============================================================
2025-12-18 19:23:57,044 - core.workflow_core - INFO - ğŸš€ MMS Extraction Workflow ì‹œì‘
2025-12-18 19:23:57,044 - core.workflow_core - INFO - ============================================================
2025-12-18 19:23:57,044 - core.workflow_core - INFO - 
============================== 1/9: InputValidationStep ==============================
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - ë©”ì‹œì§€ ë‚´ìš©: 
(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504...
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - ë©”ì‹œì§€ ê¸¸ì´: 202 ë¬¸ì
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - === í˜„ì¬ ì¶”ì¶œê¸° ì„¤ì • ===
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - ë°ì´í„° ì†ŒìŠ¤: db
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - ìƒí’ˆ ì •ë³´ ì¶”ì¶œ ëª¨ë“œ: llm
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - ì—”í‹°í‹° ì¶”ì¶œ ëª¨ë“œ: llm
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - LLM ëª¨ë¸: ax
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - ìƒí’ˆ ë°ì´í„° í¬ê¸°: (0, 5)
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ë°ì´í„° í¬ê¸°: (0, 3)
2025-12-18 19:23:57,044 - core.workflow_core - INFO - âœ… InputValidationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-18 19:23:57,044 - core.workflow_core - INFO - 
============================== 2/9: EntityExtractionStep ==============================
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - ğŸ” DB ëª¨ë“œ íŠ¹ë³„ ì§„ë‹¨ ì‹œì‘
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - ìƒí’ˆ ë°ì´í„° ìƒíƒœ: (0, 5)
2025-12-18 19:23:57,044 - core.mms_workflow_steps - INFO - DB ëª¨ë“œ ë³„ì¹­ ë°ì´í„° í’ˆì§ˆ: 0/0 ìœ íš¨
2025-12-18 19:23:57,044 - services.entity_recognizer - INFO - === Kiwi Entity Extraction Started ===
2025-12-18 19:23:57,044 - services.entity_recognizer - INFO - Message length: 199 chars
2025-12-18 19:23:57,044 - services.entity_recognizer - ERROR - Item data is empty! Cannot extract entities.
2025-12-18 19:23:57,045 - utils.common_utils - INFO - extract_entities_hybrid ì‹¤í–‰ì™„ë£Œ: 0.00ì´ˆ
2025-12-18 19:23:57,045 - core.mms_workflow_steps - INFO - ì¶”ì¶œëœ Kiwi ì—”í‹°í‹°: []
2025-12-18 19:23:57,045 - core.mms_workflow_steps - INFO - ì¶”ì¶œëœ í›„ë³´ ì—”í‹°í‹°: []
2025-12-18 19:23:57,045 - core.mms_workflow_steps - INFO - ë§¤ì¹­ëœ ìƒí’ˆ ì •ë³´: (0, 0)
2025-12-18 19:23:57,045 - core.mms_workflow_steps - INFO - ğŸ” DB ëª¨ë“œ ì—”í‹°í‹° ì¶”ì¶œ ê²°ê³¼ ë¶„ì„
2025-12-18 19:23:57,045 - core.mms_workflow_steps - ERROR - ğŸš¨ DB ëª¨ë“œì—ì„œ í›„ë³´ ì—”í‹°í‹°ê°€ ì „í˜€ ì¶”ì¶œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!
2025-12-18 19:23:57,045 - core.mms_workflow_steps - ERROR - ê°€ëŠ¥í•œ ì›ì¸:
2025-12-18 19:23:57,045 - core.mms_workflow_steps - ERROR - 1. ìƒí’ˆ ë°ì´í„°ë² ì´ìŠ¤ì— í•´ë‹¹ ìƒí’ˆì´ ì—†ìŒ
2025-12-18 19:23:57,045 - core.mms_workflow_steps - ERROR - 2. ë³„ì¹­ ê·œì¹™ ì ìš© ì‹¤íŒ¨
2025-12-18 19:23:57,045 - core.mms_workflow_steps - ERROR - 3. ìœ ì‚¬ë„ ì„ê³„ê°’ì´ ë„ˆë¬´ ë†’ìŒ
2025-12-18 19:23:57,045 - core.mms_workflow_steps - ERROR - 4. Kiwi í˜•íƒœì†Œ ë¶„ì„ ì‹¤íŒ¨
2025-12-18 19:23:57,045 - core.workflow_core - INFO - âœ… EntityExtractionStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-18 19:23:57,045 - core.workflow_core - INFO - 
============================== 3/9: ProgramClassificationStep ==============================
2025-12-18 19:23:57,045 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ê²°ê³¼ í‚¤: ['pgm_cand_info', 'similarities']
2025-12-18 19:23:57,045 - core.workflow_core - INFO - âœ… ProgramClassificationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-18 19:23:57,045 - core.workflow_core - INFO - 
============================== 4/9: ContextPreparationStep ==============================
2025-12-18 19:23:57,045 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì»¨í…ìŠ¤íŠ¸ ê¸¸ì´: 22 ë¬¸ì
2025-12-18 19:23:57,045 - core.mms_workflow_steps - WARNING - í›„ë³´ ì•„ì´í…œì´ ì—†ìŠµë‹ˆë‹¤!
2025-12-18 19:23:57,045 - core.mms_workflow_steps - WARNING - ì´ëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì˜ ë¬¸ì œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
2025-12-18 19:23:57,045 - core.mms_workflow_steps - WARNING - 1. ìƒí’ˆ ë°ì´í„° ë¡œë”© ì‹¤íŒ¨
2025-12-18 19:23:57,045 - core.mms_workflow_steps - WARNING - 2. ì—”í‹°í‹° ì¶”ì¶œ ì‹¤íŒ¨
2025-12-18 19:23:57,045 - core.mms_workflow_steps - WARNING - 3. ìœ ì‚¬ë„ ë§¤ì¹­ ì„ê³„ê°’ ë¬¸ì œ
2025-12-18 19:23:57,045 - core.workflow_core - INFO - âœ… ContextPreparationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-18 19:23:57,045 - core.workflow_core - INFO - 
============================== 5/9: LLMExtractionStep ==============================
2025-12-18 19:23:57,046 - core.mms_extractor - DEBUG - LLM ëª¨ë“œ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 6445 ë¬¸ì
2025-12-18 19:23:57,046 - core.mms_extractor - DEBUG - í›„ë³´ ìƒí’ˆ ëª©ë¡ í¬í•¨ ì—¬ë¶€: False
2025-12-18 19:23:57,046 - core.mms_workflow_steps - INFO - êµ¬ì„±ëœ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 6445 ë¬¸ì
2025-12-18 19:23:57,046 - core.mms_workflow_steps - INFO - RAG ì»¨í…ìŠ¤íŠ¸ í¬í•¨ ì—¬ë¶€: False
2025-12-18 19:23:57,046 - utils.prompt_utils - INFO - ğŸ“ í”„ë¡¬í”„íŠ¸ ì €ì¥ë¨: main_extraction_prompt
2025-12-18 19:23:57,046 - utils.prompt_utils - INFO - ğŸ“ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 6,445 ë¬¸ì
2025-12-18 19:23:57,050 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-1e12df36-9347-40c0-b168-20ae6a70ff94', 'json_data': {'messages': [{'content': '\nExtract the advertisement purpose and product names from the provided advertisement text.\n\n### Advertisement Message ###\n(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n\n### Extraction Steps ###\n\n1. Identify the advertisement\'s purpose first, using expressions as they appear in the original text.\n2. Extract ONLY explicitly mentioned product/service names from the text, using exact original expressions.\n3. For each product, assign a standardized action from: [êµ¬ë§¤, ê°€ì…, ì‚¬ìš©, ë°©ë¬¸, ì°¸ì—¬, ì½”ë“œì…ë ¥, ì¿ í°ë‹¤ìš´ë¡œë“œ, ê¸°íƒ€].\n4. Avoid inferring or adding products not directly mentioned in the text.\n5. Provide channel information considering the extracted product information, preserving original text expressions.\n\n\n### Extraction Guidelines ###\n\n* For title: Create a concise headline (max 50 characters) in headline style (ê°œì¡°ì‹) that captures the core content, excluding labels like \'(ê´‘ê³ )\', \'[SKT]\' and special characters like __, and prioritizing the most important information (benefits, products, events).\n* Prioritize recall over precision to ensure all relevant products are captured, but verify that each extracted term is a distinct offering.\n* Extract all information (purpose, product, channel, pgm) using the exact expressions as they appear in the original text without translation, as specified in the schema.\n* If the advertisement purpose includes encouraging agency/store visits, provide agency channel information.\n\n\n### ì¼ê´€ì„± ìœ ì§€ ì§€ì¹¨ ###\n* ë™ì¼í•œ ê´‘ê³  ë©”ì‹œì§€ì— ëŒ€í•´ì„œëŠ” í•­ìƒ ë™ì¼í•œ ê²°ê³¼ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n* ì• ë§¤í•œ í‘œí˜„ì´ ìˆì„ ë•ŒëŠ” ê°€ì¥ ëª…í™•í•˜ê³  êµ¬ì²´ì ì¸ í•´ì„ì„ ì„ íƒí•˜ì„¸ìš”.\n* ìƒí’ˆëª…ì€ ì›ë¬¸ì—ì„œ ì •í™•íˆ ì–¸ê¸‰ëœ í‘œí˜„ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.\n\n\n\nReturn your response as a JSON object that follows this exact structure:\n\n{\n    "title": "Extract a concise title summarizing the key content of the advertisement in one sentence (max 50 characters). Guidelines: (1) Clearly capture the core content (benefits, products, events, etc.), (2) Write concisely in one sentence, (3) Exclude labels like \'(ê´‘ê³ )\', \'[SKT]\', (4) Remove special characters (__, etc.) and create a natural sentence, (5) Prioritize the most important information, (6) Use a headline style (ê°œì¡°ì‹).",\n    "purpose": {\n        "type": "array",\n        "items": {\n            "type": "string",\n            "enum": [\n                "ìƒí’ˆ ê°€ì… ìœ ë„",\n                "ëŒ€ë¦¬ì /ë§¤ì¥ ë°©ë¬¸ ìœ ë„",\n                "ì›¹/ì•± ì ‘ì† ìœ ë„",\n                "ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„",\n                "í˜œíƒ ì•ˆë‚´",\n                "ì¿ í° ì œê³µ ì•ˆë‚´",\n                "ê²½í’ˆ ì œê³µ ì•ˆë‚´",\n                "ìˆ˜ì‹  ê±°ë¶€ ì•ˆë‚´",\n                "ê¸°íƒ€ ì •ë³´ ì œê³µ"\n            ]\n        },\n        "description": "Primary purpose(s) of the advertisement."\n    },\n    "sales_script": "Generate an extremely concise sales prompt, intended for display on a call center agent\'s monitor, to be used for a rapid cross-sell immediately after resolving a customer\'s issue. The resulting script/message should be highly condensed, containing only the absolute essential facts and a clear action cue, and must be easily readable at a glance.",\n    "product": {\n        "type": "array",\n        "items": {\n            "type": "object",\n            "properties": {\n                "name": {\n                    "type": "string",\n                    "description": "Name of the advertised product or service."\n                },\n                "action": {\n                    "type": "string",\n                    "enum": [\n                        "êµ¬ë§¤",\n                        "ê°€ì…",\n                        "ì‚¬ìš©",\n                        "ë°©ë¬¸",\n                        "ì°¸ì—¬",\n                        "ì½”ë“œì…ë ¥",\n                        "ì¿ í°ë‹¤ìš´ë¡œë“œ",\n                        "ê¸°íƒ€"\n                    ],\n                    "description": "Expected customer action for the product."\n                }\n            }\n        },\n        "description": "Extract all product names from the advertisement."\n    },\n    "channel": {\n        "type": "array",\n        "items": {\n            "type": "object",\n            "properties": {\n                "type": {\n                    "type": "string",\n                    "enum": [\n                        "URL",\n                        "ì „í™”ë²ˆí˜¸",\n                        "ì•±",\n                        "ëŒ€ë¦¬ì ",\n                        "ì˜¨ë¼ì¸ìŠ¤í† ì–´"\n                    ],\n                    "description": "Channel type."\n                },\n                "value": {\n                    "type": "string",\n                    "description": "Specific information for the channel. ëŒ€ë¦¬ì ì¸ ê²½ìš° ***ì ìœ¼ë¡œ í‘œì‹œë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ"\n                },\n                "action": {\n                    "type": "string",\n                    "enum": [\n                        "ê°€ì…",\n                        "ì¶”ê°€ ì •ë³´",\n                        "ë¬¸ì˜",\n                        "ìˆ˜ì‹ ",\n                        "ìˆ˜ì‹  ê±°ë¶€"\n                    ],\n                    "description": "Purpose of the channel."\n                }\n            }\n        },\n        "description": "Channels provided in the advertisement."\n    },\n    "pgm": {\n        "type": "array",\n        "items": {\n            "type": "string"\n        },\n        "description": "Select the two most relevant pgm_nm from the advertising classification criteria."\n    }\n}\n\nIMPORTANT: \n- Do NOT return the schema definition itself\n- Return actual extracted data in the specified format\n- For "purpose": return an array of strings from the enum values\n- For "sales_script": return a concise string for call center agents\n- For "product": return an array of objects with "name" and "action" fields\n- For "channel": return an array of objects with "type", "value", and "action" fields\n- For "pgm": return an array of strings\n\nExample response format:\n{\n    "title": "ì•„ì´í° ì‹ ì œí’ˆ ì¶œì‹œ ê¸°ë… ìµœëŒ€ 70% í• ì¸ í˜œíƒ",\n    "purpose": ["ìƒí’ˆ ê°€ì… ìœ ë„", "í˜œíƒ ì•ˆë‚´"],\n    "sales_script": "ì•„ì´í° ì‹ ì œí’ˆ ì¶œì‹œ ê¸°ë…! í‹°ì›ëŒ€ë¦¬ì  í™”ìˆœì  ë°©ë¬¸ ì‹œ ìµœëŒ€ 70% í• ì¸. ì§€ê¸ˆ ë°”ë¡œ ì•ˆë‚´ë“œë¦´ê¹Œìš”?",\n    "product": [\n        {"name": "ì‹¤ì œ ìƒí’ˆëª…", "action": "ê°€ì…"},\n        {"name": "ë‹¤ë¥¸ ìƒí’ˆëª…", "action": "êµ¬ë§¤"}\n    ],\n    "channel": [\n        {"type": "URL", "value": "ì‹¤ì œ URL", "action": "ê°€ì…"}\n    ],\n    "pgm": ["ì‹¤ì œ í”„ë¡œê·¸ë¨ëª…"]\n}\n\n\n### OUTPUT FORMAT REQUIREMENT ###\nYou MUST respond with a valid JSON object containing actual extracted data.\nDo NOT include schema definitions, type specifications, or template structures.\nReturn only the concrete extracted information in the specified JSON format.\n\n\n### ê´‘ê³  ë¶„ë¥˜ ê¸°ì¤€ ì •ë³´ ###\n\t\n\n### FINAL REMINDER ###\nReturn a JSON object with actual data, not schema definitions!\n', 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-12-18 19:23:57,176 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-18 19:23:57,176 - httpcore.connection - DEBUG - connect_tcp.started host='api.platform.a15t.com' port=443 local_address=None timeout=None socket_options=None
2025-12-18 19:23:57,188 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x15fbf5e20>
2025-12-18 19:23:57,188 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x15e4d8450> server_hostname='api.platform.a15t.com' timeout=None
2025-12-18 19:23:57,211 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x15fb0ff50>
2025-12-18 19:23:57,211 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-18 19:23:57,212 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-18 19:23:57,212 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-18 19:23:57,212 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-18 19:23:57,212 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-18 19:24:02,882 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 18 Dec 2025 10:24:02 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1625'), (b'Connection', b'keep-alive'), (b'x-request-id', b'730045ae-59b7-4624-9d04-059d671e07b9')])
2025-12-18 19:24:02,886 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-18 19:24:02,887 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-18 19:24:02,887 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-18 19:24:02,888 - httpcore.http11 - DEBUG - response_closed.started
2025-12-18 19:24:02,888 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-18 19:24:02,889 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 18 Dec 2025 10:24:02 GMT', 'content-type': 'application/json', 'content-length': '1625', 'connection': 'keep-alive', 'x-request-id': '730045ae-59b7-4624-9d04-059d671e07b9'})
2025-12-18 19:24:02,890 - openai._base_client - DEBUG - request_id: 730045ae-59b7-4624-9d04-059d671e07b9
2025-12-18 19:24:02,907 - core.mms_workflow_steps - INFO - LLM ì‘ë‹µ ê¸¸ì´: 797 ë¬¸ì
2025-12-18 19:24:02,907 - core.mms_workflow_steps - INFO - LLM ì‘ë‹µ ë‚´ìš© (ì²˜ìŒ 500ì): ```json
{
    "title": "ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ ì´ë²¤íŠ¸, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨",
    "purpose": [
        "í˜œíƒ ì•ˆë‚´",
        "ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„"
    ],
    "sales_script": "ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì´ë²¤íŠ¸! ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ì•ˆë‚´",
    "product": [
        {
            "name": "ì•„ì´í°",
            "action": "êµ¬ë§¤"
        },
        {
            "name": "ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ",
            "action": "ê¸°íƒ€"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "https://bit.ly/467rn3q",
            "action": "ì¶”ê°€ ì •ë³´"
        },
 ...
2025-12-18 19:24:02,907 - core.workflow_core - INFO - âœ… LLMExtractionStep ì™„ë£Œ (5.86ì´ˆ)
2025-12-18 19:24:02,907 - core.workflow_core - INFO - 
============================== 6/9: ResponseParsingStep ==============================
2025-12-18 19:24:02,907 - core.mms_workflow_steps - INFO - ì¶”ì¶œëœ JSON ê°ì²´ ìˆ˜: 1ê°œ
2025-12-18 19:24:02,907 - core.mms_workflow_steps - INFO - íŒŒì‹±ëœ JSON ê°ì²´ í‚¤: ['title', 'purpose', 'sales_script', 'product', 'channel', 'pgm']
2025-12-18 19:24:02,907 - core.mms_workflow_steps - INFO - íŒŒì‹±ëœ JSON ë‚´ìš©: {'title': 'ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ ì´ë²¤íŠ¸, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨', 'purpose': ['í˜œíƒ ì•ˆë‚´', 'ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„'], 'sales_script': 'ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì´ë²¤íŠ¸! ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ì•ˆë‚´', 'product': [{'name': 'ì•„ì´í°', 'action': 'êµ¬ë§¤'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ê¸°íƒ€'}], 'channel': [{'type': 'URL', 'value': 'https://bit.ly/467rn3q', 'action': 'ì¶”ê°€ ì •ë³´'}, {'type': 'ì „í™”ë²ˆí˜¸', 'value': 'SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)', 'action': 'ë¬¸ì˜'}, {'type': 'ì „í™”ë²ˆí˜¸', 'value': '1504', 'action': 'ìˆ˜ì‹  ê±°ë¶€'}], 'pgm': ['ì´ë²¤íŠ¸/í”„ë¡œëª¨ì…˜', 'ë©¤ë²„ì‹­/í¬ì¸íŠ¸/ì¿ í°']}
2025-12-18 19:24:02,908 - core.workflow_core - INFO - âœ… ResponseParsingStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-18 19:24:02,908 - core.workflow_core - INFO - 
============================== 7/9: ResultConstructionStep ==============================
2025-12-18 19:24:02,908 - services.result_builder - INFO - ================================================================================
2025-12-18 19:24:02,908 - services.result_builder - INFO - ğŸ” [PRODUCT DEBUG] build_extraction_result ì‹œì‘
2025-12-18 19:24:02,908 - services.result_builder - INFO - ================================================================================
2025-12-18 19:24:02,908 - services.result_builder - INFO - ğŸ“‹ [STEP 1] product_items ì¶”ì¶œ
2025-12-18 19:24:02,908 - services.result_builder - INFO -    - ì›ë³¸ product íƒ€ì…: <class 'list'>
2025-12-18 19:24:02,908 - services.result_builder - INFO -    - ì›ë³¸ product ë‚´ìš©: [{'name': 'ì•„ì´í°', 'action': 'êµ¬ë§¤'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ê¸°íƒ€'}]
2025-12-18 19:24:02,908 - services.result_builder - INFO -    âœ… ìµœì¢… product_items ê°œìˆ˜: 2ê°œ
2025-12-18 19:24:02,908 - services.result_builder - INFO -    âœ… ìµœì¢… product_items ë‚´ìš©: [{'name': 'ì•„ì´í°', 'action': 'êµ¬ë§¤'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ê¸°íƒ€'}]
2025-12-18 19:24:02,908 - services.result_builder - INFO - ğŸ“‹ [STEP 2] LLM ì¶”ì¶œ ì—”í‹°í‹°: ['ì•„ì´í°', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ']
2025-12-18 19:24:02,908 - services.result_builder - INFO - ğŸ“‹ [STEP 2] Kiwi ì—”í‹°í‹°: []
2025-12-18 19:24:02,908 - services.result_builder - INFO - ğŸ“‹ [STEP 2] entity_extraction_mode: llm
2025-12-18 19:24:02,908 - services.result_builder - INFO - ğŸ” [STEP 3] LLM ê¸°ë°˜ ì—”í‹°í‹° ë§¤ì¹­ ì‹œì‘
2025-12-18 19:24:02,908 - services.result_builder - INFO -    - ì‚¬ìš©í•  LLM ëª¨ë¸: ax
2025-12-18 19:24:02,908 - services.result_builder - INFO -    - llm_factory íƒ€ì…: <class 'utils.llm_factory.LLMFactory'>
2025-12-18 19:24:02,909 - utils.llm_factory - INFO - âœ… LLM ëª¨ë¸ ìƒì„± ì™„ë£Œ: ax (skt/ax4)
2025-12-18 19:24:02,909 - utils.llm_factory - INFO - âœ… ì´ 1ê°œ LLM ëª¨ë¸ ìƒì„± ì™„ë£Œ
2025-12-18 19:24:02,909 - services.result_builder - INFO -    - ì´ˆê¸°í™”ëœ LLM ëª¨ë¸ ìˆ˜: 1ê°œ
2025-12-18 19:24:02,910 - services.result_builder - INFO -    - ì´ˆê¸°í™”ëœ LLM ëª¨ë¸ ìˆ˜: 1ê°œ
2025-12-18 19:24:02,910 - services.entity_recognizer - INFO - === LLM Entity Extraction Started ===
2025-12-18 19:24:02,910 - services.entity_recognizer - INFO - Context mode: dag
2025-12-18 19:24:02,912 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4312514e-fcdf-4ced-b976-4a0b87a5980a', 'json_data': {'messages': [{'content': '\n                    \n                    \nAnalyze the advertisement to extract **User Action Paths**.\nOutput two distinct sections:\n1. **ENTITY**: A list of independent Root Nodes.\n2. **DAG**: A structured graph representing the flow from Root to Benefit.\n\n## Crucial Language Rule\n* **DO NOT TRANSLATE:** Extract entities **exactly as they appear** in the source text.\n* **Preserve Original Script:** If the text says "ì•„ì´í° 17", output "ì•„ì´í° 17" (NOT "iPhone 17"). If it says "T Day", output "T Day".\n\n## Part 1: Root Node Selection Hierarchy (Extract ALL Distinct Roots)\nIdentify logical starting points based on this priority. If multiple independent offers exist, extract all.\n\n1.  **Physical Store (Highest):** Specific branch names.\n    * *Match:* "ìƒˆìƒ˜ëŒ€ë¦¬ì  ì—­ê³¡ì ", "ë°±ìƒ‰ëŒ€ë¦¬ì  ìˆ˜ì„±ì§ì˜ì "\n2.  **Core Service (Plans/VAS):** Rate plans, Value-Added Services, Internet/IPTV.\n    * *Match:* "5GX í”„ë¼ì„ ìš”ê¸ˆì œ", "Vì»¬ëŸ¬ë§", "ë¡œë° baro ìš”ê¸ˆì œ"\n3.  **Subscription/Event:** Membership signups or specific campaigns.\n    * *Match:* "T ìš°ì£¼", "T Day", "0 day", "ê³¨ë“œë²ˆí˜¸ í”„ë¡œëª¨ì…˜"\n4.  **App/Platform:** Apps requiring action.\n    * *Match:* "A.(ì—ì´ë‹·)", "PASS ì•±", "T world"\n5.  **Product (Hardware):** Device launches without a specific store focus.\n    * *Match:* "iPhone 17", "ê°¤ëŸ­ì‹œ Z í”Œë¦½7"\n\n## Part 2: DAG Construction Rules\nConstruct a Directed Acyclic Graph (DAG) for each identified Root Node.\n* **Format:** `(Node:Action) -[Edge]-> (Node:Action)`\n* **Nodes:**\n    * **Root:** The entry point identified above (Original Text).\n    * **Core:** The product/service being used or bought (Original Text).\n    * **Value:** The final reward or benefit (Original Text).\n* **Edges:**\n    * **Definition:** A verb describing the relationship between two nodes.\n    * **Purpose:** Represents the action or transition from one node to the next.\n    * **Examples:**\n        * `ê°€ì…` (subscribe), `êµ¬ë§¤` (purchase), `ì‚¬ìš©` (use)\n        * `íšë“` (obtain), `ì œê³µ` (provide), `ì§€ê¸‰` (grant)\n        * `ë°©ë¬¸` (visit), `ë‹¤ìš´ë¡œë“œ` (download), `ì‹ ì²­` (apply)\n    * **Guidelines:** Use concise action verbs that clearly describe how the user moves from one step to the next in the flow.\n* **Logic:** Represent the shortest path from the Root action to the Final Benefit.\n\n## Strict Exclusions\n* Ignore navigational labels (\'ë°”ë¡œ ê°€ê¸°\', \'ë§í¬\', \'Shortcut\').\n* Ignore generic partners (\'ìŠ¤íƒ€ë²…ìŠ¤\', \'CU\') unless they are the main subscription target.\n\n## Output Format: Do not use Markdown formatting. Use plain text.\nENTITY: <comma-separated list of all Nodes in original text>\nDAG: <DAG representation line by line in original text>\n\n\n## message:\n(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                    \n                    ', 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-18 19:24:02,912 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-18 19:24:02,913 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-18 19:24:02,913 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-18 19:24:02,913 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-18 19:24:02,913 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-18 19:24:02,913 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-18 19:24:04,473 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 18 Dec 2025 10:24:04 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'741'), (b'Connection', b'keep-alive'), (b'x-request-id', b'a450eff0-3bd7-4c4d-aa1f-70ebc0bac6ab')])
2025-12-18 19:24:04,474 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-18 19:24:04,474 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-18 19:24:04,475 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-18 19:24:04,475 - httpcore.http11 - DEBUG - response_closed.started
2025-12-18 19:24:04,475 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-18 19:24:04,475 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 18 Dec 2025 10:24:04 GMT', 'content-type': 'application/json', 'content-length': '741', 'connection': 'keep-alive', 'x-request-id': 'a450eff0-3bd7-4c4d-aa1f-70ebc0bac6ab'})
2025-12-18 19:24:04,475 - openai._base_client - DEBUG - request_id: a450eff0-3bd7-4c4d-aa1f-70ebc0bac6ab
2025-12-18 19:24:04,477 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

Analyze the advertisement to extract **User Action Paths**.
Output two distinct sections:
1. **ENTITY**: A list of independent Root Nodes.
2. **DAG**: A structured graph representing the flow from Root to Benefit.

## Crucial Language Rule
* **DO NOT TRANSLATE:** Extract entities **exactly as they appear** in the source text.
* **Preserve Original Script:** If the text says "ì•„ì´í° 17", output "ì•„ì´í° 17" (NOT "iPhone 17"). If it says "T Day", output "T Day".

## Part 1: Root Node Selection Hierarchy (Extract ALL Distinct Roots)
Identify logical starting points based on this priority. If multiple independent offers exist, extract all.

1.  **Physical Store (Highest):** Specific branch names.
    * *Match:* "ìƒˆìƒ˜ëŒ€ë¦¬ì  ì—­ê³¡ì ", "ë°±ìƒ‰ëŒ€ë¦¬ì  ìˆ˜ì„±ì§ì˜ì "
2.  **Core Service (Plans/VAS):** Rate plans, Value-Added Services, Internet/IPTV.
    * *Match:* "5GX í”„ë¼ì„ ìš”ê¸ˆì œ", "Vì»¬ëŸ¬ë§", "ë¡œë° baro ìš”ê¸ˆì œ"
3.  **Subscription/Event:** Membership signups or specific campaigns.
    * *Match:* "T ìš°ì£¼", "T Day", "0 day", "ê³¨ë“œë²ˆí˜¸ í”„ë¡œëª¨ì…˜"
4.  **App/Platform:** Apps requiring action.
    * *Match:* "A.(ì—ì´ë‹·)", "PASS ì•±", "T world"
5.  **Product (Hardware):** Device launches without a specific store focus.
    * *Match:* "iPhone 17", "ê°¤ëŸ­ì‹œ Z í”Œë¦½7"

## Part 2: DAG Construction Rules
Construct a Directed Acyclic Graph (DAG) for each identified Root Node.
* **Format:** `(Node:Action) -[Edge]-> (Node:Action)`
* **Nodes:**
    * **Root:** The entry point identified above (Original Text).
    * **Core:** The product/service being used or bought (Original Text).
    * **Value:** The final reward or benefit (Original Text).
* **Edges:**
    * **Definition:** A verb describing the relationship between two nodes.
    * **Purpose:** Represents the action or transition from one node to the next.
    * **Examples:**
        * `ê°€ì…` (subscribe), `êµ¬ë§¤` (purchase), `ì‚¬ìš©` (use)
        * `íšë“` (obtain), `ì œê³µ` (provide), `ì§€ê¸‰` (grant)
        * `ë°©ë¬¸` (visit), `ë‹¤ìš´ë¡œë“œ` (download), `ì‹ ì²­` (apply)
    * **Guidelines:** Use concise action verbs that clearly describe how the user moves from one step to the next in the flow.
* **Logic:** Represent the shortest path from the Root action to the Final Benefit.

## Strict Exclusions
* Ignore navigational labels ('ë°”ë¡œ ê°€ê¸°', 'ë§í¬', 'Shortcut').
* Ignore generic partners ('ìŠ¤íƒ€ë²…ìŠ¤', 'CU') unless they are the main subscription target.

## Output Format: Do not use Markdown formatting. Use plain text.
ENTITY: <comma-separated list of all Nodes in original text>
DAG: <DAG representation line by line in original text>


## message:
(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
ENTITY: T Day, ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ, ì‘ëª¨, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›

DAG: (T Day:ì°¸ì—¬) -[ì§„í–‰]-> (ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ:ì°¸ì—¬) -[ì‘ëª¨]-> (ì‘ëª¨:ì°¸ì—¬) -[ì§€ê¸‰]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:íšë“)
----------------------------------------------------------------------------------------------------
2025-12-18 19:24:04,477 - services.entity_recognizer - INFO - [skt/ax4] Extracted 3 entities: ['T Day', 'ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›']
2025-12-18 19:24:04,478 - services.entity_recognizer - INFO - [skt/ax4] Extracted DAG text (82 chars)
2025-12-18 19:24:04,504 - utils.common_utils - INFO - extract_entities_with_llm ì‹¤í–‰ì™„ë£Œ: 1.59ì´ˆ
2025-12-18 19:24:04,505 - services.result_builder - INFO -    âœ… similarities_fuzzy ê²°ê³¼ í¬ê¸°: ë¹„ì–´ìˆìŒ
2025-12-18 19:24:04,505 - services.result_builder - WARNING -    âš ï¸ similarities_fuzzyê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤!
2025-12-18 19:24:04,505 - services.result_builder - INFO - ğŸ” [STEP 6] ìƒí’ˆ ì •ë³´ ë§¤í•‘ ì‹œì‘
2025-12-18 19:24:04,505 - services.result_builder - INFO -    - similarities_fuzzy.empty: True
2025-12-18 19:24:04,505 - services.result_builder - WARNING -    âš ï¸ similarities_fuzzyê°€ ë¹„ì–´ìˆìŒ â†’ LLM ê²°ê³¼ ê·¸ëŒ€ë¡œ ì‚¬ìš© (else ë¸Œëœì¹˜)
2025-12-18 19:24:04,505 - services.result_builder - INFO -    - product_items ê°œìˆ˜: 2ê°œ
2025-12-18 19:24:04,505 - services.result_builder - INFO -    - stop_item_names ê°œìˆ˜: 204ê°œ
2025-12-18 19:24:04,505 - services.result_builder - INFO -    - í•„í„°ë§ í›„ product_items ê°œìˆ˜: 2ê°œ
2025-12-18 19:24:04,505 - services.result_builder - INFO -    - í•„í„°ë§ í›„ product_items: [{'name': 'ì•„ì´í°', 'action': 'êµ¬ë§¤'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ê¸°íƒ€'}]
2025-12-18 19:24:04,506 - services.result_builder - INFO -    âœ… ìµœì¢… product ê°œìˆ˜: 2ê°œ
2025-12-18 19:24:04,506 - services.result_builder - INFO -    âœ… ìµœì¢… product ë‚´ìš©: [{'item_nm': 'ì•„ì´í°', 'item_id': ['#'], 'item_name_in_msg': ['ì•„ì´í°'], 'expected_action': ['êµ¬ë§¤']}, {'item_nm': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'item_id': ['#'], 'item_name_in_msg': ['ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'], 'expected_action': ['ê¸°íƒ€']}]
2025-12-18 19:24:04,506 - services.result_builder - INFO - ğŸ·ï¸  [STEP 7] offer_object ì´ˆê¸°í™”: type=product, value ê°œìˆ˜=2ê°œ
2025-12-18 19:24:04,506 - services.result_builder - INFO - ğŸ” [STEP 8] ì±„ë„ ì •ë³´ ì²˜ë¦¬ ë° offer_object ì—…ë°ì´íŠ¸
2025-12-18 19:24:04,506 - services.result_builder - INFO -    âœ… ìµœì¢… channel ê°œìˆ˜: 3ê°œ
2025-12-18 19:24:04,506 - services.result_builder - INFO -    âœ… ìµœì¢… offer_object type: product
2025-12-18 19:24:04,507 - services.result_builder - INFO -    âœ… ìµœì¢… offer_object value ê°œìˆ˜: 2ê°œ
2025-12-18 19:24:04,507 - services.result_builder - INFO - âœ… [STEP 9] final_resultì— offer í•„ë“œ ì¶”ê°€ ì™„ë£Œ
2025-12-18 19:24:04,507 - services.result_builder - INFO - ================================================================================
2025-12-18 19:24:04,507 - services.result_builder - INFO - âœ… [PRODUCT DEBUG] build_extraction_result ì™„ë£Œ
2025-12-18 19:24:04,507 - services.result_builder - INFO -    ìµœì¢… final_result['product'] ê°œìˆ˜: 2ê°œ
2025-12-18 19:24:04,507 - services.result_builder - INFO - ================================================================================
2025-12-18 19:24:04,507 - core.workflow_core - INFO - âœ… ResultConstructionStep ì™„ë£Œ (1.60ì´ˆ)
2025-12-18 19:24:04,507 - core.workflow_core - INFO - 
============================== 8/9: ValidationStep ==============================
2025-12-18 19:24:04,507 - core.mms_workflow_steps - INFO - === ìµœì¢… ê²°ê³¼ ìš”ì•½ ===
2025-12-18 19:24:04,507 - core.mms_workflow_steps - INFO - ì œëª©: ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ ì´ë²¤íŠ¸, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨
2025-12-18 19:24:04,507 - core.mms_workflow_steps - INFO - ëª©ì : ['í˜œíƒ ì•ˆë‚´', 'ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„']
2025-12-18 19:24:04,507 - core.mms_workflow_steps - INFO - íŒë§¤ ìŠ¤í¬ë¦½íŠ¸: ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì´ë²¤íŠ¸! ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ì•ˆë‚´
2025-12-18 19:24:04,507 - core.mms_workflow_steps - INFO - ìƒí’ˆ ìˆ˜: 2ê°œ
2025-12-18 19:24:04,507 - core.mms_workflow_steps - INFO - ì±„ë„ ìˆ˜: 3ê°œ
2025-12-18 19:24:04,507 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ìˆ˜: 0ê°œ
2025-12-18 19:24:04,508 - core.mms_workflow_steps - INFO - ì˜¤í¼ íƒ€ì…: product
2025-12-18 19:24:04,508 - core.mms_workflow_steps - INFO - ì˜¤í¼ í•­ëª© ìˆ˜: 2ê°œ
2025-12-18 19:24:04,508 - core.workflow_core - INFO - âœ… ValidationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-18 19:24:04,508 - core.workflow_core - INFO - 
============================== 9/9: DAGExtractionStep ==============================
2025-12-18 19:24:04,508 - core.mms_workflow_steps - INFO - ğŸ”— DAG ì¶”ì¶œ ì‹œì‘...
2025-12-18 19:24:04,508 - core.entity_dag_extractor - INFO - ğŸš€ DAG ì¶”ì¶œ í”„ë¡œì„¸ìŠ¤ ì‹œì‘
2025-12-18 19:24:04,508 - core.entity_dag_extractor - INFO - ğŸ“ ì…ë ¥ ë©”ì‹œì§€ ê¸¸ì´: 199ì
2025-12-18 19:24:04,508 - core.entity_dag_extractor - INFO - ğŸ¤– ì‚¬ìš© LLM ëª¨ë¸: client=<openai.resources.chat.completions.completions.Completions object at 0x15faf1f40> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x15faf2ed0> root_client=<openai.OpenAI object at 0x15faf3f20> root_async_client=<openai.AsyncOpenAI object at 0x15fb0ccb0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-12-18 19:24:04,508 - core.entity_dag_extractor - INFO - âš™ï¸  í”„ë¡¬í”„íŠ¸ ëª¨ë“œ: cot
2025-12-18 19:24:04,508 - core.entity_dag_extractor - INFO - ğŸ¤– LLMì— DAG ì¶”ì¶œ ìš”ì²­ ì¤‘...
2025-12-18 19:24:04,508 - core.entity_dag_extractor - INFO - ğŸ“ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 3418ì
2025-12-18 19:24:04,510 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-18f13406-35ee-45bd-8456-39d53f338aa0', 'json_data': {'messages': [{'content': '\n## ì‘ì—… ëª©í‘œ\ní†µì‹ ì‚¬ ê´‘ê³  ë©”ì‹œì§€ì—ì„œ **í•µì‹¬ í–‰ë™ íë¦„**ì„ ì¶”ì¶œí•˜ì—¬ ê°„ê²°í•œ DAG(Directed Acyclic Graph) í˜•ì‹ìœ¼ë¡œ í‘œí˜„\n\n## í•µì‹¬ ì›ì¹™\n1. **ìµœì†Œ ê²½ë¡œ ì›ì¹™**: ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ëŠ” ê°€ì¥ ì§§ì€ ê²½ë¡œë§Œ í‘œí˜„\n2. **í•µì‹¬ íë¦„ ìš°ì„ **: ë¶€ê°€ì  ì„¤ëª…ë³´ë‹¤ ì£¼ìš” í–‰ë™ ì—°ì‡„ì— ì§‘ì¤‘\n3. **ì¤‘ë³µ ì œê±°**: ì˜ë¯¸ê°€ ê²¹ì¹˜ëŠ” ë…¸ë“œëŠ” í•˜ë‚˜ë¡œ í†µí•©\n\n## ì¶œë ¥ í˜•ì‹\n```\n(ê°œì²´ëª…:ê¸°ëŒ€í–‰ë™) -[ê´€ê³„ë™ì‚¬]-> (ê°œì²´ëª…:ê¸°ëŒ€í–‰ë™)\në˜ëŠ”\n(ê°œì²´ëª…:ê¸°ëŒ€í–‰ë™)\n```\n\n## ê°œì²´ëª… ì¹´í…Œê³ ë¦¬\n### í•„ìˆ˜ ì¶”ì¶œ ëŒ€ìƒ\n- **ì œí’ˆ/ì„œë¹„ìŠ¤**: êµ¬ì²´ì  ì œí’ˆëª…, ì„œë¹„ìŠ¤ëª…, ìš”ê¸ˆì œëª…\n- **í•µì‹¬ í˜œíƒ**: ê¸ˆì „ì  í˜œíƒ, ì‚¬ì€í’ˆ, í• ì¸\n- **í–‰ë™ ì¥ì†Œ**: ì˜¨/ì˜¤í”„ë¼ì¸ ì±„ë„ (í•„ìš” ì‹œë§Œ)\n\n### ì¶”ì¶œ ì œì™¸ ëŒ€ìƒ\n- ê´‘ê³  ëŒ€ìƒì (ì˜ˆ: "ì•„ì´í° ê³ ê°ë‹˜")\n- ì¼ì •/ê¸°ê°„ ì •ë³´\n- ë¶€ê°€ ì„¤ëª… ê¸°ëŠ¥ (í•µì‹¬ íë¦„ê³¼ ë¬´ê´€í•œ ê²½ìš°)\n- ë²•ì  ê³ ì§€ì‚¬í•­\n\n## ê¸°ëŒ€ í–‰ë™ (10ê°œ í‘œì¤€ ë™ì‚¬)\n`êµ¬ë§¤, ê°€ì…, ì‚¬ìš©, ë°©ë¬¸, ì°¸ì—¬, ë“±ë¡, ë‹¤ìš´ë¡œë“œ, í™•ì¸, ìˆ˜ë ¹, ì ë¦½`\n\n## ê´€ê³„ ë™ì‚¬ ìš°ì„ ìˆœìœ„\n### 1ìˆœìœ„: ì¡°ê±´ë¶€ ê´€ê³„\n- `ê°€ì…í•˜ë©´`, `êµ¬ë§¤í•˜ë©´`, `ì‚¬ìš©í•˜ë©´`, `ì‹ ì²­í•˜ë©´`, `ì°¸ì—¬í•˜ë©´` ,`ë‹¤ìš´ë¡œë“œí•˜ë©´`, `ì „í™”í•˜ë©´`, \'í™•ì¸í•˜ë©´\', \'ìˆ˜ë ¹í•˜ë©´\'\n- `ê°€ì…í›„`, `êµ¬ë§¤í›„`, `ì‚¬ìš©í›„`, `ì‹ ì²­í›„`, `ì°¸ì—¬í›„` ,`ë‹¤ìš´ë¡œë“œí›„`, `ì „í™”í›„`, `í™•ì¸í›„`, \'ìˆ˜ë ¹í›„\'\n\n### 2ìˆœìœ„: ê²°ê³¼ ê´€ê³„\n- `ë°›ë‹¤`, `ìˆ˜ë ¹í•˜ë‹¤`, `ì ë¦½í•˜ë‹¤`, `ì¶©ì „í•˜ë‹¤`, `ì ë¦½í•˜ë‹¤`, `ì´ìš©í•˜ë‹¤`, `ì‚¬ìš©í•˜ë‹¤`, `ì‹ ì²­í•˜ë‹¤`, `ë“±ë¡í•˜ë‹¤`, `ë‹¤ìš´ë¡œë“œí•˜ë‹¤`, `í™•ì¸í•˜ë‹¤`, `ìˆ˜ë ¹í•˜ë‹¤`\n\n### 3ìˆœìœ„: ê²½ë¡œ ê´€ê³„ (í•„ìš” ì‹œë§Œ)\n- `í†µí•´`, `ì´ìš©í•˜ì—¬`, `ì‚¬ìš©í•˜ì—¬`, `ì „í™”í•˜ì—¬`, `ë°©ë¬¸í•˜ì—¬`, `ì°¸ì—¬í•˜ì—¬`, `ë“±ë¡í•˜ì—¬`, `ë‹¤ìš´ë¡œë“œí•˜ì—¬`, `í™•ì¸í•˜ì—¬`, `ìˆ˜ë ¹í•˜ì—¬`\n\n## DAG êµ¬ì„± ì „ëµ\n### Step 1: ëª¨ë“  ê°€ì¹˜ ì œì•ˆ ì‹ë³„\nê´‘ê³ ì—ì„œ ì œì‹œí•˜ëŠ” **ëª¨ë“  ë…ë¦½ì  ê°€ì¹˜**ë¥¼ íŒŒì•…\n- **ì¦‰ê°ì  í˜œíƒ**: ê¸ˆì „ì  ë³´ìƒ, ì‚¬ì€í’ˆ ë“±\n- **ì„œë¹„ìŠ¤ ê°€ì¹˜**: ì œí’ˆ/ì„œë¹„ìŠ¤ ìì²´ì˜ ê¸°ëŠ¥ê³¼ í˜œíƒ\nì˜ˆ: "ë„¤ì´ë²„í˜ì´ 5000ì›" + "AI í†µí™” ê¸°ëŠ¥ ë¬´ë£Œ ì´ìš©"\n\n### Step 2: ë…ë¦½ ê²½ë¡œ êµ¬ì„±\nê° ê°€ì¹˜ ì œì•ˆë³„ë¡œ ë³„ë„ ê²½ë¡œ ìƒì„±:\n1. **í˜œíƒ íšë“ ê²½ë¡œ**: ê°€ì… â†’ ì‚¬ìš© â†’ ë³´ìƒ\n2. **ì„œë¹„ìŠ¤ ì²´í—˜ ê²½ë¡œ**: ê°€ì… â†’ ê²½í—˜ â†’ ê¸°ëŠ¥ í™œìš©\n\n### Step 3: ì„¸ë¶€ ê¸°ëŠ¥ í‘œí˜„\nì£¼ìš” ê¸°ëŠ¥ë“¤ì´ ëª…ì‹œëœ ê²½ìš° ë¶„ê¸° êµ¬ì¡°ë¡œ í‘œí˜„:\n- í†µí•© ê°€ëŠ¥í•œ ê¸°ëŠ¥ì€ í•˜ë‚˜ë¡œ (ì˜ˆ: AIí†µí™”ë…¹ìŒ/ìš”ì•½ â†’ "AIí†µí™”ê¸°ëŠ¥")\n- ë…ë¦½ì  ê¸°ëŠ¥ì€ ë³„ë„ë¡œ (ì˜ˆ: AIìŠ¤íŒ¸í•„í„°ë§)\n\n## ë¶„ì„ í”„ë¡œì„¸ìŠ¤ (í•„ìˆ˜ ë‹¨ê³„)\n### Step 1: ë©”ì‹œì§€ ì´í•´\n- ì „ì²´ ë©”ì‹œì§€ë¥¼ í•œ ë¬¸ë‹¨ìœ¼ë¡œ ìš”ì•½\n- ê´‘ê³ ì£¼ì˜ ì˜ë„ íŒŒì•…\n- **ì•”ì‹œëœ í–‰ë™ ì‹ë³„**: ëª…ì‹œë˜ì§€ ì•Šì•˜ì§€ë§Œ í•„ìˆ˜ì ì¸ í–‰ë™ (ì˜ˆ: ë§¤ì¥ ë°©ë¬¸)\n\n### Step 2: ê°€ì¹˜ ì œì•ˆ ì‹ë³„\n- ì¦‰ê°ì  í˜œíƒ (ê¸ˆì „, ì‚¬ì€í’ˆ ë“±)\n- ì„œë¹„ìŠ¤ ê°€ì¹˜ (ê¸°ëŠ¥, í¸ì˜ì„± ë“±)\n- ë¶€ê°€ í˜œíƒ (ìˆë‹¤ë©´)\n\n### Step 3: Root Node ê²°ì •\n- **ì‚¬ìš©ìì˜ ì²« ë²ˆì§¸ í–‰ë™ì€ ë¬´ì—‡ì¸ê°€?**\n- ë§¤ì¥ ì£¼ì†Œ/ì—°ë½ì²˜ê°€ ìˆë‹¤ë©´ â†’ ë°©ë¬¸ì´ ì‹œì‘ì \n- ì˜¨ë¼ì¸ ë§í¬ê°€ ìˆë‹¤ë©´ â†’ ì ‘ì†ì´ ì‹œì‘ì \n- ì•± ê´€ë ¨ ë‚´ìš©ì´ë¼ë©´ â†’ ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ì \n\n### Step 4: ê´€ê³„ ë¶„ì„\n- Root Nodeë¶€í„° ì‹œì‘í•˜ëŠ” ì „ì²´ íë¦„\n- ê° í–‰ë™ ê°„ ì¸ê³¼ê´€ê³„ ê²€ì¦\n- ì¡°ê±´ë¶€ ê´€ê³„ ëª…í™•í™”\n- ì‹œê°„ì  ìˆœì„œ í™•ì¸\n\n### Step 5: DAG êµ¬ì„±\n- ìœ„ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ë…¸ë“œì™€ ì—£ì§€ ê²°ì •\n- ì¤‘ë³µ ì œê±° ë° í†µí•©\n\n### Step 6: ìê¸° ê²€ì¦ ë° ìˆ˜ì •\n- **í‰ê°€**: ì´ˆê¸° DAGë¥¼ ì•„ë˜ ê¸°ì¤€ì— ë”°ë¼ ê²€í† \n  - Root Nodeê°€ ëª…í™•íˆ ì‹ë³„ë˜ì—ˆëŠ”ê°€? (ë°©ë¬¸/ì ‘ì†/ë‹¤ìš´ë¡œë“œ ë“±)\n  - ëª¨ë“  ë…ë¦½ì  ê°€ì¹˜ ì œì•ˆì´ í¬í•¨ë˜ì—ˆëŠ”ê°€? (ì¦‰ê°ì  í˜œíƒê³¼ ì„œë¹„ìŠ¤ ê°€ì¹˜)\n  - ì£¼ìš” ê¸°ëŠ¥ë“¤ì´ ì ì ˆíˆ ê·¸ë£¹í™”ë˜ì—ˆëŠ”ê°€? (ì¤‘ë³µ ì œê±° ì—¬ë¶€)\n  - ê° ê²½ë¡œê°€ ëª…í™•í•œ ê°€ì¹˜ë¥¼ ì „ë‹¬í•˜ëŠ”ê°€?\n  - ì „ì²´ êµ¬ì¡°ê°€ ê°„ê²°í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ê°€?\n  - ê´€ê³„ ë™ì‚¬ê°€ ìš°ì„ ìˆœìœ„ì— ë§ê²Œ ì‚¬ìš©ë˜ì—ˆëŠ”ê°€? (ì¡°ê±´ë¶€ > ê²°ê³¼ > ê²½ë¡œ)\n- **ë¬¸ì œ ì‹ë³„**: ìœ„ ê¸°ì¤€ ì¤‘ ì¶©ì¡±ë˜ì§€ ì•Šì€ í•­ëª©ì„ ëª…ì‹œí•˜ê³ , ê·¸ ì´ìœ ë¥¼ ì„¤ëª…\n- **ìˆ˜ì •**: ì‹ë³„ëœ ë¬¸ì œë¥¼ í•´ê²°í•œ ìˆ˜ì •ëœ DAGë¥¼ ìƒì„±\n\n### Step 7: ìµœì¢… ê²€ì¦\n- ìˆ˜ì •ëœ DAGê°€ ëª¨ë“  ê¸°ì¤€ì„ ì¶©ì¡±í•˜ëŠ”ì§€ ì¬í™•ì¸\n- ë§Œì•½ ë¬¸ì œê°€ ë‚¨ì•„ìˆë‹¤ë©´, ì¶”ê°€ ìˆ˜ì • ìˆ˜í–‰ (ìµœëŒ€ 2íšŒ ë°˜ë³µ)\n- ìµœì¢…ì ìœ¼ë¡œ ëª¨ë“  ê¸°ì¤€ì´ ì¶©ì¡±ë˜ì—ˆìŒì„ í™•ì¸\n\n## ì¶œë ¥ í˜•ì‹ (ë°˜ë“œì‹œ ëª¨ë“  ì„¹ì…˜ í¬í•¨)\n### 1. ë©”ì‹œì§€ ë¶„ì„\n```\n[ë©”ì‹œì§€ ìš”ì•½ ë° í•µì‹¬ ì˜ë„]\n[ì‹ë³„ëœ ê°€ì¹˜ ì œì•ˆ ëª©ë¡]\n```\n\n### 2. ì´ˆê¸° DAG\n```\n[ì´ˆê¸° DAG êµ¬ì¡°]\n```\n\n### 3. ìê¸° ê²€ì¦ ê²°ê³¼\n```\n[í‰ê°€ ê¸°ì¤€ë³„ ê²€í†  ê²°ê³¼]\n[ì‹ë³„ëœ ë¬¸ì œì  ë° ì´ìœ ]\n```\n\n### 4. ìˆ˜ì •ëœ DAG\n```\n[ìˆ˜ì •ëœ DAG êµ¬ì¡°]\n```\n\n### 5. ìµœì¢… ê²€ì¦ ë° ì¶”ì¶œ ê·¼ê±°\n```\n[ìµœì¢… DAGê°€ ëª¨ë“  ê¸°ì¤€ì„ ì¶©ì¡±í•˜ëŠ” ì´ìœ ]\n[ë…¸ë“œ/ì—£ì§€ ì„ íƒì˜ ë…¼ë¦¬ì  ê·¼ê±°]\n```\n\n## ì‹¤í–‰ ì§€ì¹¨\n1. ìœ„ 7ë‹¨ê³„ ë¶„ì„ í”„ë¡œì„¸ìŠ¤ë¥¼ **ìˆœì„œëŒ€ë¡œ** ìˆ˜í–‰\n2. ê° ë‹¨ê³„ì—ì„œ ë°œê²¬í•œ ë‚´ìš©ì„ **ëª…ì‹œì ìœ¼ë¡œ** ê¸°ë¡\n3. DAG êµ¬ì„± ì „ **ì¶©ë¶„í•œ ë¶„ì„** ìˆ˜í–‰\n4. ì´ˆê¸° DAG ìƒì„± í›„ **ë°˜ë“œì‹œ ìê¸° ê²€ì¦ ë° ìˆ˜ì •** ìˆ˜í–‰\n5. ìµœì¢… ì¶œë ¥ì— **ëª¨ë“  ì„¹ì…˜** í¬í•¨\n6. **ì¤‘ìš”**: ë¶„ì„ ê³¼ì •ì„ ìƒëµí•˜ì§€ ë§ê³ , ì‚¬ê³  ê³¼ì •ê³¼ ìˆ˜ì • ì´ìœ ë¥¼ íˆ¬ëª…í•˜ê²Œ ë³´ì—¬ì£¼ì„¸ìš”\n\n## ì˜ˆì‹œ ë¶„ì„\n### ì˜ëª»ëœ ì˜ˆì‹œ (í•µì‹¬ íë¦„ë§Œ ì¶”ì¶œ)\n```\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í›„]-> (AIì „í™”ì„œë¹„ìŠ¤:ì‚¬ìš©)\n(AIì „í™”ì„œë¹„ìŠ¤:ì‚¬ìš©) -[ì‚¬ìš©í•˜ë©´]-> (ë„¤ì´ë²„í˜ì´5000ì›:ìˆ˜ë ¹)\n```\nâ†’ ë¬¸ì œ: ì„œë¹„ìŠ¤ ìì²´ì˜ ê°€ì¹˜(AI ê¸°ëŠ¥ë“¤)ê°€ ëˆ„ë½ë¨\n\n### ì˜¬ë°”ë¥¸ ì˜ˆì‹œ (ì™„ì „í•œ ê°€ì¹˜ í‘œí˜„ - Root Node í¬í•¨)\n```\n# ë§¤ì¥ ë°©ë¬¸ë¶€í„° ì‹œì‘í•˜ëŠ” ê²½ë¡œ\n(ëŒ€ë¦¬ì :ë°©ë¬¸) -[ë°©ë¬¸í•˜ë©´]-> (ì—ì´ë‹·:ê°€ì…)\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í•˜ë©´]-> (ë„¤ì´ë²„í˜ì´5000ì›:ìˆ˜ë ¹)\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í•˜ë©´]-> (AIí†µí™”ê¸°ëŠ¥:ì‚¬ìš©)\n(AIí†µí™”ê¸°ëŠ¥:ì‚¬ìš©) -[ì‚¬ìš©í•˜ë©´]-> (í†µí™”í’ˆì§ˆ:í–¥ìƒ)\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í•˜ë©´]-> (AIìŠ¤íŒ¸í•„í„°:ì‚¬ìš©)\n(AIìŠ¤íŒ¸í•„í„°:ì‚¬ìš©) -[ì‚¬ìš©í•˜ë©´]-> (ìŠ¤íŒ¸ì°¨ë‹¨:íš¨ê³¼)\n```\nâ†’ ì¦‰ê°ì  í˜œíƒ(5000ì›)ê³¼ ì„œë¹„ìŠ¤ ê°€ì¹˜(AI ê¸°ëŠ¥)ë¥¼ ëª¨ë‘ í¬í•¨\n\n### ë¶„ì„ ëŒ€ìƒ ë©”ì‹œì§€\n(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n\nìœ„ ë©”ì‹œì§€ë¥¼ ë¶„ì„í•˜ì—¬ 7ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤ì— ë”°ë¼ DAGë¥¼ ì¶”ì¶œí•´ì£¼ì„¸ìš”.\n', 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-12-18 19:24:04,512 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-18 19:24:04,512 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-18 19:24:04,512 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-18 19:24:04,512 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-18 19:24:04,513 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-18 19:24:04,513 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-18 19:24:20,710 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 18 Dec 2025 10:24:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'4696'), (b'Connection', b'keep-alive'), (b'x-request-id', b'c58c28f1-1c06-457d-b05c-f89fbb650392')])
2025-12-18 19:24:20,711 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-18 19:24:20,712 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-18 19:24:20,712 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-18 19:24:20,712 - httpcore.http11 - DEBUG - response_closed.started
2025-12-18 19:24:20,712 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-18 19:24:20,712 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 18 Dec 2025 10:24:20 GMT', 'content-type': 'application/json', 'content-length': '4696', 'connection': 'keep-alive', 'x-request-id': 'c58c28f1-1c06-457d-b05c-f89fbb650392'})
2025-12-18 19:24:20,713 - openai._base_client - DEBUG - request_id: c58c28f1-1c06-457d-b05c-f89fbb650392
2025-12-18 19:24:20,714 - core.entity_dag_extractor - INFO - ğŸ“ LLM ì‘ë‹µ ê¸¸ì´: 1881ì
2025-12-18 19:24:20,714 - core.entity_dag_extractor - INFO - ğŸ“„ LLM ì‘ë‹µ ë¯¸ë¦¬ë³´ê¸° (ì²˜ìŒ 500ì): ## 1. ë©”ì‹œì§€ ë¶„ì„

```
[ë©”ì‹œì§€ ìš”ì•½ ë° í•µì‹¬ ì˜ë„]
SKTì—ì„œ 9ì›” T dayë¥¼ ë§ì•„ ì•„ì´í° ì¶œì‹œë¥¼ ê¸°ë…í•˜ì—¬ í€´ì¦ˆ ì´ë²¤íŠ¸ë¥¼ ì§„í–‰í•˜ê³ , ì°¸ì—¬ìì—ê²Œ ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ê¸°íšŒë¥¼ ì œê³µí•˜ëŠ” ì´ë²¤íŠ¸ ê´‘ê³ ì…ë‹ˆë‹¤. ê´‘ê³ ì£¼ëŠ” ê³ ê°ì´ ì´ë²¤íŠ¸ì— ì°¸ì—¬í•˜ì—¬ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ê¸°íšŒë¥¼ ì–»ë„ë¡ ìœ ë„í•˜ê³ ì í•©ë‹ˆë‹¤.

[ì‹ë³„ëœ ê°€ì¹˜ ì œì•ˆ ëª©ë¡]
- (ì¦‰ê°ì  í˜œíƒ) ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ê¸°íšŒ
- (ì„œë¹„ìŠ¤ ê°€ì¹˜) í€´ì¦ˆ ì´ë²¤íŠ¸ ì°¸ì—¬ ë° ì‘ëª¨ ê¸°íšŒ íšë“
```

## 2. ì´ˆê¸° DAG

```
(T day í€´ì¦ˆ:ì°¸ì—¬) -[ì°¸ì—¬í•˜ë©´]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨)
```

## 3. ìê¸° ê²€ì¦ ê²°ê³¼

```
[í‰ê°€ ê¸°ì¤€ë³„ ê²€í†  ê²°ê³¼]
- Root Nodeê°€ ëª…í™•íˆ ì‹ë³„ë˜ì—ˆëŠ”ê°€? (ë°©ë¬¸/ì ‘ì†/ë‹¤ìš´ë¡œë“œ ë“±)
  â†’ ì•„ë‹ˆì˜¤. Root Nodeê°€ ëª…ì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
- ëª¨ë“  ë…ë¦½ì  ê°€ì¹˜ ì œì•ˆì´ í¬í•¨ë˜ì—ˆëŠ”ê°€? (ì¦‰ê°ì  í˜œíƒê³¼ ì„œë¹„ìŠ¤ ê°€ì¹˜)
  â†’ ì˜ˆ. í€´ì¦ˆ ì°¸ì—¬(ì„œë¹„ìŠ¤ ê°€ì¹˜)ì™€...
2025-12-18 19:24:20,715 - core.entity_dag_extractor - INFO - ğŸ” DAG ì„¹ì…˜ ì¶”ì¶œ ì¤‘...
2025-12-18 19:24:20,716 - core.entity_dag_extractor - INFO - ğŸ“„ ì¶”ì¶œëœ DAG ì„¹ì…˜ ê¸¸ì´: 79ì
2025-12-18 19:24:20,717 - core.entity_dag_extractor - INFO - ğŸ“„ DAG ì„¹ì…˜ ë‚´ìš©:
(ì›¹ì‚¬ì´íŠ¸:ì ‘ì†) -[ì ‘ì†í•˜ë©´]-> (T day í€´ì¦ˆ:ì°¸ì—¬)
(T day í€´ì¦ˆ:ì°¸ì—¬) -[ì°¸ì—¬í•˜ë©´]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨)
2025-12-18 19:24:20,717 - core.entity_dag_extractor - INFO - ğŸ”— DAG íŒŒì‹± ì¤‘...
2025-12-18 19:24:20,717 - core.entity_dag_extractor - INFO - ğŸ“Š íŒŒì‹±ëœ DAG - ë…¸ë“œ ìˆ˜: 3, ì—£ì§€ ìˆ˜: 2
2025-12-18 19:24:20,717 - core.entity_dag_extractor - INFO - ğŸ¯ DAG ë…¸ë“œ ëª©ë¡: ['ì›¹ì‚¬ì´íŠ¸:ì ‘ì†', 'T day í€´ì¦ˆ:ì°¸ì—¬', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨']
2025-12-18 19:24:20,718 - core.entity_dag_extractor - INFO - ğŸ”— DAG ì—£ì§€ ëª©ë¡: [('ì›¹ì‚¬ì´íŠ¸:ì ‘ì†', 'T day í€´ì¦ˆ:ì°¸ì—¬'), ('T day í€´ì¦ˆ:ì°¸ì—¬', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨')]
2025-12-18 19:24:20,718 - core.entity_dag_extractor - INFO - âœ… DAG ì¶”ì¶œ í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ
2025-12-18 19:24:20,718 - core.mms_workflow_steps - INFO - âœ… DAG ì¶”ì¶œ ì™„ë£Œ: 2ê°œ ì—£ì§€
2025-12-18 19:24:20,719 - utils.visualization_utils - INFO - ğŸ¨ DAG ë‹¤ì´ì–´ê·¸ë¨ ìƒì„± ì‹œì‘ - íŒŒì¼ëª…: dag_test_message_id_0b0442110e59a38a
2025-12-18 19:24:20,719 - utils.visualization_utils - INFO - ğŸ“Š ì…ë ¥ ê·¸ë˜í”„ - ë…¸ë“œ ìˆ˜: 3, ì—£ì§€ ìˆ˜: 2
2025-12-18 19:24:20,719 - utils.visualization_utils - INFO - âœ… Graphviz PATH ì¶”ê°€: /usr/local/bin
2025-12-18 19:24:20,721 - utils.visualization_utils - INFO - ğŸ–¼ï¸ DAG ì´ë¯¸ì§€ ë Œë”ë§ ì¤‘...
2025-12-18 19:24:20,721 - graphviz._tools - DEBUG - os.makedirs('dag_images')
2025-12-18 19:24:20,721 - graphviz.saving - DEBUG - write lines to 'dag_images/dag_test_message_id_0b0442110e59a38a'
2025-12-18 19:24:20,723 - graphviz.backend.execute - DEBUG - run [PosixPath('dot'), '-Kdot', '-Tpng', '-O', 'dag_test_message_id_0b0442110e59a38a']
2025-12-18 19:24:20,974 - graphviz.rendering - DEBUG - delete 'dag_images/dag_test_message_id_0b0442110e59a38a'
2025-12-18 19:24:20,975 - utils.visualization_utils - INFO - âœ… DAG ë‹¤ì´ì–´ê·¸ë¨ ìƒì„± ì™„ë£Œ: dag_images/dag_test_message_id_0b0442110e59a38a.png
2025-12-18 19:24:20,975 - core.mms_workflow_steps - INFO - ğŸ“Š DAG ë‹¤ì´ì–´ê·¸ë¨ ì €ì¥: dag_test_message_id_0b0442110e59a38a.png
2025-12-18 19:24:20,975 - core.workflow_core - INFO - âœ… DAGExtractionStep ì™„ë£Œ (16.47ì´ˆ)
2025-12-18 19:24:20,975 - core.workflow_core - INFO - 
============================================================
2025-12-18 19:24:20,975 - core.workflow_core - INFO - âœ… MMS Extraction Workflow ì™„ë£Œ (ì´ 23.93ì´ˆ)
2025-12-18 19:24:20,975 - core.workflow_core - INFO - ============================================================
2025-12-18 19:24:20,975 - core.workflow_core - INFO - 
ğŸ“Š ì‹¤í–‰ ìš”ì•½:
2025-12-18 19:24:20,975 - core.workflow_core - INFO -   âœ… InputValidationStep: 0.00ì´ˆ
2025-12-18 19:24:20,975 - core.workflow_core - INFO -   âœ… EntityExtractionStep: 0.00ì´ˆ
2025-12-18 19:24:20,975 - core.workflow_core - INFO -   âœ… ProgramClassificationStep: 0.00ì´ˆ
2025-12-18 19:24:20,975 - core.workflow_core - INFO -   âœ… ContextPreparationStep: 0.00ì´ˆ
2025-12-18 19:24:20,976 - core.workflow_core - INFO -   âœ… LLMExtractionStep: 5.86ì´ˆ
2025-12-18 19:24:20,976 - core.workflow_core - INFO -   âœ… ResponseParsingStep: 0.00ì´ˆ
2025-12-18 19:24:20,976 - core.workflow_core - INFO -   âœ… ResultConstructionStep: 1.60ì´ˆ
2025-12-18 19:24:20,976 - core.workflow_core - INFO -   âœ… ValidationStep: 0.00ì´ˆ
2025-12-18 19:24:20,976 - core.workflow_core - INFO -   âœ… DAGExtractionStep: 16.47ì´ˆ
2025-12-18 19:24:20,976 - utils.common_utils - INFO - process_message ì‹¤í–‰ì™„ë£Œ: 23.93ì´ˆ
2025-12-18 19:24:20,976 - core.mms_extractor - INFO - âœ… ì›Œí¬í”Œë¡œìš°ì—ì„œ ì´ë¯¸ ì¶”ì¶œëœ DAGê°€ ì¡´ì¬í•©ë‹ˆë‹¤. ì¤‘ë³µ ì¶”ì¶œì„ ê±´ë„ˆëœë‹ˆë‹¤.
2025-12-18 19:24:20,976 - core.mms_extractor - INFO - ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ì—ì„œ ë©”ì‹œì§€ ì²˜ë¦¬ ì™„ë£Œ
2025-12-18 19:24:20,976 - __main__ - INFO - MongoDB ì €ì¥ ì¤‘...
2025-12-18 19:24:21,206 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "6943d655526306278e4d2d37"}}
2025-12-18 19:24:21,206 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "6943d655526306278e4d2d37"}, "previousDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
2025-12-18 19:24:21,206 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,207 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,207 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6943d655526306278e4d2d37"}}
2025-12-18 19:24:21,208 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "remainingTimeMS": 4999}
2025-12-18 19:24:21,208 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "6943d655526306278e4d2d37"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
2025-12-18 19:24:21,210 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6943d655526306278e4d2d37"}, "driverConnectionId": 1, "serverConnectionId": 951, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 1.7277500010095537, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"69375d1ee3a83c1c1c157ac7\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-12-18T10:24:21.210Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 951, \"maxWireVersion\": 27, \"ok\": 1.0}"}
2025-12-18 19:24:21,211 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,211 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "6943d655526306278e4d2d37"}, "previousDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0017277500010095537>]>"}
2025-12-18 19:24:21,211 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0017277500010095537>]>", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,211 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,211 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-18 19:24:21,211 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "6943d655526306278e4d2d37"}, "driverConnectionId": 1, "serverConnectionId": 951, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
2025-12-18 19:24:21,214 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0018530000234022737}
2025-12-18 19:24:21,214 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0032865419634617865}
2025-12-18 19:24:21,215 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"0o/e4oJtRKGm8p6wx9YyOA==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 1144108930, "operationId": 1144108930, "driverConnectionId": 1, "serverConnectionId": 953, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,215 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "durationMS": 0.708, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 1144108930, "operationId": 1144108930, "driverConnectionId": 1, "serverConnectionId": 953, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,215 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-18 19:24:21,215 - utils.mongodb_utils - INFO - MongoDB ì—°ê²° ì„±ê³µ: aos.mmsext
2025-12-18 19:24:21,216 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x15fee6840>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0017277500010095537>]>", "clientId": {"$oid": "6943d655526306278e4d2d37"}}
2025-12-18 19:24:21,216 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x15fee6840>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0017277500010095537>]>", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,216 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,216 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 7.704203017055988e-05}
2025-12-18 19:24:21,216 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "command": "{\"insert\": \"mmsext\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"0o/e4oJtRKGm8p6wx9YyOA==\", \"subType\": \"04\"}}}, \"$db\": \"aos\", \"documents\": [{\"message\": \"\n(\uad11\uace0)[SKT] 9\uc6d4 T day \ud61c\ud0dd \uc548\ub0b4__2025\ub144 9\uc6d4 17\uc77c(\uc218)_\ub7ed\ud0a4\ucc2c\uc2a4!_\uc544\uc774\ud3f0 \ucd9c\uc2dc \uae30\ub150 \ud034\uc988_\uc62c\ub9ac\ube0c\uc601 \uae30\ud504\ud2b8 \uce74\ub4dc 1\ub9cc \uc6d0 \uc751\ubaa8 \uc774\ubca4\ud2b8__\u25b6 \uc790\uc138\ud788 \ubcf4\uae30: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__\u25a0 \ubb38\uc758: SKT \uace0\uac1d\uc13c\ud130(1558, \ubb34\ub8cc)__\ubb34\ub8cc \uc218\uc2e0\uac70\ubd80 1504\n\n\", \"main_prompt\": {\"title\": \"\uba54\uc778 \uc815\ubcf4 \ucd94\ucd9c \ud504\ub86c\ud504\ud2b8\", \"description\": \"\uad11\uace0 \uba54\uc2dc\uc9c0\uc5d0\uc11c \uc81c\ubaa9, \ubaa9\uc801, \uc0c1\ud488, \ucc44\ub110, \ud504\ub85c\uadf8\ub7a8 \uc815\ubcf4\ub97c \ucd94\ucd9c\ud558\ub294 \ud504\ub86c\ud504\ud2b8\", \"content\": \"\nExtr...", "commandName": "insert", "databaseName": "aos", "requestId": 470211272, "operationId": 470211272, "driverConnectionId": 1, "serverConnectionId": 953, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,221 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "durationMS": 4.463, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "aos", "requestId": 470211272, "operationId": 470211272, "driverConnectionId": 1, "serverConnectionId": 953, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,221 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-18 19:24:21,221 - utils.mongodb_utils - INFO - ë¬¸ì„œ ì €ì¥ ì„±ê³µ: 6943d655526306278e4d2d38
2025-12-18 19:24:21,221 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "PrimaryPreferred(tag_sets=None, max_staleness=-1, hedge=None)", "operation": "endSessions", "topologyDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0017277500010095537>]>", "clientId": {"$oid": "6943d655526306278e4d2d37"}}
2025-12-18 19:24:21,221 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "PrimaryPreferred(tag_sets=None, max_staleness=-1, hedge=None)", "operation": "endSessions", "topologyDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0017277500010095537>]>", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,221 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,221 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 6.808299804106355e-05}
2025-12-18 19:24:21,221 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "command": "{\"endSessions\": [{\"id\": {\"$binary\": {\"base64\": \"0o/e4oJtRKGm8p6wx9YyOA==\", \"subType\": \"04\"}}}], \"$db\": \"admin\"}", "commandName": "endSessions", "databaseName": "admin", "requestId": 101027544, "operationId": 101027544, "driverConnectionId": 1, "serverConnectionId": 953, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,222 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "durationMS": 0.48700000000000004, "reply": "{\"ok\": 1.0}", "commandName": "endSessions", "databaseName": "admin", "requestId": 101027544, "operationId": 101027544, "driverConnectionId": 1, "serverConnectionId": 953, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,222 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-18 19:24:21,222 - pymongo.topology - DEBUG - {"message": "Stopped server monitoring", "topologyId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,222 - pymongo.connection - DEBUG - {"message": "Connection closed", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "reason": "Connection pool was closed", "error": "poolClosed"}
2025-12-18 19:24:21,222 - pymongo.connection - DEBUG - {"message": "Connection pool closed", "clientId": {"$oid": "6943d655526306278e4d2d37"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-18 19:24:21,222 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "6943d655526306278e4d2d37"}, "previousDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0017277500010095537>]>", "newDescription": "<TopologyDescription id: 6943d655526306278e4d2d37, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
2025-12-18 19:24:21,222 - pymongo.topology - DEBUG - {"message": "Stopped topology monitoring", "topologyId": {"$oid": "6943d655526306278e4d2d37"}}
2025-12-18 19:24:21,222 - utils.mongodb_utils - INFO - MongoDB ì—°ê²° í•´ì œ
2025-12-18 19:24:21,222 - __main__ - INFO - MongoDB ì €ì¥ ì™„ë£Œ!
2025-12-18 19:24:21,223 - __main__ - INFO - ì¶”ì¶œ ê³¼ì •ì—ì„œ ìº¡ì²˜ëœ í”„ë¡¬í”„íŠ¸: 2ê°œ
2025-12-18 19:24:21,223 - __main__ - INFO - âœ… DAG ì¶”ì¶œ ì„±ê³µ - ê¸¸ì´: 2ì
2025-12-18 19:24:21,223 - __main__ - INFO - DAG ë‚´ìš© ë¯¸ë¦¬ë³´ê¸°: ['(T day í€´ì¦ˆ:ì°¸ì—¬) -[ì°¸ì—¬í•˜ë©´]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨)', '(ì›¹ì‚¬ì´íŠ¸:ì ‘ì†) -[ì ‘ì†í•˜ë©´]-> (T day í€´ì¦ˆ:ì°¸ì—¬)']...
2025-12-18 19:24:21,223 - __main__ - INFO - ì¶”ì¶œ ì™„ë£Œ: 24.180ì´ˆ
2025-12-18 19:24:21,224 - werkzeug - INFO - 127.0.0.1 - - [18/Dec/2025 19:24:21] "POST /extract HTTP/1.1" 200 -
2025-12-19 09:36:52,202 - __main__ - INFO - ë¡œê·¸ ë ˆë²¨ ì„¤ì •: DEBUG
2025-12-19 09:36:52,202 - __main__ - INFO - ğŸ”§ --storage ì˜µì…˜: local
2025-12-19 09:36:52,202 - __main__ - INFO - ğŸ”§ í™˜ê²½ë³€ìˆ˜ DAG_STORAGE_MODE ì„¤ì •: local
2025-12-19 09:36:52,202 - __main__ - INFO - ğŸ“ DAG ì €ì¥ ëª¨ë“œ: local - API server provides images (URL: API server IP)
2025-12-19 09:36:52,202 - __main__ - INFO - ğŸ“‚ DAG ì €ì¥ ê²½ë¡œ: dag_images
2025-12-19 09:36:52,202 - __main__ - INFO - ğŸŒ ë¡œì»¬ ì„œë²„ URL: http://172.23.113.51:8000
2025-12-19 09:36:52,202 - __main__ - INFO - CLI ë°ì´í„° ì†ŒìŠ¤ ì„¤ì •: db
2025-12-19 09:36:52,202 - __main__ - INFO - ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:36:52,202 - __main__ - INFO - ë°ì´í„° ì†ŒìŠ¤ë¡œ ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì¤‘: db
2025-12-19 09:36:52,202 - core.mms_extractor - INFO - ğŸš€ MMSExtractor ì´ˆê¸°í™” ì‹œì‘
2025-12-19 09:36:52,202 - core.mms_extractor - INFO - âš™ï¸ ê¸°ë³¸ ì„¤ì • ì ìš© ì¤‘...
2025-12-19 09:36:52,202 - core.mms_extractor - INFO - ğŸ¯ DAG ì¶”ì¶œ ëª¨ë“œ í™œì„±í™”ë¨
2025-12-19 09:36:52,202 - core.mms_extractor - INFO - ğŸ”‘ í™˜ê²½ë³€ìˆ˜ ë¡œë“œ ì¤‘...
2025-12-19 09:36:52,204 - core.mms_extractor - INFO - ğŸ’» ë””ë°”ì´ìŠ¤ ì„¤ì • ì¤‘...
2025-12-19 09:36:52,237 - core.mms_extractor - INFO - Using device: mps
2025-12-19 09:36:52,237 - utils.common_utils - INFO - _initialize_device ì‹¤í–‰ì™„ë£Œ: 0.03ì´ˆ
2025-12-19 09:36:52,237 - core.mms_extractor - INFO - ğŸ¤– LLM ëª¨ë¸ ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:36:52,237 - core.mms_extractor - INFO - LLM ì´ˆê¸°í™” ì™„ë£Œ: gemini (gcp/gemini-2.5-flash)
2025-12-19 09:36:52,237 - utils.common_utils - INFO - _initialize_llm ì‹¤í–‰ì™„ë£Œ: 0.00ì´ˆ
2025-12-19 09:36:52,237 - core.mms_extractor - INFO - ğŸ§  ì„ë² ë”© ëª¨ë¸ ë¡œë“œ ì¤‘...
2025-12-19 09:36:52,237 - utils.nlp_utils - INFO - Loading model from ./models/ko-sbert-nli...
2025-12-19 09:36:52,238 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-12-19 09:36:52,238 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-12-19 09:36:52,776 - utils.nlp_utils - INFO - Model loaded on mps
2025-12-19 09:36:52,777 - utils.common_utils - INFO - _initialize_embedding_model ì‹¤í–‰ì™„ë£Œ: 0.54ì´ˆ
2025-12-19 09:36:52,777 - core.mms_extractor - INFO - ğŸ“ NLP ë„êµ¬ (Kiwi) ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:36:53,530 - core.mms_extractor - INFO - Kiwi í˜•íƒœì†Œ ë¶„ì„ê¸° ì´ˆê¸°í™” ì™„ë£Œ
2025-12-19 09:36:53,530 - utils.common_utils - INFO - _initialize_kiwi ì‹¤í–‰ì™„ë£Œ: 0.75ì´ˆ
2025-12-19 09:36:53,530 - core.mms_extractor - INFO - ğŸ“ ë°ì´í„° ë¡œë“œ ì¤‘...
2025-12-19 09:36:53,530 - core.mms_extractor - INFO - ============================================================
2025-12-19 09:36:53,530 - core.mms_extractor - INFO - ğŸ“Š ë°ì´í„° ë¡œë”© ì‹œì‘
2025-12-19 09:36:53,530 - core.mms_extractor - INFO - ============================================================
2025-12-19 09:36:53,530 - core.mms_extractor - INFO - ë°ì´í„° ì†ŒìŠ¤ ëª¨ë“œ: db
2025-12-19 09:36:53,530 - core.mms_extractor - INFO - 1ï¸âƒ£ ìƒí’ˆ ì •ë³´ ë¡œë“œ ë° ì¤€ë¹„ ì¤‘...
2025-12-19 09:36:53,530 - core.mms_extractor - ERROR - ItemDataLoader ì‹¤í–‰ ì‹¤íŒ¨: 'MMSExtractor' object has no attribute '_load_offer_info_from_db'
2025-12-19 09:36:53,533 - core.mms_extractor - ERROR - ì˜¤ë¥˜ ìƒì„¸: Traceback (most recent call last):
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/core/mms_extractor.py", line 676, in _load_item_data
    db_loader=self._load_offer_info_from_db if self.offer_info_data_src == 'db' else None
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MMSExtractor' object has no attribute '_load_offer_info_from_db'

2025-12-19 09:36:53,534 - core.mms_extractor - WARNING - ë¹ˆ DataFrameìœ¼ë¡œ fallback ì„¤ì •ë¨
2025-12-19 09:36:53,534 - core.mms_extractor - INFO - ìƒí’ˆ ì •ë³´ ìµœì¢… ë°ì´í„° í¬ê¸°: (0, 5)
2025-12-19 09:36:53,534 - core.mms_extractor - INFO - ìƒí’ˆ ì •ë³´ ì»¬ëŸ¼ë“¤: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_nm_alias']
2025-12-19 09:36:53,534 - core.mms_extractor - INFO - 2ï¸âƒ£ ì •ì§€ì–´ ë¡œë“œ ì¤‘...
2025-12-19 09:36:53,535 - core.mms_extractor - INFO - ì •ì§€ì–´ ë¡œë“œ ì™„ë£Œ: 204ê°œ
2025-12-19 09:36:53,535 - core.mms_extractor - INFO - ë¡œë“œëœ ì •ì§€ì–´ ìˆ˜: 204ê°œ
2025-12-19 09:36:53,535 - core.mms_extractor - INFO - 3ï¸âƒ£ Kiwiì— ìƒí’ˆëª… ë“±ë¡ ì¤‘...
2025-12-19 09:36:53,535 - core.mms_extractor - INFO - === Kiwiì— ìƒí’ˆëª… ë“±ë¡ ì‹œì‘ ===
2025-12-19 09:36:53,536 - core.mms_extractor - INFO - ë“±ë¡í•  ê³ ìœ  ë³„ì¹­ ìˆ˜: 0ê°œ
2025-12-19 09:36:53,536 - core.mms_extractor - INFO - ìœ íš¨í•œ ë³„ì¹­ ìˆ˜: 0ê°œ
2025-12-19 09:36:53,536 - core.mms_extractor - INFO - Kiwiì— ìƒí’ˆëª… ë“±ë¡ ì™„ë£Œ: 0ê°œ ì„±ê³µ, 0ê°œ ì‹¤íŒ¨
2025-12-19 09:36:53,536 - core.mms_extractor - INFO - 4ï¸âƒ£ í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë“œ ì¤‘...
2025-12-19 09:36:53,536 - core.mms_extractor - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë”© ì‹œì‘...
2025-12-19 09:36:53,536 - utils.db_utils - INFO - === ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë“œ ì‹œì‘ ===
2025-12-19 09:36:53,536 - utils.db_utils - INFO - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° context manager ì‹œì‘
2025-12-19 09:36:53,536 - utils.db_utils - INFO - === ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œë„ ì¤‘ ===
2025-12-19 09:36:53,536 - utils.db_utils - INFO - DB ì—°ê²° ì •ë³´:
2025-12-19 09:36:53,536 - utils.db_utils - INFO -   - ì‚¬ìš©ìëª…: apps
2025-12-19 09:36:53,536 - utils.db_utils - INFO -   - ë¹„ë°€ë²ˆí˜¸: **********
2025-12-19 09:36:53,536 - utils.db_utils - INFO -   - í˜¸ìŠ¤íŠ¸: 150.2.181.115
2025-12-19 09:36:53,536 - utils.db_utils - INFO -   - í¬íŠ¸: 1531
2025-12-19 09:36:53,536 - utils.db_utils - INFO -   - ì„œë¹„ìŠ¤ëª…: NTOSDEV
2025-12-19 09:36:53,536 - utils.db_utils - INFO - DSN ìƒì„± ì¤‘: 150.2.181.115:1531/NTOSDEV
2025-12-19 09:36:53,537 - utils.db_utils - INFO - DSN ìƒì„± ì„±ê³µ: (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=150.2.181.115)(PORT=1531))(CONNECT_DATA=(SERVICE_NAME=NTOSDEV)))
2025-12-19 09:36:53,537 - utils.db_utils - INFO - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œë„ ì¤‘...
2025-12-19 09:36:53,542 - utils.db_utils - ERROR - Oracle ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜:
2025-12-19 09:36:53,542 - utils.db_utils - ERROR -   - ì˜¤ë¥˜ ì½”ë“œ: 0
2025-12-19 09:36:53,542 - utils.db_utils - ERROR -   - ì˜¤ë¥˜ ë©”ì‹œì§€: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-19 09:36:53,542 - utils.db_utils - ERROR -   - ì „ì²´ ì˜¤ë¥˜: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-19 09:36:53,542 - utils.db_utils - ERROR - ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… ì¤‘ ì˜¤ë¥˜: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-19 09:36:53,542 - utils.db_utils - ERROR - ì˜¤ë¥˜ íƒ€ì…: DatabaseError
2025-12-19 09:36:53,543 - utils.db_utils - ERROR - ì˜¤ë¥˜ ìƒì„¸: Traceback (most recent call last):
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 119, in database_connection
    conn = get_database_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 72, in get_database_connection
    conn = cx_Oracle.connect(user=username, password=password, dsn=dsn, encoding="UTF-8")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
cx_Oracle.DatabaseError: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help

2025-12-19 09:36:53,543 - utils.db_utils - WARNING - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
2025-12-19 09:36:53,543 - utils.db_utils - ERROR - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë°ì´í„°ë² ì´ìŠ¤ ë¡œë“œ ì‹¤íŒ¨: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-19 09:36:53,549 - utils.db_utils - ERROR - ì˜¤ë¥˜ ìƒì„¸: Traceback (most recent call last):
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 156, in load_program_from_database
    with database_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.12/3.12.11_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 137, in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 119, in database_connection
    conn = get_database_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 72, in get_database_connection
    conn = cx_Oracle.connect(user=username, password=password, dsn=dsn, encoding="UTF-8")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
cx_Oracle.DatabaseError: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help

2025-12-19 09:36:53,550 - core.mms_extractor - INFO - ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í”„ë¡œê·¸ë¨ ì •ë³´ ë¡œë“œ: 0ê°œ
2025-12-19 09:36:53,550 - core.mms_extractor - WARNING - í”„ë¡œê·¸ë¨ ë°ì´í„°ê°€ ë¹„ì–´ìˆì–´ ì„ë² ë”©ì„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
2025-12-19 09:36:53,550 - core.mms_extractor - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë“œ í›„ ë°ì´í„° í¬ê¸°: (0, 3)
2025-12-19 09:36:53,550 - core.mms_extractor - INFO - 5ï¸âƒ£ ì¡°ì§ ì •ë³´ ë¡œë“œ ì¤‘...
2025-12-19 09:36:53,550 - core.mms_extractor - INFO - === ì¡°ì§ ì •ë³´ ë¡œë“œ ì‹œì‘ (ëª¨ë“œ: db) ===
2025-12-19 09:36:53,550 - core.mms_extractor - INFO - ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°ì§ ì •ë³´ ë¡œë“œ ì¤‘...
2025-12-19 09:36:53,550 - utils.db_utils - INFO - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œë„ ì¤‘...
2025-12-19 09:36:53,550 - utils.db_utils - INFO - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° context manager ì‹œì‘
2025-12-19 09:36:53,550 - utils.db_utils - INFO - === ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œë„ ì¤‘ ===
2025-12-19 09:36:53,550 - utils.db_utils - INFO - DB ì—°ê²° ì •ë³´:
2025-12-19 09:36:53,550 - utils.db_utils - INFO -   - ì‚¬ìš©ìëª…: apps
2025-12-19 09:36:53,550 - utils.db_utils - INFO -   - ë¹„ë°€ë²ˆí˜¸: **********
2025-12-19 09:36:53,550 - utils.db_utils - INFO -   - í˜¸ìŠ¤íŠ¸: 150.2.181.115
2025-12-19 09:36:53,550 - utils.db_utils - INFO -   - í¬íŠ¸: 1531
2025-12-19 09:36:53,550 - utils.db_utils - INFO -   - ì„œë¹„ìŠ¤ëª…: NTOSDEV
2025-12-19 09:36:53,550 - utils.db_utils - INFO - DSN ìƒì„± ì¤‘: 150.2.181.115:1531/NTOSDEV
2025-12-19 09:36:53,550 - utils.db_utils - INFO - DSN ìƒì„± ì„±ê³µ: (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=150.2.181.115)(PORT=1531))(CONNECT_DATA=(SERVICE_NAME=NTOSDEV)))
2025-12-19 09:36:53,550 - utils.db_utils - INFO - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œë„ ì¤‘...
2025-12-19 09:36:53,555 - utils.db_utils - ERROR - Oracle ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜:
2025-12-19 09:36:53,555 - utils.db_utils - ERROR -   - ì˜¤ë¥˜ ì½”ë“œ: 0
2025-12-19 09:36:53,556 - utils.db_utils - ERROR -   - ì˜¤ë¥˜ ë©”ì‹œì§€: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-19 09:36:53,556 - utils.db_utils - ERROR -   - ì „ì²´ ì˜¤ë¥˜: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-19 09:36:53,556 - utils.db_utils - ERROR - ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… ì¤‘ ì˜¤ë¥˜: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-19 09:36:53,556 - utils.db_utils - ERROR - ì˜¤ë¥˜ íƒ€ì…: DatabaseError
2025-12-19 09:36:53,556 - utils.db_utils - ERROR - ì˜¤ë¥˜ ìƒì„¸: Traceback (most recent call last):
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 119, in database_connection
    conn = get_database_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 72, in get_database_connection
    conn = cx_Oracle.connect(user=username, password=password, dsn=dsn, encoding="UTF-8")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
cx_Oracle.DatabaseError: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help

2025-12-19 09:36:53,556 - utils.db_utils - WARNING - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
2025-12-19 09:36:53,556 - utils.db_utils - ERROR - DBì—ì„œ ì¡°ì§ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help
2025-12-19 09:36:53,556 - utils.db_utils - ERROR - DB ì¡°ì§ ë¡œë“œ ì˜¤ë¥˜ ìƒì„¸: Traceback (most recent call last):
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 223, in load_org_from_database
    with database_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.12/3.12.11_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 137, in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 119, in database_connection
    conn = get_database_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongwook/workspace/AgenticWorkflow/mms_extractor_exp/utils/db_utils.py", line 72, in get_database_connection
    conn = cx_Oracle.connect(user=username, password=password, dsn=dsn, encoding="UTF-8")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
cx_Oracle.DatabaseError: DPI-1047: Cannot locate a 64-bit Oracle Client library: "dlopen(libclntsh.dylib, 0x0001): tried: 'libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache), 'libclntsh.dylib' (no such file), '/usr/local/lib/libclntsh.dylib' (no such file), '/usr/lib/libclntsh.dylib' (no such file, not in dyld cache)". See https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html for help

2025-12-19 09:36:53,557 - core.mms_extractor - INFO - === ì¡°ì§ ì •ë³´ ë¡œë“œ ìµœì¢… ì™„ë£Œ: 0ê°œ ì¡°ì§ ===
2025-12-19 09:36:53,557 - core.mms_extractor - INFO - ìµœì¢… ì¡°ì§ ë°ì´í„° ìŠ¤í‚¤ë§ˆ: ['item_nm', 'item_id', 'item_desc', 'item_dmn']
2025-12-19 09:36:53,557 - core.mms_extractor - WARNING - ì¡°ì§ ë°ì´í„°ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. ì¡°ì§/ë§¤ì¥ ì¶”ì¶œì´ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2025-12-19 09:36:53,557 - core.mms_extractor - INFO - ì¡°ì§ ì •ë³´ ë¡œë“œ í›„ ë°ì´í„° í¬ê¸°: (0, 4)
2025-12-19 09:36:53,557 - core.mms_extractor - INFO - ============================================================
2025-12-19 09:36:53,557 - core.mms_extractor - INFO - ğŸ“‹ ë°ì´í„° ë¡œë”© ì™„ë£Œ - ìµœì¢… ìƒíƒœ ìš”ì•½
2025-12-19 09:36:53,557 - core.mms_extractor - INFO - ============================================================
2025-12-19 09:36:53,557 - core.mms_extractor - INFO - âœ… ìƒí’ˆ ë°ì´í„°: (0, 5)
2025-12-19 09:36:53,557 - core.mms_extractor - INFO - âœ… í”„ë¡œê·¸ë¨ ë°ì´í„°: (0, 3)
2025-12-19 09:36:53,557 - core.mms_extractor - INFO - âœ… ì¡°ì§ ë°ì´í„°: (0, 4)
2025-12-19 09:36:53,557 - core.mms_extractor - INFO - âœ… ì •ì§€ì–´: 204ê°œ
2025-12-19 09:36:53,557 - utils.common_utils - INFO - _load_data ì‹¤í–‰ì™„ë£Œ: 0.03ì´ˆ
2025-12-19 09:36:53,557 - core.mms_extractor - INFO - ğŸ­ LLM Factory ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:36:53,558 - core.mms_extractor - INFO - âœ… LLM Factory ì´ˆê¸°í™” ì™„ë£Œ
2025-12-19 09:36:53,558 - core.mms_extractor - INFO - ğŸ› ï¸ ì„œë¹„ìŠ¤ ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:36:53,558 - core.mms_extractor - INFO - âœ… ì„œë¹„ìŠ¤ ì´ˆê¸°í™” ì™„ë£Œ
2025-12-19 09:36:53,558 - core.mms_extractor - INFO - âš™ï¸ Workflow ì—”ì§„ ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:36:53,558 - core.workflow_core - DEBUG - Added step: InputValidationStep to MMS Extraction Workflow
2025-12-19 09:36:53,558 - core.workflow_core - DEBUG - Added step: EntityExtractionStep to MMS Extraction Workflow
2025-12-19 09:36:53,558 - core.workflow_core - DEBUG - Added step: ProgramClassificationStep to MMS Extraction Workflow
2025-12-19 09:36:53,558 - core.workflow_core - DEBUG - Added step: ContextPreparationStep to MMS Extraction Workflow
2025-12-19 09:36:53,558 - core.workflow_core - DEBUG - Added step: LLMExtractionStep to MMS Extraction Workflow
2025-12-19 09:36:53,558 - core.workflow_core - DEBUG - Added step: ResponseParsingStep to MMS Extraction Workflow
2025-12-19 09:36:53,558 - core.workflow_core - DEBUG - Added step: ResultConstructionStep to MMS Extraction Workflow
2025-12-19 09:36:53,558 - core.workflow_core - DEBUG - Added step: ValidationStep to MMS Extraction Workflow
2025-12-19 09:36:53,558 - core.workflow_core - DEBUG - Added step: DAGExtractionStep to MMS Extraction Workflow
2025-12-19 09:36:53,558 - core.mms_extractor - INFO - ğŸ¯ DAG ì¶”ì¶œ ë‹¨ê³„ ë“±ë¡ë¨
2025-12-19 09:36:53,558 - core.mms_extractor - INFO - âœ… Workflow ì—”ì§„ ì´ˆê¸°í™” ì™„ë£Œ (9ê°œ ë‹¨ê³„)
2025-12-19 09:36:53,558 - core.mms_extractor - INFO - âœ… MMSExtractor ì´ˆê¸°í™” ì™„ë£Œ
2025-12-19 09:36:53,558 - __main__ - INFO - ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì™„ë£Œ
2025-12-19 09:36:53,558 - __main__ - INFO - íŒŒì‹±ëœ ì¸ì: host=0.0.0.0, port=8000, debug=False
2025-12-19 09:36:53,558 - __main__ - INFO - âœ… ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì™„ë£Œ, ìš”ì²­ ì²˜ë¦¬ ì¤€ë¹„ë¨
2025-12-19 09:36:53,558 - __main__ - INFO - MMS ì¶”ì¶œê¸° API ì„œë²„ë¥¼ 0.0.0.0:8000ì—ì„œ ì‹œì‘í•©ë‹ˆë‹¤
2025-12-19 09:36:53,558 - __main__ - INFO - ì‚¬ìš© ê°€ëŠ¥í•œ ì—”ë“œí¬ì¸íŠ¸:
2025-12-19 09:36:53,558 - __main__ - INFO -   GET  /health - í—¬ìŠ¤ì²´í¬
2025-12-19 09:36:53,558 - __main__ - INFO -   GET  /models - ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ ëª©ë¡
2025-12-19 09:36:53,558 - __main__ - INFO -   GET  /status - ì„œë²„ ìƒíƒœ ì¡°íšŒ
2025-12-19 09:36:53,558 - __main__ - INFO -   POST /extract - ë‹¨ì¼ ë©”ì‹œì§€ ì¶”ì¶œ
2025-12-19 09:36:53,558 - __main__ - INFO -   POST /extract/batch - ë‹¤ì¤‘ ë©”ì‹œì§€ ë°°ì¹˜ ì¶”ì¶œ
2025-12-19 09:36:53,558 - __main__ - INFO -   POST /dag - Entity DAG ì¶”ì¶œ
2025-12-19 09:36:53,585 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.113.51:8000
2025-12-19 09:36:53,586 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-12-19 09:37:39,615 - __main__ - INFO - ğŸ¯ DAG ì¶”ì¶œ ìš”ì²­ë¨ - LLM: ax, ë©”ì‹œì§€ ê¸¸ì´: 202ì
2025-12-19 09:37:39,616 - __main__ - INFO - ğŸ“‹ ë©”ì‹œì§€ ID: test_message_id
2025-12-19 09:37:39,616 - __main__ - INFO - LLM ëª¨ë¸ì´ gemini -> axë¡œ ë³€ê²½ë¨. ì¬ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:37:39,617 - core.mms_extractor - INFO - LLM ì´ˆê¸°í™” ì™„ë£Œ: ax (skt/ax4)
2025-12-19 09:37:39,617 - utils.common_utils - INFO - _initialize_llm ì‹¤í–‰ì™„ë£Œ: 0.00ì´ˆ
2025-12-19 09:37:39,618 - __main__ - INFO - ë°ì´í„° ì†ŒìŠ¤ë¡œ ë©”ì‹œì§€ ì²˜ë¦¬ ì¤‘: db
2025-12-19 09:37:39,618 - __main__ - INFO - DAG ì¶”ì¶œê³¼ í•¨ê»˜ ìˆœì°¨ ì²˜ë¦¬ ì‹œì‘
2025-12-19 09:37:39,618 - utils.prompt_utils - DEBUG - í”„ë¡¬í”„íŠ¸ ì €ì¥ì†Œ ì´ˆê¸°í™”ë¨
2025-12-19 09:37:39,618 - core.mms_extractor - INFO - ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ì—ì„œ ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œì‘: 
(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„...
2025-12-19 09:37:39,618 - core.workflow_core - INFO - ============================================================
2025-12-19 09:37:39,618 - core.workflow_core - INFO - ğŸš€ MMS Extraction Workflow ì‹œì‘
2025-12-19 09:37:39,618 - core.workflow_core - INFO - ============================================================
2025-12-19 09:37:39,618 - core.workflow_core - INFO - 
============================== 1/9: InputValidationStep ==============================
2025-12-19 09:37:39,618 - core.mms_workflow_steps - INFO - ë©”ì‹œì§€ ë‚´ìš©: 
(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504...
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - ë©”ì‹œì§€ ê¸¸ì´: 202 ë¬¸ì
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - === í˜„ì¬ ì¶”ì¶œê¸° ì„¤ì • ===
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - ë°ì´í„° ì†ŒìŠ¤: db
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - ìƒí’ˆ ì •ë³´ ì¶”ì¶œ ëª¨ë“œ: llm
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - ì—”í‹°í‹° ì¶”ì¶œ ëª¨ë“œ: llm
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - LLM ëª¨ë¸: ax
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - ìƒí’ˆ ë°ì´í„° í¬ê¸°: (0, 5)
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ë°ì´í„° í¬ê¸°: (0, 3)
2025-12-19 09:37:39,619 - core.workflow_core - INFO - âœ… InputValidationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-19 09:37:39,619 - core.workflow_core - INFO - 
============================== 2/9: EntityExtractionStep ==============================
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - ğŸ” DB ëª¨ë“œ íŠ¹ë³„ ì§„ë‹¨ ì‹œì‘
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - ìƒí’ˆ ë°ì´í„° ìƒíƒœ: (0, 5)
2025-12-19 09:37:39,619 - core.mms_workflow_steps - INFO - DB ëª¨ë“œ ë³„ì¹­ ë°ì´í„° í’ˆì§ˆ: 0/0 ìœ íš¨
2025-12-19 09:37:39,619 - services.entity_recognizer - INFO - === Kiwi Entity Extraction Started ===
2025-12-19 09:37:39,619 - services.entity_recognizer - INFO - Message length: 199 chars
2025-12-19 09:37:39,619 - services.entity_recognizer - ERROR - Item data is empty! Cannot extract entities.
2025-12-19 09:37:39,619 - utils.common_utils - INFO - extract_entities_hybrid ì‹¤í–‰ì™„ë£Œ: 0.00ì´ˆ
2025-12-19 09:37:39,620 - core.mms_workflow_steps - INFO - ì¶”ì¶œëœ Kiwi ì—”í‹°í‹°: []
2025-12-19 09:37:39,620 - core.mms_workflow_steps - INFO - ì¶”ì¶œëœ í›„ë³´ ì—”í‹°í‹°: []
2025-12-19 09:37:39,620 - core.mms_workflow_steps - INFO - ë§¤ì¹­ëœ ìƒí’ˆ ì •ë³´: (0, 0)
2025-12-19 09:37:39,620 - core.mms_workflow_steps - INFO - ğŸ” DB ëª¨ë“œ ì—”í‹°í‹° ì¶”ì¶œ ê²°ê³¼ ë¶„ì„
2025-12-19 09:37:39,620 - core.mms_workflow_steps - ERROR - ğŸš¨ DB ëª¨ë“œì—ì„œ í›„ë³´ ì—”í‹°í‹°ê°€ ì „í˜€ ì¶”ì¶œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!
2025-12-19 09:37:39,620 - core.mms_workflow_steps - ERROR - ê°€ëŠ¥í•œ ì›ì¸:
2025-12-19 09:37:39,620 - core.mms_workflow_steps - ERROR - 1. ìƒí’ˆ ë°ì´í„°ë² ì´ìŠ¤ì— í•´ë‹¹ ìƒí’ˆì´ ì—†ìŒ
2025-12-19 09:37:39,620 - core.mms_workflow_steps - ERROR - 2. ë³„ì¹­ ê·œì¹™ ì ìš© ì‹¤íŒ¨
2025-12-19 09:37:39,620 - core.mms_workflow_steps - ERROR - 3. ìœ ì‚¬ë„ ì„ê³„ê°’ì´ ë„ˆë¬´ ë†’ìŒ
2025-12-19 09:37:39,620 - core.mms_workflow_steps - ERROR - 4. Kiwi í˜•íƒœì†Œ ë¶„ì„ ì‹¤íŒ¨
2025-12-19 09:37:39,620 - core.workflow_core - INFO - âœ… EntityExtractionStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-19 09:37:39,620 - core.workflow_core - INFO - 
============================== 3/9: ProgramClassificationStep ==============================
2025-12-19 09:37:39,620 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ê²°ê³¼ í‚¤: ['pgm_cand_info', 'similarities']
2025-12-19 09:37:39,620 - core.workflow_core - INFO - âœ… ProgramClassificationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-19 09:37:39,620 - core.workflow_core - INFO - 
============================== 4/9: ContextPreparationStep ==============================
2025-12-19 09:37:39,620 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì»¨í…ìŠ¤íŠ¸ ê¸¸ì´: 22 ë¬¸ì
2025-12-19 09:37:39,620 - core.mms_workflow_steps - WARNING - í›„ë³´ ì•„ì´í…œì´ ì—†ìŠµë‹ˆë‹¤!
2025-12-19 09:37:39,620 - core.mms_workflow_steps - WARNING - ì´ëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì˜ ë¬¸ì œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
2025-12-19 09:37:39,620 - core.mms_workflow_steps - WARNING - 1. ìƒí’ˆ ë°ì´í„° ë¡œë”© ì‹¤íŒ¨
2025-12-19 09:37:39,620 - core.mms_workflow_steps - WARNING - 2. ì—”í‹°í‹° ì¶”ì¶œ ì‹¤íŒ¨
2025-12-19 09:37:39,620 - core.mms_workflow_steps - WARNING - 3. ìœ ì‚¬ë„ ë§¤ì¹­ ì„ê³„ê°’ ë¬¸ì œ
2025-12-19 09:37:39,620 - core.workflow_core - INFO - âœ… ContextPreparationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-19 09:37:39,620 - core.workflow_core - INFO - 
============================== 5/9: LLMExtractionStep ==============================
2025-12-19 09:37:39,621 - core.mms_extractor - DEBUG - LLM ëª¨ë“œ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 6445 ë¬¸ì
2025-12-19 09:37:39,621 - core.mms_extractor - DEBUG - í›„ë³´ ìƒí’ˆ ëª©ë¡ í¬í•¨ ì—¬ë¶€: False
2025-12-19 09:37:39,621 - core.mms_workflow_steps - INFO - êµ¬ì„±ëœ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 6445 ë¬¸ì
2025-12-19 09:37:39,621 - core.mms_workflow_steps - INFO - RAG ì»¨í…ìŠ¤íŠ¸ í¬í•¨ ì—¬ë¶€: False
2025-12-19 09:37:39,621 - utils.prompt_utils - INFO - ğŸ“ í”„ë¡¬í”„íŠ¸ ì €ì¥ë¨: main_extraction_prompt
2025-12-19 09:37:39,621 - utils.prompt_utils - INFO - ğŸ“ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 6,445 ë¬¸ì
2025-12-19 09:37:39,627 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-829442d0-2d3f-44df-8d93-3356ad118004', 'json_data': {'messages': [{'content': '\nExtract the advertisement purpose and product names from the provided advertisement text.\n\n### Advertisement Message ###\n(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n\n### Extraction Steps ###\n\n1. Identify the advertisement\'s purpose first, using expressions as they appear in the original text.\n2. Extract ONLY explicitly mentioned product/service names from the text, using exact original expressions.\n3. For each product, assign a standardized action from: [êµ¬ë§¤, ê°€ì…, ì‚¬ìš©, ë°©ë¬¸, ì°¸ì—¬, ì½”ë“œì…ë ¥, ì¿ í°ë‹¤ìš´ë¡œë“œ, ê¸°íƒ€].\n4. Avoid inferring or adding products not directly mentioned in the text.\n5. Provide channel information considering the extracted product information, preserving original text expressions.\n\n\n### Extraction Guidelines ###\n\n* For title: Create a concise headline (max 50 characters) in headline style (ê°œì¡°ì‹) that captures the core content, excluding labels like \'(ê´‘ê³ )\', \'[SKT]\' and special characters like __, and prioritizing the most important information (benefits, products, events).\n* Prioritize recall over precision to ensure all relevant products are captured, but verify that each extracted term is a distinct offering.\n* Extract all information (purpose, product, channel, pgm) using the exact expressions as they appear in the original text without translation, as specified in the schema.\n* If the advertisement purpose includes encouraging agency/store visits, provide agency channel information.\n\n\n### ì¼ê´€ì„± ìœ ì§€ ì§€ì¹¨ ###\n* ë™ì¼í•œ ê´‘ê³  ë©”ì‹œì§€ì— ëŒ€í•´ì„œëŠ” í•­ìƒ ë™ì¼í•œ ê²°ê³¼ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n* ì• ë§¤í•œ í‘œí˜„ì´ ìˆì„ ë•ŒëŠ” ê°€ì¥ ëª…í™•í•˜ê³  êµ¬ì²´ì ì¸ í•´ì„ì„ ì„ íƒí•˜ì„¸ìš”.\n* ìƒí’ˆëª…ì€ ì›ë¬¸ì—ì„œ ì •í™•íˆ ì–¸ê¸‰ëœ í‘œí˜„ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.\n\n\n\nReturn your response as a JSON object that follows this exact structure:\n\n{\n    "title": "Extract a concise title summarizing the key content of the advertisement in one sentence (max 50 characters). Guidelines: (1) Clearly capture the core content (benefits, products, events, etc.), (2) Write concisely in one sentence, (3) Exclude labels like \'(ê´‘ê³ )\', \'[SKT]\', (4) Remove special characters (__, etc.) and create a natural sentence, (5) Prioritize the most important information, (6) Use a headline style (ê°œì¡°ì‹).",\n    "purpose": {\n        "type": "array",\n        "items": {\n            "type": "string",\n            "enum": [\n                "ìƒí’ˆ ê°€ì… ìœ ë„",\n                "ëŒ€ë¦¬ì /ë§¤ì¥ ë°©ë¬¸ ìœ ë„",\n                "ì›¹/ì•± ì ‘ì† ìœ ë„",\n                "ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„",\n                "í˜œíƒ ì•ˆë‚´",\n                "ì¿ í° ì œê³µ ì•ˆë‚´",\n                "ê²½í’ˆ ì œê³µ ì•ˆë‚´",\n                "ìˆ˜ì‹  ê±°ë¶€ ì•ˆë‚´",\n                "ê¸°íƒ€ ì •ë³´ ì œê³µ"\n            ]\n        },\n        "description": "Primary purpose(s) of the advertisement."\n    },\n    "sales_script": "Generate an extremely concise sales prompt, intended for display on a call center agent\'s monitor, to be used for a rapid cross-sell immediately after resolving a customer\'s issue. The resulting script/message should be highly condensed, containing only the absolute essential facts and a clear action cue, and must be easily readable at a glance.",\n    "product": {\n        "type": "array",\n        "items": {\n            "type": "object",\n            "properties": {\n                "name": {\n                    "type": "string",\n                    "description": "Name of the advertised product or service."\n                },\n                "action": {\n                    "type": "string",\n                    "enum": [\n                        "êµ¬ë§¤",\n                        "ê°€ì…",\n                        "ì‚¬ìš©",\n                        "ë°©ë¬¸",\n                        "ì°¸ì—¬",\n                        "ì½”ë“œì…ë ¥",\n                        "ì¿ í°ë‹¤ìš´ë¡œë“œ",\n                        "ê¸°íƒ€"\n                    ],\n                    "description": "Expected customer action for the product."\n                }\n            }\n        },\n        "description": "Extract all product names from the advertisement."\n    },\n    "channel": {\n        "type": "array",\n        "items": {\n            "type": "object",\n            "properties": {\n                "type": {\n                    "type": "string",\n                    "enum": [\n                        "URL",\n                        "ì „í™”ë²ˆí˜¸",\n                        "ì•±",\n                        "ëŒ€ë¦¬ì ",\n                        "ì˜¨ë¼ì¸ìŠ¤í† ì–´"\n                    ],\n                    "description": "Channel type."\n                },\n                "value": {\n                    "type": "string",\n                    "description": "Specific information for the channel. ëŒ€ë¦¬ì ì¸ ê²½ìš° ***ì ìœ¼ë¡œ í‘œì‹œë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ"\n                },\n                "action": {\n                    "type": "string",\n                    "enum": [\n                        "ê°€ì…",\n                        "ì¶”ê°€ ì •ë³´",\n                        "ë¬¸ì˜",\n                        "ìˆ˜ì‹ ",\n                        "ìˆ˜ì‹  ê±°ë¶€"\n                    ],\n                    "description": "Purpose of the channel."\n                }\n            }\n        },\n        "description": "Channels provided in the advertisement."\n    },\n    "pgm": {\n        "type": "array",\n        "items": {\n            "type": "string"\n        },\n        "description": "Select the two most relevant pgm_nm from the advertising classification criteria."\n    }\n}\n\nIMPORTANT: \n- Do NOT return the schema definition itself\n- Return actual extracted data in the specified format\n- For "purpose": return an array of strings from the enum values\n- For "sales_script": return a concise string for call center agents\n- For "product": return an array of objects with "name" and "action" fields\n- For "channel": return an array of objects with "type", "value", and "action" fields\n- For "pgm": return an array of strings\n\nExample response format:\n{\n    "title": "ì•„ì´í° ì‹ ì œí’ˆ ì¶œì‹œ ê¸°ë… ìµœëŒ€ 70% í• ì¸ í˜œíƒ",\n    "purpose": ["ìƒí’ˆ ê°€ì… ìœ ë„", "í˜œíƒ ì•ˆë‚´"],\n    "sales_script": "ì•„ì´í° ì‹ ì œí’ˆ ì¶œì‹œ ê¸°ë…! í‹°ì›ëŒ€ë¦¬ì  í™”ìˆœì  ë°©ë¬¸ ì‹œ ìµœëŒ€ 70% í• ì¸. ì§€ê¸ˆ ë°”ë¡œ ì•ˆë‚´ë“œë¦´ê¹Œìš”?",\n    "product": [\n        {"name": "ì‹¤ì œ ìƒí’ˆëª…", "action": "ê°€ì…"},\n        {"name": "ë‹¤ë¥¸ ìƒí’ˆëª…", "action": "êµ¬ë§¤"}\n    ],\n    "channel": [\n        {"type": "URL", "value": "ì‹¤ì œ URL", "action": "ê°€ì…"}\n    ],\n    "pgm": ["ì‹¤ì œ í”„ë¡œê·¸ë¨ëª…"]\n}\n\n\n### OUTPUT FORMAT REQUIREMENT ###\nYou MUST respond with a valid JSON object containing actual extracted data.\nDo NOT include schema definitions, type specifications, or template structures.\nReturn only the concrete extracted information in the specified JSON format.\n\n\n### ê´‘ê³  ë¶„ë¥˜ ê¸°ì¤€ ì •ë³´ ###\n\t\n\n### FINAL REMINDER ###\nReturn a JSON object with actual data, not schema definitions!\n', 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:37:39,745 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:37:39,746 - httpcore.connection - DEBUG - connect_tcp.started host='api.platform.a15t.com' port=443 local_address=None timeout=None socket_options=None
2025-12-19 09:37:39,766 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x15f139130>
2025-12-19 09:37:39,766 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x15e9207d0> server_hostname='api.platform.a15t.com' timeout=None
2025-12-19 09:37:39,803 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x15efa83e0>
2025-12-19 09:37:39,803 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:37:39,804 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:37:39,804 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:37:39,804 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:37:39,804 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:37:45,185 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:37:45 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1616'), (b'Connection', b'keep-alive'), (b'x-request-id', b'4f919b36-2db6-4521-a526-ea1793ff5d60')])
2025-12-19 09:37:45,186 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:37:45,186 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:37:45,186 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:37:45,186 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:37:45,186 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:37:45,186 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:37:45 GMT', 'content-type': 'application/json', 'content-length': '1616', 'connection': 'keep-alive', 'x-request-id': '4f919b36-2db6-4521-a526-ea1793ff5d60'})
2025-12-19 09:37:45,186 - openai._base_client - DEBUG - request_id: 4f919b36-2db6-4521-a526-ea1793ff5d60
2025-12-19 09:37:45,195 - core.mms_workflow_steps - INFO - LLM ì‘ë‹µ ê¸¸ì´: 795 ë¬¸ì
2025-12-19 09:37:45,195 - core.mms_workflow_steps - INFO - LLM ì‘ë‹µ ë‚´ìš© (ì²˜ìŒ 500ì): ```json
{
    "title": "ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ ì´ë²¤íŠ¸, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨",
    "purpose": [
        "í˜œíƒ ì•ˆë‚´",
        "ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„"
    ],
    "sales_script": "ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì´ë²¤íŠ¸! ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ì•ˆë‚´",
    "product": [
        {
            "name": "ì•„ì´í°",
            "action": "êµ¬ë§¤"
        },
        {
            "name": "ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ",
            "action": "ê¸°íƒ€"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "https://bit.ly/467rn3q",
            "action": "ì¶”ê°€ ì •ë³´"
        },
 ...
2025-12-19 09:37:45,195 - core.workflow_core - INFO - âœ… LLMExtractionStep ì™„ë£Œ (5.58ì´ˆ)
2025-12-19 09:37:45,196 - core.workflow_core - INFO - 
============================== 6/9: ResponseParsingStep ==============================
2025-12-19 09:37:45,196 - core.mms_workflow_steps - INFO - ì¶”ì¶œëœ JSON ê°ì²´ ìˆ˜: 1ê°œ
2025-12-19 09:37:45,196 - core.mms_workflow_steps - INFO - íŒŒì‹±ëœ JSON ê°ì²´ í‚¤: ['title', 'purpose', 'sales_script', 'product', 'channel', 'pgm']
2025-12-19 09:37:45,196 - core.mms_workflow_steps - INFO - íŒŒì‹±ëœ JSON ë‚´ìš©: {'title': 'ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ ì´ë²¤íŠ¸, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨', 'purpose': ['í˜œíƒ ì•ˆë‚´', 'ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„'], 'sales_script': 'ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì´ë²¤íŠ¸! ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ì•ˆë‚´', 'product': [{'name': 'ì•„ì´í°', 'action': 'êµ¬ë§¤'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ê¸°íƒ€'}], 'channel': [{'type': 'URL', 'value': 'https://bit.ly/467rn3q', 'action': 'ì¶”ê°€ ì •ë³´'}, {'type': 'ì „í™”ë²ˆí˜¸', 'value': 'SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)', 'action': 'ë¬¸ì˜'}, {'type': 'ì „í™”ë²ˆí˜¸', 'value': '1504', 'action': 'ìˆ˜ì‹  ê±°ë¶€'}], 'pgm': ['ì´ë²¤íŠ¸/í”„ë¡œëª¨ì…˜', 'ëª¨ë°”ì¼/ITê¸°ê¸°']}
2025-12-19 09:37:45,196 - core.workflow_core - INFO - âœ… ResponseParsingStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-19 09:37:45,196 - core.workflow_core - INFO - 
============================== 7/9: ResultConstructionStep ==============================
2025-12-19 09:37:45,196 - services.result_builder - INFO - ================================================================================
2025-12-19 09:37:45,196 - services.result_builder - INFO - ğŸ” [PRODUCT DEBUG] build_extraction_result ì‹œì‘
2025-12-19 09:37:45,196 - services.result_builder - INFO - ================================================================================
2025-12-19 09:37:45,196 - services.result_builder - INFO - ğŸ“‹ [STEP 1] product_items ì¶”ì¶œ
2025-12-19 09:37:45,196 - services.result_builder - INFO -    - ì›ë³¸ product íƒ€ì…: <class 'list'>
2025-12-19 09:37:45,196 - services.result_builder - INFO -    - ì›ë³¸ product ë‚´ìš©: [{'name': 'ì•„ì´í°', 'action': 'êµ¬ë§¤'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ê¸°íƒ€'}]
2025-12-19 09:37:45,196 - services.result_builder - INFO -    âœ… ìµœì¢… product_items ê°œìˆ˜: 2ê°œ
2025-12-19 09:37:45,196 - services.result_builder - INFO -    âœ… ìµœì¢… product_items ë‚´ìš©: [{'name': 'ì•„ì´í°', 'action': 'êµ¬ë§¤'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ê¸°íƒ€'}]
2025-12-19 09:37:45,196 - services.result_builder - INFO - ğŸ“‹ [STEP 2] LLM ì¶”ì¶œ ì—”í‹°í‹°: ['ì•„ì´í°', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ']
2025-12-19 09:37:45,196 - services.result_builder - INFO - ğŸ“‹ [STEP 2] Kiwi ì—”í‹°í‹°: []
2025-12-19 09:37:45,196 - services.result_builder - INFO - ğŸ“‹ [STEP 2] entity_extraction_mode: llm
2025-12-19 09:37:45,196 - services.result_builder - INFO - ğŸ” [STEP 3] LLM ê¸°ë°˜ ì—”í‹°í‹° ë§¤ì¹­ ì‹œì‘
2025-12-19 09:37:45,197 - services.result_builder - INFO -    - ì‚¬ìš©í•  LLM ëª¨ë¸: ax
2025-12-19 09:37:45,197 - services.result_builder - INFO -    - llm_factory íƒ€ì…: <class 'utils.llm_factory.LLMFactory'>
2025-12-19 09:37:45,197 - utils.llm_factory - INFO - âœ… LLM ëª¨ë¸ ìƒì„± ì™„ë£Œ: ax (skt/ax4)
2025-12-19 09:37:45,197 - utils.llm_factory - INFO - âœ… ì´ 1ê°œ LLM ëª¨ë¸ ìƒì„± ì™„ë£Œ
2025-12-19 09:37:45,197 - services.result_builder - INFO -    - ì´ˆê¸°í™”ëœ LLM ëª¨ë¸ ìˆ˜: 1ê°œ
2025-12-19 09:37:45,197 - services.result_builder - INFO -    - ì´ˆê¸°í™”ëœ LLM ëª¨ë¸ ìˆ˜: 1ê°œ
2025-12-19 09:37:45,197 - services.entity_recognizer - INFO - === LLM Entity Extraction Started ===
2025-12-19 09:37:45,197 - services.entity_recognizer - INFO - Context mode: dag
2025-12-19 09:37:45,199 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-04480d98-9447-4c27-a1bf-1e777ec03da5', 'json_data': {'messages': [{'content': '\n                    \n                    \nAnalyze the advertisement to extract **User Action Paths**.\nOutput two distinct sections:\n1. **ENTITY**: A list of independent Root Nodes.\n2. **DAG**: A structured graph representing the flow from Root to Benefit.\n\n## Crucial Language Rule\n* **DO NOT TRANSLATE:** Extract entities **exactly as they appear** in the source text.\n* **Preserve Original Script:** If the text says "ì•„ì´í° 17", output "ì•„ì´í° 17" (NOT "iPhone 17"). If it says "T Day", output "T Day".\n\n## Part 1: Root Node Selection Hierarchy (Extract ALL Distinct Roots)\nIdentify logical starting points based on this priority. If multiple independent offers exist, extract all.\n\n1.  **Physical Store (Highest):** Specific branch names.\n    * *Match:* "ìƒˆìƒ˜ëŒ€ë¦¬ì  ì—­ê³¡ì ", "ë°±ìƒ‰ëŒ€ë¦¬ì  ìˆ˜ì„±ì§ì˜ì "\n2.  **Core Service (Plans/VAS):** Rate plans, Value-Added Services, Internet/IPTV.\n    * *Match:* "5GX í”„ë¼ì„ ìš”ê¸ˆì œ", "Vì»¬ëŸ¬ë§", "ë¡œë° baro ìš”ê¸ˆì œ"\n3.  **Subscription/Event:** Membership signups or specific campaigns.\n    * *Match:* "T ìš°ì£¼", "T Day", "0 day", "ê³¨ë“œë²ˆí˜¸ í”„ë¡œëª¨ì…˜"\n4.  **App/Platform:** Apps requiring action.\n    * *Match:* "A.(ì—ì´ë‹·)", "PASS ì•±", "T world"\n5.  **Product (Hardware):** Device launches without a specific store focus.\n    * *Match:* "iPhone 17", "ê°¤ëŸ­ì‹œ Z í”Œë¦½7"\n\n## Part 2: DAG Construction Rules\nConstruct a Directed Acyclic Graph (DAG) for each identified Root Node.\n* **Format:** `(Node:Action) -[Edge]-> (Node:Action)`\n* **Nodes:**\n    * **Root:** The entry point identified above (Original Text).\n    * **Core:** The product/service being used or bought (Original Text).\n    * **Value:** The final reward or benefit (Original Text).\n* **Edges:**\n    * **Definition:** A verb describing the relationship between two nodes.\n    * **Purpose:** Represents the action or transition from one node to the next.\n    * **Examples:**\n        * `ê°€ì…` (subscribe), `êµ¬ë§¤` (purchase), `ì‚¬ìš©` (use)\n        * `íšë“` (obtain), `ì œê³µ` (provide), `ì§€ê¸‰` (grant)\n        * `ë°©ë¬¸` (visit), `ë‹¤ìš´ë¡œë“œ` (download), `ì‹ ì²­` (apply)\n    * **Guidelines:** Use concise action verbs that clearly describe how the user moves from one step to the next in the flow.\n* **Logic:** Represent the shortest path from the Root action to the Final Benefit.\n\n## Strict Exclusions\n* Ignore navigational labels (\'ë°”ë¡œ ê°€ê¸°\', \'ë§í¬\', \'Shortcut\').\n* Ignore generic partners (\'ìŠ¤íƒ€ë²…ìŠ¤\', \'CU\') unless they are the main subscription target.\n\n## Output Format: Do not use Markdown formatting. Use plain text.\nENTITY: <comma-separated list of all Nodes in original text>\nDAG: <DAG representation line by line in original text>\n\n\n## message:\n(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                    \n                    ', 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:37:45,200 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:37:45,200 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:37:45,200 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:37:45,200 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:37:45,201 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:37:45,201 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:37:46,766 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:37:46 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'741'), (b'Connection', b'keep-alive'), (b'x-request-id', b'23af5250-b13c-46ba-ba86-336bd2dad712')])
2025-12-19 09:37:46,767 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:37:46,768 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:37:46,768 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:37:46,768 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:37:46,768 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:37:46,769 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:37:46 GMT', 'content-type': 'application/json', 'content-length': '741', 'connection': 'keep-alive', 'x-request-id': '23af5250-b13c-46ba-ba86-336bd2dad712'})
2025-12-19 09:37:46,769 - openai._base_client - DEBUG - request_id: 23af5250-b13c-46ba-ba86-336bd2dad712
2025-12-19 09:37:46,770 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

Analyze the advertisement to extract **User Action Paths**.
Output two distinct sections:
1. **ENTITY**: A list of independent Root Nodes.
2. **DAG**: A structured graph representing the flow from Root to Benefit.

## Crucial Language Rule
* **DO NOT TRANSLATE:** Extract entities **exactly as they appear** in the source text.
* **Preserve Original Script:** If the text says "ì•„ì´í° 17", output "ì•„ì´í° 17" (NOT "iPhone 17"). If it says "T Day", output "T Day".

## Part 1: Root Node Selection Hierarchy (Extract ALL Distinct Roots)
Identify logical starting points based on this priority. If multiple independent offers exist, extract all.

1.  **Physical Store (Highest):** Specific branch names.
    * *Match:* "ìƒˆìƒ˜ëŒ€ë¦¬ì  ì—­ê³¡ì ", "ë°±ìƒ‰ëŒ€ë¦¬ì  ìˆ˜ì„±ì§ì˜ì "
2.  **Core Service (Plans/VAS):** Rate plans, Value-Added Services, Internet/IPTV.
    * *Match:* "5GX í”„ë¼ì„ ìš”ê¸ˆì œ", "Vì»¬ëŸ¬ë§", "ë¡œë° baro ìš”ê¸ˆì œ"
3.  **Subscription/Event:** Membership signups or specific campaigns.
    * *Match:* "T ìš°ì£¼", "T Day", "0 day", "ê³¨ë“œë²ˆí˜¸ í”„ë¡œëª¨ì…˜"
4.  **App/Platform:** Apps requiring action.
    * *Match:* "A.(ì—ì´ë‹·)", "PASS ì•±", "T world"
5.  **Product (Hardware):** Device launches without a specific store focus.
    * *Match:* "iPhone 17", "ê°¤ëŸ­ì‹œ Z í”Œë¦½7"

## Part 2: DAG Construction Rules
Construct a Directed Acyclic Graph (DAG) for each identified Root Node.
* **Format:** `(Node:Action) -[Edge]-> (Node:Action)`
* **Nodes:**
    * **Root:** The entry point identified above (Original Text).
    * **Core:** The product/service being used or bought (Original Text).
    * **Value:** The final reward or benefit (Original Text).
* **Edges:**
    * **Definition:** A verb describing the relationship between two nodes.
    * **Purpose:** Represents the action or transition from one node to the next.
    * **Examples:**
        * `ê°€ì…` (subscribe), `êµ¬ë§¤` (purchase), `ì‚¬ìš©` (use)
        * `íšë“` (obtain), `ì œê³µ` (provide), `ì§€ê¸‰` (grant)
        * `ë°©ë¬¸` (visit), `ë‹¤ìš´ë¡œë“œ` (download), `ì‹ ì²­` (apply)
    * **Guidelines:** Use concise action verbs that clearly describe how the user moves from one step to the next in the flow.
* **Logic:** Represent the shortest path from the Root action to the Final Benefit.

## Strict Exclusions
* Ignore navigational labels ('ë°”ë¡œ ê°€ê¸°', 'ë§í¬', 'Shortcut').
* Ignore generic partners ('ìŠ¤íƒ€ë²…ìŠ¤', 'CU') unless they are the main subscription target.

## Output Format: Do not use Markdown formatting. Use plain text.
ENTITY: <comma-separated list of all Nodes in original text>
DAG: <DAG representation line by line in original text>


## message:
(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
ENTITY: T Day, ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ, ì‘ëª¨, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›

DAG: (T Day:ì°¸ì—¬) -[ì§„í–‰]-> (ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ:ì°¸ì—¬) -[ì‘ëª¨]-> (ì‘ëª¨:ì°¸ì—¬) -[ì§€ê¸‰]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:íšë“)
----------------------------------------------------------------------------------------------------
2025-12-19 09:37:46,770 - services.entity_recognizer - INFO - [skt/ax4] Extracted 3 entities: ['T Day', 'ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›']
2025-12-19 09:37:46,771 - services.entity_recognizer - INFO - [skt/ax4] Extracted DAG text (82 chars)
2025-12-19 09:37:46,798 - utils.common_utils - INFO - extract_entities_with_llm ì‹¤í–‰ì™„ë£Œ: 1.60ì´ˆ
2025-12-19 09:37:46,798 - services.result_builder - INFO -    âœ… similarities_fuzzy ê²°ê³¼ í¬ê¸°: ë¹„ì–´ìˆìŒ
2025-12-19 09:37:46,798 - services.result_builder - WARNING -    âš ï¸ similarities_fuzzyê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤!
2025-12-19 09:37:46,798 - services.result_builder - INFO - ğŸ” [STEP 6] ìƒí’ˆ ì •ë³´ ë§¤í•‘ ì‹œì‘
2025-12-19 09:37:46,798 - services.result_builder - INFO -    - similarities_fuzzy.empty: True
2025-12-19 09:37:46,798 - services.result_builder - WARNING -    âš ï¸ similarities_fuzzyê°€ ë¹„ì–´ìˆìŒ â†’ LLM ê²°ê³¼ ê·¸ëŒ€ë¡œ ì‚¬ìš© (else ë¸Œëœì¹˜)
2025-12-19 09:37:46,798 - services.result_builder - INFO -    - product_items ê°œìˆ˜: 2ê°œ
2025-12-19 09:37:46,798 - services.result_builder - INFO -    - stop_item_names ê°œìˆ˜: 204ê°œ
2025-12-19 09:37:46,799 - services.result_builder - INFO -    - í•„í„°ë§ í›„ product_items ê°œìˆ˜: 2ê°œ
2025-12-19 09:37:46,799 - services.result_builder - INFO -    - í•„í„°ë§ í›„ product_items: [{'name': 'ì•„ì´í°', 'action': 'êµ¬ë§¤'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ê¸°íƒ€'}]
2025-12-19 09:37:46,799 - services.result_builder - INFO -    âœ… ìµœì¢… product ê°œìˆ˜: 2ê°œ
2025-12-19 09:37:46,799 - services.result_builder - INFO -    âœ… ìµœì¢… product ë‚´ìš©: [{'item_nm': 'ì•„ì´í°', 'item_id': ['#'], 'item_name_in_msg': ['ì•„ì´í°'], 'expected_action': ['êµ¬ë§¤']}, {'item_nm': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'item_id': ['#'], 'item_name_in_msg': ['ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'], 'expected_action': ['ê¸°íƒ€']}]
2025-12-19 09:37:46,799 - services.result_builder - INFO - ğŸ·ï¸  [STEP 7] offer_object ì´ˆê¸°í™”: type=product, value ê°œìˆ˜=2ê°œ
2025-12-19 09:37:46,799 - services.result_builder - INFO - ğŸ” [STEP 8] ì±„ë„ ì •ë³´ ì²˜ë¦¬ ë° offer_object ì—…ë°ì´íŠ¸
2025-12-19 09:37:46,799 - services.result_builder - INFO -    âœ… ìµœì¢… channel ê°œìˆ˜: 3ê°œ
2025-12-19 09:37:46,799 - services.result_builder - INFO -    âœ… ìµœì¢… offer_object type: product
2025-12-19 09:37:46,799 - services.result_builder - INFO -    âœ… ìµœì¢… offer_object value ê°œìˆ˜: 2ê°œ
2025-12-19 09:37:46,799 - services.result_builder - INFO - âœ… [STEP 9] final_resultì— offer í•„ë“œ ì¶”ê°€ ì™„ë£Œ
2025-12-19 09:37:46,799 - services.result_builder - INFO - ================================================================================
2025-12-19 09:37:46,799 - services.result_builder - INFO - âœ… [PRODUCT DEBUG] build_extraction_result ì™„ë£Œ
2025-12-19 09:37:46,799 - services.result_builder - INFO -    ìµœì¢… final_result['product'] ê°œìˆ˜: 2ê°œ
2025-12-19 09:37:46,799 - services.result_builder - INFO - ================================================================================
2025-12-19 09:37:46,799 - core.workflow_core - INFO - âœ… ResultConstructionStep ì™„ë£Œ (1.60ì´ˆ)
2025-12-19 09:37:46,800 - core.workflow_core - INFO - 
============================== 8/9: ValidationStep ==============================
2025-12-19 09:37:46,800 - core.mms_workflow_steps - INFO - === ìµœì¢… ê²°ê³¼ ìš”ì•½ ===
2025-12-19 09:37:46,800 - core.mms_workflow_steps - INFO - ì œëª©: ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ ì´ë²¤íŠ¸, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨
2025-12-19 09:37:46,800 - core.mms_workflow_steps - INFO - ëª©ì : ['í˜œíƒ ì•ˆë‚´', 'ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„']
2025-12-19 09:37:46,800 - core.mms_workflow_steps - INFO - íŒë§¤ ìŠ¤í¬ë¦½íŠ¸: ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì´ë²¤íŠ¸! ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ì•ˆë‚´
2025-12-19 09:37:46,800 - core.mms_workflow_steps - INFO - ìƒí’ˆ ìˆ˜: 2ê°œ
2025-12-19 09:37:46,800 - core.mms_workflow_steps - INFO - ì±„ë„ ìˆ˜: 3ê°œ
2025-12-19 09:37:46,800 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ìˆ˜: 0ê°œ
2025-12-19 09:37:46,800 - core.mms_workflow_steps - INFO - ì˜¤í¼ íƒ€ì…: product
2025-12-19 09:37:46,800 - core.mms_workflow_steps - INFO - ì˜¤í¼ í•­ëª© ìˆ˜: 2ê°œ
2025-12-19 09:37:46,800 - core.workflow_core - INFO - âœ… ValidationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-19 09:37:46,800 - core.workflow_core - INFO - 
============================== 9/9: DAGExtractionStep ==============================
2025-12-19 09:37:46,800 - core.mms_workflow_steps - INFO - ğŸ”— DAG ì¶”ì¶œ ì‹œì‘...
2025-12-19 09:37:46,800 - core.entity_dag_extractor - INFO - ğŸš€ DAG ì¶”ì¶œ í”„ë¡œì„¸ìŠ¤ ì‹œì‘
2025-12-19 09:37:46,800 - core.entity_dag_extractor - INFO - ğŸ“ ì…ë ¥ ë©”ì‹œì§€ ê¸¸ì´: 199ì
2025-12-19 09:37:46,801 - core.entity_dag_extractor - INFO - ğŸ¤– ì‚¬ìš© LLM ëª¨ë¸: client=<openai.resources.chat.completions.completions.Completions object at 0x15f10d5e0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x15f1029c0> root_client=<openai.OpenAI object at 0x15f1392e0> root_async_client=<openai.AsyncOpenAI object at 0x15f139a90> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-12-19 09:37:46,801 - core.entity_dag_extractor - INFO - âš™ï¸  í”„ë¡¬í”„íŠ¸ ëª¨ë“œ: cot
2025-12-19 09:37:46,801 - core.entity_dag_extractor - INFO - ğŸ¤– LLMì— DAG ì¶”ì¶œ ìš”ì²­ ì¤‘...
2025-12-19 09:37:46,801 - core.entity_dag_extractor - INFO - ğŸ“ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 3418ì
2025-12-19 09:37:46,803 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-65e49543-8d45-4adf-9d63-59a59e6750ea', 'json_data': {'messages': [{'content': '\n## ì‘ì—… ëª©í‘œ\ní†µì‹ ì‚¬ ê´‘ê³  ë©”ì‹œì§€ì—ì„œ **í•µì‹¬ í–‰ë™ íë¦„**ì„ ì¶”ì¶œí•˜ì—¬ ê°„ê²°í•œ DAG(Directed Acyclic Graph) í˜•ì‹ìœ¼ë¡œ í‘œí˜„\n\n## í•µì‹¬ ì›ì¹™\n1. **ìµœì†Œ ê²½ë¡œ ì›ì¹™**: ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ëŠ” ê°€ì¥ ì§§ì€ ê²½ë¡œë§Œ í‘œí˜„\n2. **í•µì‹¬ íë¦„ ìš°ì„ **: ë¶€ê°€ì  ì„¤ëª…ë³´ë‹¤ ì£¼ìš” í–‰ë™ ì—°ì‡„ì— ì§‘ì¤‘\n3. **ì¤‘ë³µ ì œê±°**: ì˜ë¯¸ê°€ ê²¹ì¹˜ëŠ” ë…¸ë“œëŠ” í•˜ë‚˜ë¡œ í†µí•©\n\n## ì¶œë ¥ í˜•ì‹\n```\n(ê°œì²´ëª…:ê¸°ëŒ€í–‰ë™) -[ê´€ê³„ë™ì‚¬]-> (ê°œì²´ëª…:ê¸°ëŒ€í–‰ë™)\në˜ëŠ”\n(ê°œì²´ëª…:ê¸°ëŒ€í–‰ë™)\n```\n\n## ê°œì²´ëª… ì¹´í…Œê³ ë¦¬\n### í•„ìˆ˜ ì¶”ì¶œ ëŒ€ìƒ\n- **ì œí’ˆ/ì„œë¹„ìŠ¤**: êµ¬ì²´ì  ì œí’ˆëª…, ì„œë¹„ìŠ¤ëª…, ìš”ê¸ˆì œëª…\n- **í•µì‹¬ í˜œíƒ**: ê¸ˆì „ì  í˜œíƒ, ì‚¬ì€í’ˆ, í• ì¸\n- **í–‰ë™ ì¥ì†Œ**: ì˜¨/ì˜¤í”„ë¼ì¸ ì±„ë„ (í•„ìš” ì‹œë§Œ)\n\n### ì¶”ì¶œ ì œì™¸ ëŒ€ìƒ\n- ê´‘ê³  ëŒ€ìƒì (ì˜ˆ: "ì•„ì´í° ê³ ê°ë‹˜")\n- ì¼ì •/ê¸°ê°„ ì •ë³´\n- ë¶€ê°€ ì„¤ëª… ê¸°ëŠ¥ (í•µì‹¬ íë¦„ê³¼ ë¬´ê´€í•œ ê²½ìš°)\n- ë²•ì  ê³ ì§€ì‚¬í•­\n\n## ê¸°ëŒ€ í–‰ë™ (10ê°œ í‘œì¤€ ë™ì‚¬)\n`êµ¬ë§¤, ê°€ì…, ì‚¬ìš©, ë°©ë¬¸, ì°¸ì—¬, ë“±ë¡, ë‹¤ìš´ë¡œë“œ, í™•ì¸, ìˆ˜ë ¹, ì ë¦½`\n\n## ê´€ê³„ ë™ì‚¬ ìš°ì„ ìˆœìœ„\n### 1ìˆœìœ„: ì¡°ê±´ë¶€ ê´€ê³„\n- `ê°€ì…í•˜ë©´`, `êµ¬ë§¤í•˜ë©´`, `ì‚¬ìš©í•˜ë©´`, `ì‹ ì²­í•˜ë©´`, `ì°¸ì—¬í•˜ë©´` ,`ë‹¤ìš´ë¡œë“œí•˜ë©´`, `ì „í™”í•˜ë©´`, \'í™•ì¸í•˜ë©´\', \'ìˆ˜ë ¹í•˜ë©´\'\n- `ê°€ì…í›„`, `êµ¬ë§¤í›„`, `ì‚¬ìš©í›„`, `ì‹ ì²­í›„`, `ì°¸ì—¬í›„` ,`ë‹¤ìš´ë¡œë“œí›„`, `ì „í™”í›„`, `í™•ì¸í›„`, \'ìˆ˜ë ¹í›„\'\n\n### 2ìˆœìœ„: ê²°ê³¼ ê´€ê³„\n- `ë°›ë‹¤`, `ìˆ˜ë ¹í•˜ë‹¤`, `ì ë¦½í•˜ë‹¤`, `ì¶©ì „í•˜ë‹¤`, `ì ë¦½í•˜ë‹¤`, `ì´ìš©í•˜ë‹¤`, `ì‚¬ìš©í•˜ë‹¤`, `ì‹ ì²­í•˜ë‹¤`, `ë“±ë¡í•˜ë‹¤`, `ë‹¤ìš´ë¡œë“œí•˜ë‹¤`, `í™•ì¸í•˜ë‹¤`, `ìˆ˜ë ¹í•˜ë‹¤`\n\n### 3ìˆœìœ„: ê²½ë¡œ ê´€ê³„ (í•„ìš” ì‹œë§Œ)\n- `í†µí•´`, `ì´ìš©í•˜ì—¬`, `ì‚¬ìš©í•˜ì—¬`, `ì „í™”í•˜ì—¬`, `ë°©ë¬¸í•˜ì—¬`, `ì°¸ì—¬í•˜ì—¬`, `ë“±ë¡í•˜ì—¬`, `ë‹¤ìš´ë¡œë“œí•˜ì—¬`, `í™•ì¸í•˜ì—¬`, `ìˆ˜ë ¹í•˜ì—¬`\n\n## DAG êµ¬ì„± ì „ëµ\n### Step 1: ëª¨ë“  ê°€ì¹˜ ì œì•ˆ ì‹ë³„\nê´‘ê³ ì—ì„œ ì œì‹œí•˜ëŠ” **ëª¨ë“  ë…ë¦½ì  ê°€ì¹˜**ë¥¼ íŒŒì•…\n- **ì¦‰ê°ì  í˜œíƒ**: ê¸ˆì „ì  ë³´ìƒ, ì‚¬ì€í’ˆ ë“±\n- **ì„œë¹„ìŠ¤ ê°€ì¹˜**: ì œí’ˆ/ì„œë¹„ìŠ¤ ìì²´ì˜ ê¸°ëŠ¥ê³¼ í˜œíƒ\nì˜ˆ: "ë„¤ì´ë²„í˜ì´ 5000ì›" + "AI í†µí™” ê¸°ëŠ¥ ë¬´ë£Œ ì´ìš©"\n\n### Step 2: ë…ë¦½ ê²½ë¡œ êµ¬ì„±\nê° ê°€ì¹˜ ì œì•ˆë³„ë¡œ ë³„ë„ ê²½ë¡œ ìƒì„±:\n1. **í˜œíƒ íšë“ ê²½ë¡œ**: ê°€ì… â†’ ì‚¬ìš© â†’ ë³´ìƒ\n2. **ì„œë¹„ìŠ¤ ì²´í—˜ ê²½ë¡œ**: ê°€ì… â†’ ê²½í—˜ â†’ ê¸°ëŠ¥ í™œìš©\n\n### Step 3: ì„¸ë¶€ ê¸°ëŠ¥ í‘œí˜„\nì£¼ìš” ê¸°ëŠ¥ë“¤ì´ ëª…ì‹œëœ ê²½ìš° ë¶„ê¸° êµ¬ì¡°ë¡œ í‘œí˜„:\n- í†µí•© ê°€ëŠ¥í•œ ê¸°ëŠ¥ì€ í•˜ë‚˜ë¡œ (ì˜ˆ: AIí†µí™”ë…¹ìŒ/ìš”ì•½ â†’ "AIí†µí™”ê¸°ëŠ¥")\n- ë…ë¦½ì  ê¸°ëŠ¥ì€ ë³„ë„ë¡œ (ì˜ˆ: AIìŠ¤íŒ¸í•„í„°ë§)\n\n## ë¶„ì„ í”„ë¡œì„¸ìŠ¤ (í•„ìˆ˜ ë‹¨ê³„)\n### Step 1: ë©”ì‹œì§€ ì´í•´\n- ì „ì²´ ë©”ì‹œì§€ë¥¼ í•œ ë¬¸ë‹¨ìœ¼ë¡œ ìš”ì•½\n- ê´‘ê³ ì£¼ì˜ ì˜ë„ íŒŒì•…\n- **ì•”ì‹œëœ í–‰ë™ ì‹ë³„**: ëª…ì‹œë˜ì§€ ì•Šì•˜ì§€ë§Œ í•„ìˆ˜ì ì¸ í–‰ë™ (ì˜ˆ: ë§¤ì¥ ë°©ë¬¸)\n\n### Step 2: ê°€ì¹˜ ì œì•ˆ ì‹ë³„\n- ì¦‰ê°ì  í˜œíƒ (ê¸ˆì „, ì‚¬ì€í’ˆ ë“±)\n- ì„œë¹„ìŠ¤ ê°€ì¹˜ (ê¸°ëŠ¥, í¸ì˜ì„± ë“±)\n- ë¶€ê°€ í˜œíƒ (ìˆë‹¤ë©´)\n\n### Step 3: Root Node ê²°ì •\n- **ì‚¬ìš©ìì˜ ì²« ë²ˆì§¸ í–‰ë™ì€ ë¬´ì—‡ì¸ê°€?**\n- ë§¤ì¥ ì£¼ì†Œ/ì—°ë½ì²˜ê°€ ìˆë‹¤ë©´ â†’ ë°©ë¬¸ì´ ì‹œì‘ì \n- ì˜¨ë¼ì¸ ë§í¬ê°€ ìˆë‹¤ë©´ â†’ ì ‘ì†ì´ ì‹œì‘ì \n- ì•± ê´€ë ¨ ë‚´ìš©ì´ë¼ë©´ â†’ ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ì \n\n### Step 4: ê´€ê³„ ë¶„ì„\n- Root Nodeë¶€í„° ì‹œì‘í•˜ëŠ” ì „ì²´ íë¦„\n- ê° í–‰ë™ ê°„ ì¸ê³¼ê´€ê³„ ê²€ì¦\n- ì¡°ê±´ë¶€ ê´€ê³„ ëª…í™•í™”\n- ì‹œê°„ì  ìˆœì„œ í™•ì¸\n\n### Step 5: DAG êµ¬ì„±\n- ìœ„ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ë…¸ë“œì™€ ì—£ì§€ ê²°ì •\n- ì¤‘ë³µ ì œê±° ë° í†µí•©\n\n### Step 6: ìê¸° ê²€ì¦ ë° ìˆ˜ì •\n- **í‰ê°€**: ì´ˆê¸° DAGë¥¼ ì•„ë˜ ê¸°ì¤€ì— ë”°ë¼ ê²€í† \n  - Root Nodeê°€ ëª…í™•íˆ ì‹ë³„ë˜ì—ˆëŠ”ê°€? (ë°©ë¬¸/ì ‘ì†/ë‹¤ìš´ë¡œë“œ ë“±)\n  - ëª¨ë“  ë…ë¦½ì  ê°€ì¹˜ ì œì•ˆì´ í¬í•¨ë˜ì—ˆëŠ”ê°€? (ì¦‰ê°ì  í˜œíƒê³¼ ì„œë¹„ìŠ¤ ê°€ì¹˜)\n  - ì£¼ìš” ê¸°ëŠ¥ë“¤ì´ ì ì ˆíˆ ê·¸ë£¹í™”ë˜ì—ˆëŠ”ê°€? (ì¤‘ë³µ ì œê±° ì—¬ë¶€)\n  - ê° ê²½ë¡œê°€ ëª…í™•í•œ ê°€ì¹˜ë¥¼ ì „ë‹¬í•˜ëŠ”ê°€?\n  - ì „ì²´ êµ¬ì¡°ê°€ ê°„ê²°í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ê°€?\n  - ê´€ê³„ ë™ì‚¬ê°€ ìš°ì„ ìˆœìœ„ì— ë§ê²Œ ì‚¬ìš©ë˜ì—ˆëŠ”ê°€? (ì¡°ê±´ë¶€ > ê²°ê³¼ > ê²½ë¡œ)\n- **ë¬¸ì œ ì‹ë³„**: ìœ„ ê¸°ì¤€ ì¤‘ ì¶©ì¡±ë˜ì§€ ì•Šì€ í•­ëª©ì„ ëª…ì‹œí•˜ê³ , ê·¸ ì´ìœ ë¥¼ ì„¤ëª…\n- **ìˆ˜ì •**: ì‹ë³„ëœ ë¬¸ì œë¥¼ í•´ê²°í•œ ìˆ˜ì •ëœ DAGë¥¼ ìƒì„±\n\n### Step 7: ìµœì¢… ê²€ì¦\n- ìˆ˜ì •ëœ DAGê°€ ëª¨ë“  ê¸°ì¤€ì„ ì¶©ì¡±í•˜ëŠ”ì§€ ì¬í™•ì¸\n- ë§Œì•½ ë¬¸ì œê°€ ë‚¨ì•„ìˆë‹¤ë©´, ì¶”ê°€ ìˆ˜ì • ìˆ˜í–‰ (ìµœëŒ€ 2íšŒ ë°˜ë³µ)\n- ìµœì¢…ì ìœ¼ë¡œ ëª¨ë“  ê¸°ì¤€ì´ ì¶©ì¡±ë˜ì—ˆìŒì„ í™•ì¸\n\n## ì¶œë ¥ í˜•ì‹ (ë°˜ë“œì‹œ ëª¨ë“  ì„¹ì…˜ í¬í•¨)\n### 1. ë©”ì‹œì§€ ë¶„ì„\n```\n[ë©”ì‹œì§€ ìš”ì•½ ë° í•µì‹¬ ì˜ë„]\n[ì‹ë³„ëœ ê°€ì¹˜ ì œì•ˆ ëª©ë¡]\n```\n\n### 2. ì´ˆê¸° DAG\n```\n[ì´ˆê¸° DAG êµ¬ì¡°]\n```\n\n### 3. ìê¸° ê²€ì¦ ê²°ê³¼\n```\n[í‰ê°€ ê¸°ì¤€ë³„ ê²€í†  ê²°ê³¼]\n[ì‹ë³„ëœ ë¬¸ì œì  ë° ì´ìœ ]\n```\n\n### 4. ìˆ˜ì •ëœ DAG\n```\n[ìˆ˜ì •ëœ DAG êµ¬ì¡°]\n```\n\n### 5. ìµœì¢… ê²€ì¦ ë° ì¶”ì¶œ ê·¼ê±°\n```\n[ìµœì¢… DAGê°€ ëª¨ë“  ê¸°ì¤€ì„ ì¶©ì¡±í•˜ëŠ” ì´ìœ ]\n[ë…¸ë“œ/ì—£ì§€ ì„ íƒì˜ ë…¼ë¦¬ì  ê·¼ê±°]\n```\n\n## ì‹¤í–‰ ì§€ì¹¨\n1. ìœ„ 7ë‹¨ê³„ ë¶„ì„ í”„ë¡œì„¸ìŠ¤ë¥¼ **ìˆœì„œëŒ€ë¡œ** ìˆ˜í–‰\n2. ê° ë‹¨ê³„ì—ì„œ ë°œê²¬í•œ ë‚´ìš©ì„ **ëª…ì‹œì ìœ¼ë¡œ** ê¸°ë¡\n3. DAG êµ¬ì„± ì „ **ì¶©ë¶„í•œ ë¶„ì„** ìˆ˜í–‰\n4. ì´ˆê¸° DAG ìƒì„± í›„ **ë°˜ë“œì‹œ ìê¸° ê²€ì¦ ë° ìˆ˜ì •** ìˆ˜í–‰\n5. ìµœì¢… ì¶œë ¥ì— **ëª¨ë“  ì„¹ì…˜** í¬í•¨\n6. **ì¤‘ìš”**: ë¶„ì„ ê³¼ì •ì„ ìƒëµí•˜ì§€ ë§ê³ , ì‚¬ê³  ê³¼ì •ê³¼ ìˆ˜ì • ì´ìœ ë¥¼ íˆ¬ëª…í•˜ê²Œ ë³´ì—¬ì£¼ì„¸ìš”\n\n## ì˜ˆì‹œ ë¶„ì„\n### ì˜ëª»ëœ ì˜ˆì‹œ (í•µì‹¬ íë¦„ë§Œ ì¶”ì¶œ)\n```\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í›„]-> (AIì „í™”ì„œë¹„ìŠ¤:ì‚¬ìš©)\n(AIì „í™”ì„œë¹„ìŠ¤:ì‚¬ìš©) -[ì‚¬ìš©í•˜ë©´]-> (ë„¤ì´ë²„í˜ì´5000ì›:ìˆ˜ë ¹)\n```\nâ†’ ë¬¸ì œ: ì„œë¹„ìŠ¤ ìì²´ì˜ ê°€ì¹˜(AI ê¸°ëŠ¥ë“¤)ê°€ ëˆ„ë½ë¨\n\n### ì˜¬ë°”ë¥¸ ì˜ˆì‹œ (ì™„ì „í•œ ê°€ì¹˜ í‘œí˜„ - Root Node í¬í•¨)\n```\n# ë§¤ì¥ ë°©ë¬¸ë¶€í„° ì‹œì‘í•˜ëŠ” ê²½ë¡œ\n(ëŒ€ë¦¬ì :ë°©ë¬¸) -[ë°©ë¬¸í•˜ë©´]-> (ì—ì´ë‹·:ê°€ì…)\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í•˜ë©´]-> (ë„¤ì´ë²„í˜ì´5000ì›:ìˆ˜ë ¹)\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í•˜ë©´]-> (AIí†µí™”ê¸°ëŠ¥:ì‚¬ìš©)\n(AIí†µí™”ê¸°ëŠ¥:ì‚¬ìš©) -[ì‚¬ìš©í•˜ë©´]-> (í†µí™”í’ˆì§ˆ:í–¥ìƒ)\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í•˜ë©´]-> (AIìŠ¤íŒ¸í•„í„°:ì‚¬ìš©)\n(AIìŠ¤íŒ¸í•„í„°:ì‚¬ìš©) -[ì‚¬ìš©í•˜ë©´]-> (ìŠ¤íŒ¸ì°¨ë‹¨:íš¨ê³¼)\n```\nâ†’ ì¦‰ê°ì  í˜œíƒ(5000ì›)ê³¼ ì„œë¹„ìŠ¤ ê°€ì¹˜(AI ê¸°ëŠ¥)ë¥¼ ëª¨ë‘ í¬í•¨\n\n### ë¶„ì„ ëŒ€ìƒ ë©”ì‹œì§€\n(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n\nìœ„ ë©”ì‹œì§€ë¥¼ ë¶„ì„í•˜ì—¬ 7ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤ì— ë”°ë¼ DAGë¥¼ ì¶”ì¶œí•´ì£¼ì„¸ìš”.\n', 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:37:46,804 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:37:46,805 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:37:46,805 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:37:46,805 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:37:46,805 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:37:46,806 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:38:01,644 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:38:01 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'4216'), (b'Connection', b'keep-alive'), (b'x-request-id', b'93a7a450-372a-4c32-bc60-c645749261aa')])
2025-12-19 09:38:01,646 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:38:01,646 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:38:01,647 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:38:01,647 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:38:01,647 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:38:01,647 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:38:01 GMT', 'content-type': 'application/json', 'content-length': '4216', 'connection': 'keep-alive', 'x-request-id': '93a7a450-372a-4c32-bc60-c645749261aa'})
2025-12-19 09:38:01,647 - openai._base_client - DEBUG - request_id: 93a7a450-372a-4c32-bc60-c645749261aa
2025-12-19 09:38:01,649 - core.entity_dag_extractor - INFO - ğŸ“ LLM ì‘ë‹µ ê¸¸ì´: 1699ì
2025-12-19 09:38:01,649 - core.entity_dag_extractor - INFO - ğŸ“„ LLM ì‘ë‹µ ë¯¸ë¦¬ë³´ê¸° (ì²˜ìŒ 500ì): ## 1. ë©”ì‹œì§€ ë¶„ì„

```
[ë©”ì‹œì§€ ìš”ì•½ ë° í•µì‹¬ ì˜ë„]
SKTì—ì„œ 9ì›” T dayë¥¼ ë§ì•„ ì•„ì´í° ì¶œì‹œë¥¼ ê¸°ë…í•˜ì—¬ í€´ì¦ˆ ì´ë²¤íŠ¸ë¥¼ ì§„í–‰í•˜ê³ , ì°¸ì—¬ìì—ê²Œ ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ê¸°íšŒë¥¼ ì œê³µí•˜ëŠ” ì´ë²¤íŠ¸ ê´‘ê³ ì…ë‹ˆë‹¤. ê´‘ê³ ì£¼ëŠ” ê³ ê°ì´ ì´ë²¤íŠ¸ì— ì°¸ì—¬í•˜ì—¬ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ê¸°íšŒë¥¼ ì–»ë„ë¡ ìœ ë„í•˜ê³ ì í•©ë‹ˆë‹¤.

[ì‹ë³„ëœ ê°€ì¹˜ ì œì•ˆ ëª©ë¡]
- (ì¦‰ê°ì  í˜œíƒ) ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ê¸°íšŒ
- (ì„œë¹„ìŠ¤ ê°€ì¹˜) í€´ì¦ˆ ì´ë²¤íŠ¸ ì°¸ì—¬ ë° ì‘ëª¨ ê¸°íšŒ íšë“
```

## 2. ì´ˆê¸° DAG

```
(T day ì´ë²¤íŠ¸:ì°¸ì—¬) -[ì°¸ì—¬í•˜ë©´]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨)
```

## 3. ìê¸° ê²€ì¦ ê²°ê³¼

```
[í‰ê°€ ê¸°ì¤€ë³„ ê²€í†  ê²°ê³¼]
- Root Nodeê°€ ëª…í™•íˆ ì‹ë³„ë˜ì—ˆëŠ”ê°€? (ë°©ë¬¸/ì ‘ì†/ë‹¤ìš´ë¡œë“œ ë“±)
  â†’ ì•„ë‹ˆì˜¤. ì´ë²¤íŠ¸ ì°¸ì—¬ì˜ ì‹œì‘ì ì´ ëª…ì‹œë˜ì§€ ì•ŠìŒ
- ëª¨ë“  ë…ë¦½ì  ê°€ì¹˜ ì œì•ˆì´ í¬í•¨ë˜ì—ˆëŠ”ê°€? (ì¦‰ê°ì  í˜œíƒê³¼ ì„œë¹„ìŠ¤ ê°€ì¹˜)
  â†’ ì˜ˆ. ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ê¸°íšŒì™€ í€´...
2025-12-19 09:38:01,649 - core.entity_dag_extractor - INFO - ğŸ” DAG ì„¹ì…˜ ì¶”ì¶œ ì¤‘...
2025-12-19 09:38:01,650 - core.entity_dag_extractor - INFO - ğŸ“„ ì¶”ì¶œëœ DAG ì„¹ì…˜ ê¸¸ì´: 85ì
2025-12-19 09:38:01,650 - core.entity_dag_extractor - INFO - ğŸ“„ DAG ì„¹ì…˜ ë‚´ìš©:
(SKT ì›¹ì‚¬ì´íŠ¸:ì ‘ì†) -[ì ‘ì†í•˜ë©´]-> (T day ì´ë²¤íŠ¸:ì°¸ì—¬)
(T day ì´ë²¤íŠ¸:ì°¸ì—¬) -[ì°¸ì—¬í•˜ë©´]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨)
2025-12-19 09:38:01,650 - core.entity_dag_extractor - INFO - ğŸ”— DAG íŒŒì‹± ì¤‘...
2025-12-19 09:38:01,651 - core.entity_dag_extractor - INFO - ğŸ“Š íŒŒì‹±ëœ DAG - ë…¸ë“œ ìˆ˜: 3, ì—£ì§€ ìˆ˜: 2
2025-12-19 09:38:01,651 - core.entity_dag_extractor - INFO - ğŸ¯ DAG ë…¸ë“œ ëª©ë¡: ['SKT ì›¹ì‚¬ì´íŠ¸:ì ‘ì†', 'T day ì´ë²¤íŠ¸:ì°¸ì—¬', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨']
2025-12-19 09:38:01,652 - core.entity_dag_extractor - INFO - ğŸ”— DAG ì—£ì§€ ëª©ë¡: [('SKT ì›¹ì‚¬ì´íŠ¸:ì ‘ì†', 'T day ì´ë²¤íŠ¸:ì°¸ì—¬'), ('T day ì´ë²¤íŠ¸:ì°¸ì—¬', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨')]
2025-12-19 09:38:01,652 - core.entity_dag_extractor - INFO - âœ… DAG ì¶”ì¶œ í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ
2025-12-19 09:38:01,652 - core.mms_workflow_steps - INFO - âœ… DAG ì¶”ì¶œ ì™„ë£Œ: 2ê°œ ì—£ì§€
2025-12-19 09:38:01,652 - utils.visualization_utils - INFO - ğŸ¨ DAG ë‹¤ì´ì–´ê·¸ë¨ ìƒì„± ì‹œì‘ - íŒŒì¼ëª…: dag_test_message_id_0b0442110e59a38a
2025-12-19 09:38:01,652 - utils.visualization_utils - INFO - ğŸ“Š ì…ë ¥ ê·¸ë˜í”„ - ë…¸ë“œ ìˆ˜: 3, ì—£ì§€ ìˆ˜: 2
2025-12-19 09:38:01,652 - utils.visualization_utils - INFO - âœ… Graphviz PATH ì¶”ê°€: /usr/local/bin
2025-12-19 09:38:01,654 - utils.visualization_utils - INFO - ğŸ–¼ï¸ DAG ì´ë¯¸ì§€ ë Œë”ë§ ì¤‘...
2025-12-19 09:38:01,654 - graphviz._tools - DEBUG - os.makedirs('dag_images')
2025-12-19 09:38:01,654 - graphviz.saving - DEBUG - write lines to 'dag_images/dag_test_message_id_0b0442110e59a38a'
2025-12-19 09:38:01,656 - graphviz.backend.execute - DEBUG - run [PosixPath('dot'), '-Kdot', '-Tpng', '-O', 'dag_test_message_id_0b0442110e59a38a']
2025-12-19 09:38:01,962 - graphviz.rendering - DEBUG - delete 'dag_images/dag_test_message_id_0b0442110e59a38a'
2025-12-19 09:38:01,963 - utils.visualization_utils - INFO - âœ… DAG ë‹¤ì´ì–´ê·¸ë¨ ìƒì„± ì™„ë£Œ: dag_images/dag_test_message_id_0b0442110e59a38a.png
2025-12-19 09:38:01,963 - core.mms_workflow_steps - INFO - ğŸ“Š DAG ë‹¤ì´ì–´ê·¸ë¨ ì €ì¥: dag_test_message_id_0b0442110e59a38a.png
2025-12-19 09:38:01,963 - core.workflow_core - INFO - âœ… DAGExtractionStep ì™„ë£Œ (15.16ì´ˆ)
2025-12-19 09:38:01,963 - core.workflow_core - INFO - 
============================================================
2025-12-19 09:38:01,963 - core.workflow_core - INFO - âœ… MMS Extraction Workflow ì™„ë£Œ (ì´ 22.34ì´ˆ)
2025-12-19 09:38:01,963 - core.workflow_core - INFO - ============================================================
2025-12-19 09:38:01,963 - core.workflow_core - INFO - 
ğŸ“Š ì‹¤í–‰ ìš”ì•½:
2025-12-19 09:38:01,963 - core.workflow_core - INFO -   âœ… InputValidationStep: 0.00ì´ˆ
2025-12-19 09:38:01,963 - core.workflow_core - INFO -   âœ… EntityExtractionStep: 0.00ì´ˆ
2025-12-19 09:38:01,963 - core.workflow_core - INFO -   âœ… ProgramClassificationStep: 0.00ì´ˆ
2025-12-19 09:38:01,963 - core.workflow_core - INFO -   âœ… ContextPreparationStep: 0.00ì´ˆ
2025-12-19 09:38:01,963 - core.workflow_core - INFO -   âœ… LLMExtractionStep: 5.58ì´ˆ
2025-12-19 09:38:01,963 - core.workflow_core - INFO -   âœ… ResponseParsingStep: 0.00ì´ˆ
2025-12-19 09:38:01,963 - core.workflow_core - INFO -   âœ… ResultConstructionStep: 1.60ì´ˆ
2025-12-19 09:38:01,964 - core.workflow_core - INFO -   âœ… ValidationStep: 0.00ì´ˆ
2025-12-19 09:38:01,964 - core.workflow_core - INFO -   âœ… DAGExtractionStep: 15.16ì´ˆ
2025-12-19 09:38:01,964 - utils.common_utils - INFO - process_message ì‹¤í–‰ì™„ë£Œ: 22.35ì´ˆ
2025-12-19 09:38:01,964 - core.mms_extractor - INFO - âœ… ì›Œí¬í”Œë¡œìš°ì—ì„œ ì´ë¯¸ ì¶”ì¶œëœ DAGê°€ ì¡´ì¬í•©ë‹ˆë‹¤. ì¤‘ë³µ ì¶”ì¶œì„ ê±´ë„ˆëœë‹ˆë‹¤.
2025-12-19 09:38:01,964 - core.mms_extractor - INFO - ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ì—ì„œ ë©”ì‹œì§€ ì²˜ë¦¬ ì™„ë£Œ
2025-12-19 09:38:01,964 - __main__ - INFO - MongoDB ì €ì¥ ì¤‘...
2025-12-19 09:38:02,230 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}}
2025-12-19 09:38:02,231 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "previousDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
2025-12-19 09:38:02,231 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,231 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,232 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}}
2025-12-19 09:38:02,232 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "remainingTimeMS": 4999}
2025-12-19 09:38:02,233 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
2025-12-19 09:38:02,236 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "driverConnectionId": 1, "serverConnectionId": 1035, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 2.4759999942034483, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"69375d1ee3a83c1c1c157ac7\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-12-19T00:38:02.235Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 1035, \"maxWireVersion\": 27, \"ok\": 1.0}"}
2025-12-19 09:38:02,236 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,236 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "previousDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0024759999942034483>]>"}
2025-12-19 09:38:02,237 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0024759999942034483>]>", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,237 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,237 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-19 09:38:02,237 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "driverConnectionId": 1, "serverConnectionId": 1035, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
2025-12-19 09:38:02,240 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0015985830104909837}
2025-12-19 09:38:02,240 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00312212499557063}
2025-12-19 09:38:02,240 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"B+zZ5+v8TPuDNgXcwF2Oeg==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 1144108930, "operationId": 1144108930, "driverConnectionId": 1, "serverConnectionId": 1037, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,241 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "durationMS": 1.013, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 1144108930, "operationId": 1144108930, "driverConnectionId": 1, "serverConnectionId": 1037, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,241 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-19 09:38:02,241 - utils.mongodb_utils - INFO - MongoDB ì—°ê²° ì„±ê³µ: aos.mmsext
2025-12-19 09:38:02,241 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x160306d40>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0024759999942034483>]>", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}}
2025-12-19 09:38:02,242 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x160306d40>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0024759999942034483>]>", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,242 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,242 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 7.408397505059838e-05}
2025-12-19 09:38:02,242 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "command": "{\"insert\": \"mmsext\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"B+zZ5+v8TPuDNgXcwF2Oeg==\", \"subType\": \"04\"}}}, \"$db\": \"aos\", \"documents\": [{\"message\": \"\n(\uad11\uace0)[SKT] 9\uc6d4 T day \ud61c\ud0dd \uc548\ub0b4__2025\ub144 9\uc6d4 17\uc77c(\uc218)_\ub7ed\ud0a4\ucc2c\uc2a4!_\uc544\uc774\ud3f0 \ucd9c\uc2dc \uae30\ub150 \ud034\uc988_\uc62c\ub9ac\ube0c\uc601 \uae30\ud504\ud2b8 \uce74\ub4dc 1\ub9cc \uc6d0 \uc751\ubaa8 \uc774\ubca4\ud2b8__\u25b6 \uc790\uc138\ud788 \ubcf4\uae30: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__\u25a0 \ubb38\uc758: SKT \uace0\uac1d\uc13c\ud130(1558, \ubb34\ub8cc)__\ubb34\ub8cc \uc218\uc2e0\uac70\ubd80 1504\n\n\", \"main_prompt\": {\"title\": \"\uba54\uc778 \uc815\ubcf4 \ucd94\ucd9c \ud504\ub86c\ud504\ud2b8\", \"description\": \"\uad11\uace0 \uba54\uc2dc\uc9c0\uc5d0\uc11c \uc81c\ubaa9, \ubaa9\uc801, \uc0c1\ud488, \ucc44\ub110, \ud504\ub85c\uadf8\ub7a8 \uc815\ubcf4\ub97c \ucd94\ucd9c\ud558\ub294 \ud504\ub86c\ud504\ud2b8\", \"content\": \"\nExtr...", "commandName": "insert", "databaseName": "aos", "requestId": 470211272, "operationId": 470211272, "driverConnectionId": 1, "serverConnectionId": 1037, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,249 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "durationMS": 7.464, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "aos", "requestId": 470211272, "operationId": 470211272, "driverConnectionId": 1, "serverConnectionId": 1037, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,252 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-19 09:38:02,252 - utils.mongodb_utils - INFO - ë¬¸ì„œ ì €ì¥ ì„±ê³µ: 69449e6a1d1ca9d148a4b2c2
2025-12-19 09:38:02,252 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "PrimaryPreferred(tag_sets=None, max_staleness=-1, hedge=None)", "operation": "endSessions", "topologyDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0024759999942034483>]>", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}}
2025-12-19 09:38:02,253 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "PrimaryPreferred(tag_sets=None, max_staleness=-1, hedge=None)", "operation": "endSessions", "topologyDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0024759999942034483>]>", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,253 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,253 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00011333398288115859}
2025-12-19 09:38:02,253 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "command": "{\"endSessions\": [{\"id\": {\"$binary\": {\"base64\": \"B+zZ5+v8TPuDNgXcwF2Oeg==\", \"subType\": \"04\"}}}], \"$db\": \"admin\"}", "commandName": "endSessions", "databaseName": "admin", "requestId": 101027544, "operationId": 101027544, "driverConnectionId": 1, "serverConnectionId": 1037, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,254 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "durationMS": 0.945, "reply": "{\"ok\": 1.0}", "commandName": "endSessions", "databaseName": "admin", "requestId": 101027544, "operationId": 101027544, "driverConnectionId": 1, "serverConnectionId": 1037, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,254 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-19 09:38:02,254 - pymongo.topology - DEBUG - {"message": "Stopped server monitoring", "topologyId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,254 - pymongo.connection - DEBUG - {"message": "Connection closed", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "reason": "Connection pool was closed", "error": "poolClosed"}
2025-12-19 09:38:02,259 - pymongo.connection - DEBUG - {"message": "Connection pool closed", "clientId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:38:02,259 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}, "previousDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0024759999942034483>]>", "newDescription": "<TopologyDescription id: 69449e6a1d1ca9d148a4b2c1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
2025-12-19 09:38:02,259 - pymongo.topology - DEBUG - {"message": "Stopped topology monitoring", "topologyId": {"$oid": "69449e6a1d1ca9d148a4b2c1"}}
2025-12-19 09:38:02,259 - utils.mongodb_utils - INFO - MongoDB ì—°ê²° í•´ì œ
2025-12-19 09:38:02,259 - __main__ - INFO - MongoDB ì €ì¥ ì™„ë£Œ!
2025-12-19 09:38:02,259 - __main__ - INFO - ì¶”ì¶œ ê³¼ì •ì—ì„œ ìº¡ì²˜ëœ í”„ë¡¬í”„íŠ¸: 2ê°œ
2025-12-19 09:38:02,259 - __main__ - INFO - âœ… DAG ì¶”ì¶œ ì„±ê³µ - ê¸¸ì´: 2ì
2025-12-19 09:38:02,259 - __main__ - INFO - DAG ë‚´ìš© ë¯¸ë¦¬ë³´ê¸°: ['(SKT ì›¹ì‚¬ì´íŠ¸:ì ‘ì†) -[ì ‘ì†í•˜ë©´]-> (T day ì´ë²¤íŠ¸:ì°¸ì—¬)', '(T day ì´ë²¤íŠ¸:ì°¸ì—¬) -[ì°¸ì—¬í•˜ë©´]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨)']...
2025-12-19 09:38:02,259 - __main__ - INFO - ì¶”ì¶œ ì™„ë£Œ: 22.643ì´ˆ
2025-12-19 09:38:02,261 - werkzeug - INFO - 127.0.0.1 - - [19/Dec/2025 09:38:02] "POST /extract HTTP/1.1" 200 -
2025-12-19 09:39:23,802 - __main__ - INFO - ë¡œê·¸ ë ˆë²¨ ì„¤ì •: DEBUG
2025-12-19 09:39:23,802 - __main__ - INFO - ğŸ”§ --storage ì˜µì…˜: local
2025-12-19 09:39:23,802 - __main__ - INFO - ğŸ”§ í™˜ê²½ë³€ìˆ˜ DAG_STORAGE_MODE ì„¤ì •: local
2025-12-19 09:39:23,802 - __main__ - INFO - ğŸ“ DAG ì €ì¥ ëª¨ë“œ: local - API server provides images (URL: API server IP)
2025-12-19 09:39:23,802 - __main__ - INFO - ğŸ“‚ DAG ì €ì¥ ê²½ë¡œ: dag_images
2025-12-19 09:39:23,802 - __main__ - INFO - ğŸŒ ë¡œì»¬ ì„œë²„ URL: http://172.23.113.51:8000
2025-12-19 09:39:23,802 - __main__ - INFO - CLI ë°ì´í„° ì†ŒìŠ¤ ì„¤ì •: local
2025-12-19 09:39:23,802 - __main__ - INFO - ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:39:23,802 - __main__ - INFO - ë°ì´í„° ì†ŒìŠ¤ë¡œ ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì¤‘: local
2025-12-19 09:39:23,802 - core.mms_extractor - INFO - ğŸš€ MMSExtractor ì´ˆê¸°í™” ì‹œì‘
2025-12-19 09:39:23,802 - core.mms_extractor - INFO - âš™ï¸ ê¸°ë³¸ ì„¤ì • ì ìš© ì¤‘...
2025-12-19 09:39:23,802 - core.mms_extractor - INFO - ğŸ¯ DAG ì¶”ì¶œ ëª¨ë“œ í™œì„±í™”ë¨
2025-12-19 09:39:23,803 - core.mms_extractor - INFO - ğŸ”‘ í™˜ê²½ë³€ìˆ˜ ë¡œë“œ ì¤‘...
2025-12-19 09:39:23,804 - core.mms_extractor - INFO - ğŸ’» ë””ë°”ì´ìŠ¤ ì„¤ì • ì¤‘...
2025-12-19 09:39:23,840 - core.mms_extractor - INFO - Using device: mps
2025-12-19 09:39:23,840 - utils.common_utils - INFO - _initialize_device ì‹¤í–‰ì™„ë£Œ: 0.04ì´ˆ
2025-12-19 09:39:23,840 - core.mms_extractor - INFO - ğŸ¤– LLM ëª¨ë¸ ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:39:23,841 - core.mms_extractor - INFO - LLM ì´ˆê¸°í™” ì™„ë£Œ: gemini (gcp/gemini-2.5-flash)
2025-12-19 09:39:23,841 - utils.common_utils - INFO - _initialize_llm ì‹¤í–‰ì™„ë£Œ: 0.00ì´ˆ
2025-12-19 09:39:23,841 - core.mms_extractor - INFO - ğŸ§  ì„ë² ë”© ëª¨ë¸ ë¡œë“œ ì¤‘...
2025-12-19 09:39:23,841 - utils.nlp_utils - INFO - Loading model from ./models/ko-sbert-nli...
2025-12-19 09:39:23,841 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-12-19 09:39:23,841 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-12-19 09:39:24,163 - utils.nlp_utils - INFO - Model loaded on mps
2025-12-19 09:39:24,163 - utils.common_utils - INFO - _initialize_embedding_model ì‹¤í–‰ì™„ë£Œ: 0.32ì´ˆ
2025-12-19 09:39:24,163 - core.mms_extractor - INFO - ğŸ“ NLP ë„êµ¬ (Kiwi) ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:39:24,756 - core.mms_extractor - INFO - Kiwi í˜•íƒœì†Œ ë¶„ì„ê¸° ì´ˆê¸°í™” ì™„ë£Œ
2025-12-19 09:39:24,757 - utils.common_utils - INFO - _initialize_kiwi ì‹¤í–‰ì™„ë£Œ: 0.59ì´ˆ
2025-12-19 09:39:24,757 - core.mms_extractor - INFO - ğŸ“ ë°ì´í„° ë¡œë“œ ì¤‘...
2025-12-19 09:39:24,757 - core.mms_extractor - INFO - ============================================================
2025-12-19 09:39:24,757 - core.mms_extractor - INFO - ğŸ“Š ë°ì´í„° ë¡œë”© ì‹œì‘
2025-12-19 09:39:24,757 - core.mms_extractor - INFO - ============================================================
2025-12-19 09:39:24,757 - core.mms_extractor - INFO - ë°ì´í„° ì†ŒìŠ¤ ëª¨ë“œ: local
2025-12-19 09:39:24,757 - core.mms_extractor - INFO - 1ï¸âƒ£ ìƒí’ˆ ì •ë³´ ë¡œë“œ ë° ì¤€ë¹„ ì¤‘...
2025-12-19 09:39:24,757 - services.item_data_loader - INFO - ==================================================
2025-12-19 09:39:24,757 - services.item_data_loader - INFO - ğŸš€ ìƒí’ˆ ë°ì´í„° ì¤€ë¹„ íŒŒì´í”„ë¼ì¸ ì‹œì‘
2025-12-19 09:39:24,757 - services.item_data_loader - INFO - ==================================================
2025-12-19 09:39:24,757 - services.item_data_loader - INFO - ğŸ“Š ìƒí’ˆ ì •ë³´ ë¡œë“œ ì‹œì‘ (ì†ŒìŠ¤: local)
2025-12-19 09:39:24,757 - services.item_data_loader - INFO - ë¡œì»¬ CSV íŒŒì¼ì—ì„œ ìƒí’ˆ ë°ì´í„° ë¡œë“œ: ./data/offer_master_data.csv
2025-12-19 09:39:24,828 - services.item_data_loader - INFO - CSV íŒŒì¼ ë¡œë“œ ì„±ê³µ (encoding: utf-8)
2025-12-19 09:39:24,828 - services.item_data_loader - INFO - ì›ì‹œ ë°ì´í„° ë¡œë“œ ì™„ë£Œ: (18070, 9)
2025-12-19 09:39:24,828 - services.item_data_loader - INFO - ğŸ”§ ì»¬ëŸ¼ ì •ê·œí™” ì¤‘...
2025-12-19 09:39:24,909 - services.item_data_loader - INFO - ì»¬ëŸ¼ëª… ì†Œë¬¸ì ë³€í™˜ ì™„ë£Œ
2025-12-19 09:39:24,913 - services.item_data_loader - INFO - ë„ë©”ì¸ í•„í„°ë§: 18070 -> 12305
2025-12-19 09:39:24,913 - services.item_data_loader - INFO - ğŸ”— ë³„ì¹­ ê·œì¹™ ë¡œë“œ ì¤‘...
2025-12-19 09:39:24,921 - services.item_data_loader - INFO - 4ï¸âƒ£ build íƒ€ì… ë³„ì¹­ í™•ì¥
2025-12-19 09:39:24,921 - services.item_data_loader - INFO - ğŸ”¨ Build íƒ€ì… ë³„ì¹­ í™•ì¥ ì¤‘...
2025-12-19 09:39:25,059 - services.item_data_loader - INFO - â†”ï¸ ì–‘ë°©í–¥ ë³„ì¹­ ì¶”ê°€ ì¤‘...
2025-12-19 09:39:25,060 - services.item_data_loader - INFO - ğŸ”„ ë³„ì¹­ ê·œì¹™ ì—°ì‡„ ì ìš© ì¤‘...
2025-12-19 09:39:25,060 - services.item_data_loader - INFO - ë³„ì¹­ ê·œì¹™ ìˆ˜: 429ê°œ
2025-12-19 09:39:34,162 - services.item_data_loader - INFO - ë³„ì¹­ explode: 131593 -> 42462
2025-12-19 09:39:34,164 - services.item_data_loader - INFO - ğŸ‘¤ ì‚¬ìš©ì ì •ì˜ ì—”í‹°í‹° ì¶”ê°€: 3ê°œ
2025-12-19 09:39:34,189 - services.item_data_loader - INFO - ğŸ·ï¸ ë„ë©”ì¸ëª… ì»¬ëŸ¼ ì¶”ê°€ ì¤‘...
2025-12-19 09:39:34,199 - services.item_data_loader - INFO - ğŸ§¹ TEST í•­ëª© í•„í„°ë§ ì¤‘...
2025-12-19 09:39:34,219 - services.item_data_loader - INFO - TEST í•„í„°ë§: 42465 -> 42314
2025-12-19 09:39:34,220 - services.item_data_loader - INFO - ==================================================
2025-12-19 09:39:34,220 - services.item_data_loader - INFO - âœ… ìƒí’ˆ ì •ë³´ ì¤€ë¹„ ì™„ë£Œ
2025-12-19 09:39:34,220 - services.item_data_loader - INFO - ìµœì¢… ë°ì´í„° í¬ê¸°: (42314, 14)
2025-12-19 09:39:34,220 - services.item_data_loader - INFO - ìµœì¢… ì»¬ëŸ¼ë“¤: ['item_id', 'item_nm', 'item_dmn', 'item_desc', 'item_ctg', 'item_als', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms', 'item_nm_alias', 'start_dt', 'end_dt', 'rank', 'item_dmn_nm']
2025-12-19 09:39:34,220 - services.item_data_loader - INFO - âœ… ëª¨ë“  ì¤‘ìš” ì»¬ëŸ¼ ì¡´ì¬
2025-12-19 09:39:34,221 - services.item_data_loader - INFO - ìƒí’ˆëª… ìƒ˜í”Œ: ['ìš°ì£¼íŒ¨ìŠ¤ Netflix ì¸ì¦', 'ìš°ì£¼íŒ¨ìŠ¤ Netflix ì¸ì¦', 'ìš°ì£¼íŒ¨ìŠ¤ Netflix ì¸ì¦']
2025-12-19 09:39:34,223 - services.item_data_loader - INFO - ë³„ì¹­ ìƒ˜í”Œ: ['ìš°ì£¼íŒ¨ìŠ¤ Netflix ì¸ì¦', 'ìš°ì£¼Pass Netflix ì¸ì¦', 'ìš°ì£¼PASS Netflix ì¸ì¦']
2025-12-19 09:39:34,223 - services.item_data_loader - INFO - ==================================================
2025-12-19 09:39:34,226 - core.mms_extractor - INFO - âœ… ItemDataLoaderë¥¼ í†µí•œ ìƒí’ˆ ì •ë³´ ì¤€ë¹„ ì™„ë£Œ: (42314, 14)
2025-12-19 09:39:34,226 - core.mms_extractor - INFO - ìƒí’ˆ ì •ë³´ ìµœì¢… ë°ì´í„° í¬ê¸°: (42314, 14)
2025-12-19 09:39:34,226 - core.mms_extractor - INFO - ìƒí’ˆ ì •ë³´ ì»¬ëŸ¼ë“¤: ['item_id', 'item_nm', 'item_dmn', 'item_desc', 'item_ctg', 'item_als', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms', 'item_nm_alias', 'start_dt', 'end_dt', 'rank', 'item_dmn_nm']
2025-12-19 09:39:34,226 - core.mms_extractor - INFO - 2ï¸âƒ£ ì •ì§€ì–´ ë¡œë“œ ì¤‘...
2025-12-19 09:39:34,228 - core.mms_extractor - INFO - ì •ì§€ì–´ ë¡œë“œ ì™„ë£Œ: 204ê°œ
2025-12-19 09:39:34,228 - core.mms_extractor - INFO - ë¡œë“œëœ ì •ì§€ì–´ ìˆ˜: 204ê°œ
2025-12-19 09:39:34,228 - core.mms_extractor - INFO - 3ï¸âƒ£ Kiwiì— ìƒí’ˆëª… ë“±ë¡ ì¤‘...
2025-12-19 09:39:34,228 - core.mms_extractor - INFO - === Kiwiì— ìƒí’ˆëª… ë“±ë¡ ì‹œì‘ ===
2025-12-19 09:39:34,231 - core.mms_extractor - INFO - ë“±ë¡í•  ê³ ìœ  ë³„ì¹­ ìˆ˜: 34387ê°œ
2025-12-19 09:39:34,234 - core.mms_extractor - INFO - ìœ íš¨í•œ ë³„ì¹­ ìˆ˜: 34386ê°œ
2025-12-19 09:39:34,234 - core.mms_extractor - INFO - ë“±ë¡í•  ë³„ì¹­ ìƒ˜í”Œ: ['ìš°ì£¼íŒ¨ìŠ¤ Netflix ì¸ì¦', 'ìš°ì£¼Pass Netflix ì¸ì¦', 'ìš°ì£¼PASS Netflix ì¸ì¦', 'ìš°ì£¼pass Netflix ì¸ì¦', 'ìš°ì£¼íŒ¨ìŠ¤ ë„·í”Œë¦­ìŠ¤ ì¸ì¦']
2025-12-19 09:39:34,291 - core.mms_extractor - INFO - Kiwiì— ìƒí’ˆëª… ë“±ë¡ ì™„ë£Œ: 34386ê°œ ì„±ê³µ, 0ê°œ ì‹¤íŒ¨
2025-12-19 09:39:34,293 - core.mms_extractor - INFO - 4ï¸âƒ£ í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë“œ ì¤‘...
2025-12-19 09:39:34,293 - core.mms_extractor - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë”© ì‹œì‘...
2025-12-19 09:39:34,294 - core.mms_extractor - INFO - ë¡œì»¬ íŒŒì¼ì—ì„œ í”„ë¡œê·¸ë¨ ì •ë³´ ë¡œë“œ: 25ê°œ
2025-12-19 09:39:34,295 - core.mms_extractor - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì„ë² ë”© ìƒì„± ì‹œì‘...
2025-12-19 09:39:34,722 - core.mms_extractor - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì„ë² ë”© ìƒì„± ì™„ë£Œ: 25ê°œ í”„ë¡œê·¸ë¨
2025-12-19 09:39:34,722 - core.mms_extractor - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì •ë³´ ë¡œë“œ í›„ ë°ì´í„° í¬ê¸°: (25, 6)
2025-12-19 09:39:34,722 - core.mms_extractor - INFO - 5ï¸âƒ£ ì¡°ì§ ì •ë³´ ë¡œë“œ ì¤‘...
2025-12-19 09:39:34,722 - core.mms_extractor - INFO - === ì¡°ì§ ì •ë³´ ë¡œë“œ ì‹œì‘ (ëª¨ë“œ: local) ===
2025-12-19 09:39:34,722 - core.mms_extractor - INFO - ë¡œì»¬ CSV íŒŒì¼ì—ì„œ ì¡°ì§ ì •ë³´ ë¡œë“œ ì¤‘...
2025-12-19 09:39:34,722 - core.mms_extractor - INFO - CSV íŒŒì¼ ê²½ë¡œ: ./data/offer_master_data.csv
2025-12-19 09:39:34,813 - core.mms_extractor - INFO - ë¡œì»¬ CSVì—ì„œ ë¡œë“œëœ ì›ë³¸ ì¡°ì§ ë°ì´í„° í¬ê¸°: (18070, 9)
2025-12-19 09:39:34,813 - core.mms_extractor - INFO - ë¡œì»¬ CSV ì›ë³¸ ì»¬ëŸ¼ë“¤: ['ITEM_ID', 'ITEM_NM', 'ITEM_DMN', 'ITEM_DESC', 'ITEM_CTG', 'ITEM_ALS', 'ITEM_EMB_VEC', 'OFER_CD', 'OPER_DT_HMS']
2025-12-19 09:39:34,816 - core.mms_extractor - INFO - ë¡œì»¬ ëª¨ë“œ: ITEM_DMN='R' í•„í„°ë§ í›„ ë°ì´í„° í¬ê¸°: (5765, 9)
2025-12-19 09:39:34,817 - core.mms_extractor - INFO - ì¡°ì§ ë°ì´í„° ìƒ˜í”Œ (3ê°œ í–‰): [{'item_id': 'D15198_0020', 'item_nm': 'ê°€ë¡œìˆ˜ëŒ€ë¦¬ì  í•˜ëŠ˜ë„ì‹œì ', 'item_dmn': 'R', 'item_desc': 'ì¸ì²œ ì¤‘êµ¬ í•˜ëŠ˜ì¤‘ì•™ë¡œ195ë²ˆê¸¸ 11,&&1ì¸µ 105í˜¸(ì¤‘ì‚°ë™)&&003202309011', 'item_ctg': '501', 'item_als': nan, 'item_emb_vec': nan, 'ofer_cd': '1430541517', 'oper_dt_hms': 20250909151123}, {'item_id': 'D13622_0398', 'item_nm': 'MDëŒ€ë¦¬ì  ì£¼ì—½ì§ì˜ì ', 'item_dmn': 'R', 'item_desc': 'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ì„œêµ¬ ì¤‘ì•™ë¡œ 1426,&&(ì£¼ì—½ë™) 1ì¸µ111í˜¸&&003109152662', 'item_ctg': '501', 'item_als': nan, 'item_emb_vec': nan, 'ofer_cd': '1430541945', 'oper_dt_hms': 20250909151123}, {'item_id': 'D15320_0001', 'item_nm': 'ê°•ì„œëŒ€ë¦¬ì (ì˜¨ë¼ì¸ë§¤ì¥)', 'item_dmn': 'R', 'item_desc': 'ì„œìš¸ ì–‘ì²œêµ¬ ë‚¨ë¶€ìˆœí™˜ë¡œ 354,&&1ì¸µ (ì‹ ì›”ë™)&&007078567800', 'item_ctg': '501', 'item_als': nan, 'item_emb_vec': nan, 'ofer_cd': '1430542104', 'oper_dt_hms': 20250909151123}]
2025-12-19 09:39:34,817 - core.mms_extractor - INFO - === ì¡°ì§ ì •ë³´ ë¡œë“œ ìµœì¢… ì™„ë£Œ: 5765ê°œ ì¡°ì§ ===
2025-12-19 09:39:34,817 - core.mms_extractor - INFO - ìµœì¢… ì¡°ì§ ë°ì´í„° ìŠ¤í‚¤ë§ˆ: ['item_id', 'item_nm', 'item_dmn', 'item_desc', 'item_ctg', 'item_als', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-12-19 09:39:34,817 - core.mms_extractor - INFO - ëª¨ë“  ì¤‘ìš” ì¡°ì§ ì»¬ëŸ¼ì´ ì •ìƒì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.
2025-12-19 09:39:34,818 - core.mms_extractor - INFO - ì¡°ì§ ì •ë³´ ë¡œë“œ í›„ ë°ì´í„° í¬ê¸°: (5765, 9)
2025-12-19 09:39:34,818 - core.mms_extractor - INFO - ============================================================
2025-12-19 09:39:34,818 - core.mms_extractor - INFO - ğŸ“‹ ë°ì´í„° ë¡œë”© ì™„ë£Œ - ìµœì¢… ìƒíƒœ ìš”ì•½
2025-12-19 09:39:34,818 - core.mms_extractor - INFO - ============================================================
2025-12-19 09:39:34,818 - core.mms_extractor - INFO - âœ… ìƒí’ˆ ë°ì´í„°: (42314, 14)
2025-12-19 09:39:34,819 - core.mms_extractor - INFO - âœ… í”„ë¡œê·¸ë¨ ë°ì´í„°: (25, 6)
2025-12-19 09:39:34,819 - core.mms_extractor - INFO - âœ… ì¡°ì§ ë°ì´í„°: (5765, 9)
2025-12-19 09:39:34,819 - core.mms_extractor - INFO - âœ… ì •ì§€ì–´: 204ê°œ
2025-12-19 09:39:34,819 - core.mms_extractor - INFO - === ìƒí’ˆ ë°ì´í„° ìƒì„¸ ì •ë³´ ===
2025-12-19 09:39:34,821 - core.mms_extractor - INFO - ê³ ìœ  ìƒí’ˆëª… ìˆ˜: 8218ê°œ
2025-12-19 09:39:34,825 - core.mms_extractor - INFO - ê³ ìœ  ë³„ì¹­ ìˆ˜: 34386ê°œ
2025-12-19 09:39:34,828 - core.mms_extractor - INFO - ê³ ìœ  ìƒí’ˆID ìˆ˜: 12244ê°œ
2025-12-19 09:39:34,828 - utils.common_utils - INFO - _load_data ì‹¤í–‰ì™„ë£Œ: 10.07ì´ˆ
2025-12-19 09:39:34,828 - core.mms_extractor - INFO - ğŸ­ LLM Factory ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:39:34,828 - core.mms_extractor - INFO - âœ… LLM Factory ì´ˆê¸°í™” ì™„ë£Œ
2025-12-19 09:39:34,828 - core.mms_extractor - INFO - ğŸ› ï¸ ì„œë¹„ìŠ¤ ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:39:34,828 - core.mms_extractor - INFO - âœ… ì„œë¹„ìŠ¤ ì´ˆê¸°í™” ì™„ë£Œ
2025-12-19 09:39:34,829 - core.mms_extractor - INFO - âš™ï¸ Workflow ì—”ì§„ ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:39:34,829 - core.workflow_core - DEBUG - Added step: InputValidationStep to MMS Extraction Workflow
2025-12-19 09:39:34,829 - core.workflow_core - DEBUG - Added step: EntityExtractionStep to MMS Extraction Workflow
2025-12-19 09:39:34,829 - core.workflow_core - DEBUG - Added step: ProgramClassificationStep to MMS Extraction Workflow
2025-12-19 09:39:34,829 - core.workflow_core - DEBUG - Added step: ContextPreparationStep to MMS Extraction Workflow
2025-12-19 09:39:34,829 - core.workflow_core - DEBUG - Added step: LLMExtractionStep to MMS Extraction Workflow
2025-12-19 09:39:34,829 - core.workflow_core - DEBUG - Added step: ResponseParsingStep to MMS Extraction Workflow
2025-12-19 09:39:34,830 - core.workflow_core - DEBUG - Added step: ResultConstructionStep to MMS Extraction Workflow
2025-12-19 09:39:34,830 - core.workflow_core - DEBUG - Added step: ValidationStep to MMS Extraction Workflow
2025-12-19 09:39:34,830 - core.workflow_core - DEBUG - Added step: DAGExtractionStep to MMS Extraction Workflow
2025-12-19 09:39:34,830 - core.mms_extractor - INFO - ğŸ¯ DAG ì¶”ì¶œ ë‹¨ê³„ ë“±ë¡ë¨
2025-12-19 09:39:34,830 - core.mms_extractor - INFO - âœ… Workflow ì—”ì§„ ì´ˆê¸°í™” ì™„ë£Œ (9ê°œ ë‹¨ê³„)
2025-12-19 09:39:34,830 - core.mms_extractor - INFO - âœ… MMSExtractor ì´ˆê¸°í™” ì™„ë£Œ
2025-12-19 09:39:34,830 - __main__ - INFO - ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì™„ë£Œ
2025-12-19 09:39:34,830 - __main__ - INFO - íŒŒì‹±ëœ ì¸ì: host=0.0.0.0, port=8000, debug=False
2025-12-19 09:39:34,830 - __main__ - INFO - âœ… ì „ì—­ ì¶”ì¶œê¸° ì´ˆê¸°í™” ì™„ë£Œ, ìš”ì²­ ì²˜ë¦¬ ì¤€ë¹„ë¨
2025-12-19 09:39:34,830 - __main__ - INFO - MMS ì¶”ì¶œê¸° API ì„œë²„ë¥¼ 0.0.0.0:8000ì—ì„œ ì‹œì‘í•©ë‹ˆë‹¤
2025-12-19 09:39:34,830 - __main__ - INFO - ì‚¬ìš© ê°€ëŠ¥í•œ ì—”ë“œí¬ì¸íŠ¸:
2025-12-19 09:39:34,830 - __main__ - INFO -   GET  /health - í—¬ìŠ¤ì²´í¬
2025-12-19 09:39:34,830 - __main__ - INFO -   GET  /models - ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ ëª©ë¡
2025-12-19 09:39:34,830 - __main__ - INFO -   GET  /status - ì„œë²„ ìƒíƒœ ì¡°íšŒ
2025-12-19 09:39:34,830 - __main__ - INFO -   POST /extract - ë‹¨ì¼ ë©”ì‹œì§€ ì¶”ì¶œ
2025-12-19 09:39:34,831 - __main__ - INFO -   POST /extract/batch - ë‹¤ì¤‘ ë©”ì‹œì§€ ë°°ì¹˜ ì¶”ì¶œ
2025-12-19 09:39:34,831 - __main__ - INFO -   POST /dag - Entity DAG ì¶”ì¶œ
2025-12-19 09:39:34,845 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.113.51:8000
2025-12-19 09:39:34,845 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-12-19 09:39:51,817 - __main__ - INFO - ğŸ¯ DAG ì¶”ì¶œ ìš”ì²­ë¨ - LLM: ax, ë©”ì‹œì§€ ê¸¸ì´: 202ì
2025-12-19 09:39:51,817 - __main__ - INFO - ğŸ“‹ ë©”ì‹œì§€ ID: test_message_id
2025-12-19 09:39:51,817 - __main__ - INFO - LLM ëª¨ë¸ì´ gemini -> axë¡œ ë³€ê²½ë¨. ì¬ì´ˆê¸°í™” ì¤‘...
2025-12-19 09:39:51,817 - core.mms_extractor - INFO - LLM ì´ˆê¸°í™” ì™„ë£Œ: ax (skt/ax4)
2025-12-19 09:39:51,818 - utils.common_utils - INFO - _initialize_llm ì‹¤í–‰ì™„ë£Œ: 0.00ì´ˆ
2025-12-19 09:39:51,818 - __main__ - INFO - ë°ì´í„° ì†ŒìŠ¤ë¡œ ë©”ì‹œì§€ ì²˜ë¦¬ ì¤‘: local
2025-12-19 09:39:51,818 - __main__ - INFO - DAG ì¶”ì¶œê³¼ í•¨ê»˜ ìˆœì°¨ ì²˜ë¦¬ ì‹œì‘
2025-12-19 09:39:51,818 - utils.prompt_utils - DEBUG - í”„ë¡¬í”„íŠ¸ ì €ì¥ì†Œ ì´ˆê¸°í™”ë¨
2025-12-19 09:39:51,818 - core.mms_extractor - INFO - ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ì—ì„œ ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œì‘: 
(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„...
2025-12-19 09:39:51,818 - core.workflow_core - INFO - ============================================================
2025-12-19 09:39:51,818 - core.workflow_core - INFO - ğŸš€ MMS Extraction Workflow ì‹œì‘
2025-12-19 09:39:51,818 - core.workflow_core - INFO - ============================================================
2025-12-19 09:39:51,818 - core.workflow_core - INFO - 
============================== 1/9: InputValidationStep ==============================
2025-12-19 09:39:51,818 - core.mms_workflow_steps - INFO - ë©”ì‹œì§€ ë‚´ìš©: 
(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504...
2025-12-19 09:39:51,818 - core.mms_workflow_steps - INFO - ë©”ì‹œì§€ ê¸¸ì´: 202 ë¬¸ì
2025-12-19 09:39:51,818 - core.mms_workflow_steps - INFO - === í˜„ì¬ ì¶”ì¶œê¸° ì„¤ì • ===
2025-12-19 09:39:51,818 - core.mms_workflow_steps - INFO - ë°ì´í„° ì†ŒìŠ¤: local
2025-12-19 09:39:51,818 - core.mms_workflow_steps - INFO - ìƒí’ˆ ì •ë³´ ì¶”ì¶œ ëª¨ë“œ: llm
2025-12-19 09:39:51,818 - core.mms_workflow_steps - INFO - ì—”í‹°í‹° ì¶”ì¶œ ëª¨ë“œ: llm
2025-12-19 09:39:51,818 - core.mms_workflow_steps - INFO - LLM ëª¨ë¸: ax
2025-12-19 09:39:51,818 - core.mms_workflow_steps - INFO - ìƒí’ˆ ë°ì´í„° í¬ê¸°: (42314, 14)
2025-12-19 09:39:51,818 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ë°ì´í„° í¬ê¸°: (25, 6)
2025-12-19 09:39:51,819 - core.workflow_core - INFO - âœ… InputValidationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-19 09:39:51,819 - core.workflow_core - INFO - 
============================== 2/9: EntityExtractionStep ==============================
2025-12-19 09:39:51,819 - services.entity_recognizer - INFO - === Kiwi Entity Extraction Started ===
2025-12-19 09:39:51,819 - services.entity_recognizer - INFO - Message length: 199 chars
2025-12-19 09:39:51,821 - services.entity_recognizer - INFO - Number of aliases to match: 34387
2025-12-19 09:39:52,632 - services.entity_recognizer - INFO - Entities from Kiwi (filtered): ['ì•„ì´í°']
2025-12-19 09:39:52,632 - services.entity_recognizer - INFO - Starting fuzzy matching...
2025-12-19 09:40:01,434 - services.entity_recognizer - INFO - Starting sequence similarity calculation...
2025-12-19 09:40:01,526 - utils.common_utils - INFO - extract_entities_hybrid ì‹¤í–‰ì™„ë£Œ: 9.71ì´ˆ
2025-12-19 09:40:01,526 - core.mms_workflow_steps - INFO - ì¶”ì¶œëœ Kiwi ì—”í‹°í‹°: ['ì•„ì´í°']
2025-12-19 09:40:01,526 - core.mms_workflow_steps - INFO - ì¶”ì¶œëœ í›„ë³´ ì—”í‹°í‹°: ['ì•„ì´í°']
2025-12-19 09:40:01,526 - core.mms_workflow_steps - INFO - ë§¤ì¹­ëœ ìƒí’ˆ ì •ë³´: (4, 2)
2025-12-19 09:40:01,526 - core.workflow_core - INFO - âœ… EntityExtractionStep ì™„ë£Œ (9.71ì´ˆ)
2025-12-19 09:40:01,526 - core.workflow_core - INFO - 
============================== 3/9: ProgramClassificationStep ==============================
2025-12-19 09:40:01,693 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ê²°ê³¼ í‚¤: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-12-19 09:40:01,693 - core.workflow_core - INFO - âœ… ProgramClassificationStep ì™„ë£Œ (0.17ì´ˆ)
2025-12-19 09:40:01,693 - core.workflow_core - INFO - 
============================== 4/9: ContextPreparationStep ==============================
2025-12-19 09:40:01,693 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ë¶„ë¥˜ ì»¨í…ìŠ¤íŠ¸ ê¸¸ì´: 387 ë¬¸ì
2025-12-19 09:40:01,693 - core.mms_workflow_steps - INFO - í›„ë³´ ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ í¬ê¸°: 1ê°œ
2025-12-19 09:40:01,694 - core.mms_workflow_steps - INFO - í›„ë³´ ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸: ['ì•„ì´í°']
2025-12-19 09:40:01,694 - core.mms_workflow_steps - INFO - extra_item_pdf í¬ê¸°: (4, 2)
2025-12-19 09:40:01,694 - core.mms_workflow_steps - INFO - extra_item_pdf ì»¬ëŸ¼ë“¤: ['item_nm', 'item_id']
2025-12-19 09:40:01,694 - core.mms_workflow_steps - INFO - extra_item_pdf ìƒ˜í”Œ: [{'item_nm': 'IPHONE 17', 'item_id': ['A6UD', 'A6SQ', 'A6U2', 'A6U7', 'A6SV']}, {'item_nm': 'IPHONE 17 PRO', 'item_id': ['A6UJ', 'A6T4', 'A6UM', 'A6VK', 'A6UQ', 'A6T7', 'A6T1']}]
2025-12-19 09:40:01,694 - core.mms_workflow_steps - INFO - LLM ëª¨ë“œ: ì°¸ê³ ìš© í›„ë³´ ìƒí’ˆ ëª©ë¡ì„ RAG ì»¨í…ìŠ¤íŠ¸ì— ì¶”ê°€
2025-12-19 09:40:01,694 - core.workflow_core - INFO - âœ… ContextPreparationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-19 09:40:01,694 - core.workflow_core - INFO - 
============================== 5/9: LLMExtractionStep ==============================
2025-12-19 09:40:01,694 - core.mms_extractor - DEBUG - LLM ëª¨ë“œ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 7157 ë¬¸ì
2025-12-19 09:40:01,694 - core.mms_extractor - DEBUG - í›„ë³´ ìƒí’ˆ ëª©ë¡ í¬í•¨ ì—¬ë¶€: True
2025-12-19 09:40:01,694 - core.mms_workflow_steps - INFO - êµ¬ì„±ëœ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 7157 ë¬¸ì
2025-12-19 09:40:01,694 - core.mms_workflow_steps - INFO - RAG ì»¨í…ìŠ¤íŠ¸ í¬í•¨ ì—¬ë¶€: True
2025-12-19 09:40:01,694 - utils.prompt_utils - INFO - ğŸ“ í”„ë¡¬í”„íŠ¸ ì €ì¥ë¨: main_extraction_prompt
2025-12-19 09:40:01,694 - utils.prompt_utils - INFO - ğŸ“ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 7,157 ë¬¸ì
2025-12-19 09:40:01,699 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9607d999-9c7c-424f-a4ac-52f329c4f9fb', 'json_data': {'messages': [{'content': '\nExtract the advertisement purpose and product names from the provided advertisement text.\n\n### Advertisement Message ###\n(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n\n### Extraction Steps ###\n\n1. Identify the advertisement\'s purpose first, using expressions as they appear in the original text.\n2. Extract ONLY explicitly mentioned product/service names from the text, using exact original expressions.\n3. For each product, assign a standardized action from: [êµ¬ë§¤, ê°€ì…, ì‚¬ìš©, ë°©ë¬¸, ì°¸ì—¬, ì½”ë“œì…ë ¥, ì¿ í°ë‹¤ìš´ë¡œë“œ, ê¸°íƒ€].\n4. Avoid inferring or adding products not directly mentioned in the text.\n5. Provide channel information considering the extracted product information, preserving original text expressions.\n\n\n### Extraction Guidelines ###\n\n* For title: Create a concise headline (max 50 characters) in headline style (ê°œì¡°ì‹) that captures the core content, excluding labels like \'(ê´‘ê³ )\', \'[SKT]\' and special characters like __, and prioritizing the most important information (benefits, products, events).\n* Prioritize recall over precision to ensure all relevant products are captured, but verify that each extracted term is a distinct offering.\n* Extract all information (purpose, product, channel, pgm) using the exact expressions as they appear in the original text without translation, as specified in the schema.\n* If the advertisement purpose includes encouraging agency/store visits, provide agency channel information.\n\n* Refer to the candidate product names list as guidance, but extract products based on your understanding of the advertisement content.\n* Maintain consistency by using standardized product naming conventions.\n* If multiple similar products exist, choose the most specific and relevant one to reduce variability.\n\n\n### ì¼ê´€ì„± ìœ ì§€ ì§€ì¹¨ ###\n* ë™ì¼í•œ ê´‘ê³  ë©”ì‹œì§€ì— ëŒ€í•´ì„œëŠ” í•­ìƒ ë™ì¼í•œ ê²°ê³¼ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n* ì• ë§¤í•œ í‘œí˜„ì´ ìˆì„ ë•ŒëŠ” ê°€ì¥ ëª…í™•í•˜ê³  êµ¬ì²´ì ì¸ í•´ì„ì„ ì„ íƒí•˜ì„¸ìš”.\n* ìƒí’ˆëª…ì€ ì›ë¬¸ì—ì„œ ì •í™•íˆ ì–¸ê¸‰ëœ í‘œí˜„ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.\n\n\n\nReturn your response as a JSON object that follows this exact structure:\n\n{\n    "title": "Extract a concise title summarizing the key content of the advertisement in one sentence (max 50 characters). Guidelines: (1) Clearly capture the core content (benefits, products, events, etc.), (2) Write concisely in one sentence, (3) Exclude labels like \'(ê´‘ê³ )\', \'[SKT]\', (4) Remove special characters (__, etc.) and create a natural sentence, (5) Prioritize the most important information, (6) Use a headline style (ê°œì¡°ì‹).",\n    "purpose": {\n        "type": "array",\n        "items": {\n            "type": "string",\n            "enum": [\n                "ìƒí’ˆ ê°€ì… ìœ ë„",\n                "ëŒ€ë¦¬ì /ë§¤ì¥ ë°©ë¬¸ ìœ ë„",\n                "ì›¹/ì•± ì ‘ì† ìœ ë„",\n                "ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„",\n                "í˜œíƒ ì•ˆë‚´",\n                "ì¿ í° ì œê³µ ì•ˆë‚´",\n                "ê²½í’ˆ ì œê³µ ì•ˆë‚´",\n                "ìˆ˜ì‹  ê±°ë¶€ ì•ˆë‚´",\n                "ê¸°íƒ€ ì •ë³´ ì œê³µ"\n            ]\n        },\n        "description": "Primary purpose(s) of the advertisement."\n    },\n    "sales_script": "Generate an extremely concise sales prompt, intended for display on a call center agent\'s monitor, to be used for a rapid cross-sell immediately after resolving a customer\'s issue. The resulting script/message should be highly condensed, containing only the absolute essential facts and a clear action cue, and must be easily readable at a glance.",\n    "product": {\n        "type": "array",\n        "items": {\n            "type": "object",\n            "properties": {\n                "name": {\n                    "type": "string",\n                    "description": "Name of the advertised product or service."\n                },\n                "action": {\n                    "type": "string",\n                    "enum": [\n                        "êµ¬ë§¤",\n                        "ê°€ì…",\n                        "ì‚¬ìš©",\n                        "ë°©ë¬¸",\n                        "ì°¸ì—¬",\n                        "ì½”ë“œì…ë ¥",\n                        "ì¿ í°ë‹¤ìš´ë¡œë“œ",\n                        "ê¸°íƒ€"\n                    ],\n                    "description": "Expected customer action for the product."\n                }\n            }\n        },\n        "description": "Extract all product names from the advertisement."\n    },\n    "channel": {\n        "type": "array",\n        "items": {\n            "type": "object",\n            "properties": {\n                "type": {\n                    "type": "string",\n                    "enum": [\n                        "URL",\n                        "ì „í™”ë²ˆí˜¸",\n                        "ì•±",\n                        "ëŒ€ë¦¬ì ",\n                        "ì˜¨ë¼ì¸ìŠ¤í† ì–´"\n                    ],\n                    "description": "Channel type."\n                },\n                "value": {\n                    "type": "string",\n                    "description": "Specific information for the channel. ëŒ€ë¦¬ì ì¸ ê²½ìš° ***ì ìœ¼ë¡œ í‘œì‹œë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ"\n                },\n                "action": {\n                    "type": "string",\n                    "enum": [\n                        "ê°€ì…",\n                        "ì¶”ê°€ ì •ë³´",\n                        "ë¬¸ì˜",\n                        "ìˆ˜ì‹ ",\n                        "ìˆ˜ì‹  ê±°ë¶€"\n                    ],\n                    "description": "Purpose of the channel."\n                }\n            }\n        },\n        "description": "Channels provided in the advertisement."\n    },\n    "pgm": {\n        "type": "array",\n        "items": {\n            "type": "string"\n        },\n        "description": "Select the two most relevant pgm_nm from the advertising classification criteria."\n    }\n}\n\nIMPORTANT: \n- Do NOT return the schema definition itself\n- Return actual extracted data in the specified format\n- For "purpose": return an array of strings from the enum values\n- For "sales_script": return a concise string for call center agents\n- For "product": return an array of objects with "name" and "action" fields\n- For "channel": return an array of objects with "type", "value", and "action" fields\n- For "pgm": return an array of strings\n\nExample response format:\n{\n    "title": "ì•„ì´í° ì‹ ì œí’ˆ ì¶œì‹œ ê¸°ë… ìµœëŒ€ 70% í• ì¸ í˜œíƒ",\n    "purpose": ["ìƒí’ˆ ê°€ì… ìœ ë„", "í˜œíƒ ì•ˆë‚´"],\n    "sales_script": "ì•„ì´í° ì‹ ì œí’ˆ ì¶œì‹œ ê¸°ë…! í‹°ì›ëŒ€ë¦¬ì  í™”ìˆœì  ë°©ë¬¸ ì‹œ ìµœëŒ€ 70% í• ì¸. ì§€ê¸ˆ ë°”ë¡œ ì•ˆë‚´ë“œë¦´ê¹Œìš”?",\n    "product": [\n        {"name": "ì‹¤ì œ ìƒí’ˆëª…", "action": "ê°€ì…"},\n        {"name": "ë‹¤ë¥¸ ìƒí’ˆëª…", "action": "êµ¬ë§¤"}\n    ],\n    "channel": [\n        {"type": "URL", "value": "ì‹¤ì œ URL", "action": "ê°€ì…"}\n    ],\n    "pgm": ["ì‹¤ì œ í”„ë¡œê·¸ë¨ëª…"]\n}\n\n\n### OUTPUT FORMAT REQUIREMENT ###\nYou MUST respond with a valid JSON object containing actual extracted data.\nDo NOT include schema definitions, type specifications, or template structures.\nReturn only the concrete extracted information in the specified JSON format.\n\n\n### ê´‘ê³  ë¶„ë¥˜ ê¸°ì¤€ ì •ë³´ ###\n\tì‚¬ìš©ë²•/í˜œíƒ/ì´ë²¤íŠ¸ì•ˆë‚´_êµ¬ë… : ìš°ì£¼, êµ¬ë…, í˜œíƒ, ì´ë²¤íŠ¸, Tìš°ì£¼, T ìš°ì£¼, ì½˜í…ì¸ , í• ì¸, ì¶”ì²œ, ì‚¬ìš©ë²•, ì„œë¹„ìŠ¤\n\tíƒ€ì‚¬íšŒì„ (ê°€ë§)_win-back : ì“°ë˜í°ê·¸ëŒ€ë¡œ, 15990111, í†µì‹ ì‚¬ì´ë™, í†µì‹ ì‚¬ ì´ë™, ë²ˆí˜¸ì´ë™, ë²ˆí˜¸ ì´ë™, ì „í™˜, í˜œíƒ, í• ì¸, KT, LG, ì•Œëœ°í°\n\tì‚¬ìš©ë²•/í˜œíƒ/ì´ë²¤íŠ¸ì•ˆë‚´_ë‹¨ë§ : ê°¤ëŸ­ì‹œ, ì•„ì´í°, ì‚¬ìš©ë²•, ì•ˆë‚´, ì´ë²¤íŠ¸, í˜œíƒ, ê¸°ëŠ¥, íŒ, í™œìš©ë²•, ì—…ë°ì´íŠ¸\n\tê¸°ë³€ìœ ë„ë°í•´ì§€ë°©ì–´ : TDS, ê¸°ê¸°, ë³€ê²½, ì•½ì •, í• ì¸, í˜œíƒ, ì—…ê·¸ë ˆì´ë“œ, ì‹ ê·œë‹¨ë§, ì‹ ê·œ ë‹¨ë§, ë³´ìƒ, í”„ë¡œëª¨ì…˜, êµì²´\n\tì‚¬ìš©ë²•/í˜œíƒ/ì´ë²¤íŠ¸ì•ˆë‚´_Të©¤ë²„ì‹­ : ë©¤ë²„ì‹­, Tday, T day, VIP, ë“±ê¸‰, í• ì¸, ì¿ í°, ì´ë²¤íŠ¸, í˜œíƒ, ì ë¦½, ë¬´ë£Œ\n\n### ì°¸ê³ ìš© í›„ë³´ ìƒí’ˆ ì´ë¦„ ëª©ë¡ ###\n\t[\'ì•„ì´í°\']\n\n### FINAL REMINDER ###\nReturn a JSON object with actual data, not schema definitions!\n', 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:01,802 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:01,803 - httpcore.connection - DEBUG - connect_tcp.started host='api.platform.a15t.com' port=443 local_address=None timeout=None socket_options=None
2025-12-19 09:40:01,827 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x16d326300>
2025-12-19 09:40:01,827 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1629907d0> server_hostname='api.platform.a15t.com' timeout=None
2025-12-19 09:40:01,892 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x16304f6e0>
2025-12-19 09:40:01,892 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:01,893 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:01,893 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:01,893 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:01,893 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:08,324 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:08 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1727'), (b'Connection', b'keep-alive'), (b'x-request-id', b'db8291fe-9c0a-438b-b5c7-498cff452a09')])
2025-12-19 09:40:08,327 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:08,328 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:08,328 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:08,329 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:08,329 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:08,330 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:08 GMT', 'content-type': 'application/json', 'content-length': '1727', 'connection': 'keep-alive', 'x-request-id': 'db8291fe-9c0a-438b-b5c7-498cff452a09'})
2025-12-19 09:40:08,331 - openai._base_client - DEBUG - request_id: db8291fe-9c0a-438b-b5c7-498cff452a09
2025-12-19 09:40:08,347 - core.mms_workflow_steps - INFO - LLM ì‘ë‹µ ê¸¸ì´: 867 ë¬¸ì
2025-12-19 09:40:08,347 - core.mms_workflow_steps - INFO - LLM ì‘ë‹µ ë‚´ìš© (ì²˜ìŒ 500ì): ```json
{
    "title": "ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì°¸ì—¬, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨",
    "purpose": [
        "ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„",
        "í˜œíƒ ì•ˆë‚´",
        "ì›¹/ì•± ì ‘ì† ìœ ë„"
    ],
    "sales_script": "ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì°¸ì—¬ ì‹œ ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ê¸°íšŒ! ì§€ê¸ˆ ì•ˆë‚´ë“œë¦´ê¹Œìš”?",
    "product": [
        {
            "name": "ì•„ì´í°",
            "action": "ì°¸ì—¬"
        },
        {
            "name": "ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ",
            "action": "ì°¸ì—¬"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "https://t-mms.kr/t.do?m=#61&s=33670&a=...
2025-12-19 09:40:08,347 - core.workflow_core - INFO - âœ… LLMExtractionStep ì™„ë£Œ (6.65ì´ˆ)
2025-12-19 09:40:08,348 - core.workflow_core - INFO - 
============================== 6/9: ResponseParsingStep ==============================
2025-12-19 09:40:08,348 - core.mms_workflow_steps - INFO - ì¶”ì¶œëœ JSON ê°ì²´ ìˆ˜: 1ê°œ
2025-12-19 09:40:08,348 - core.mms_workflow_steps - INFO - íŒŒì‹±ëœ JSON ê°ì²´ í‚¤: ['title', 'purpose', 'sales_script', 'product', 'channel', 'pgm']
2025-12-19 09:40:08,348 - core.mms_workflow_steps - INFO - íŒŒì‹±ëœ JSON ë‚´ìš©: {'title': 'ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì°¸ì—¬, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨', 'purpose': ['ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„', 'í˜œíƒ ì•ˆë‚´', 'ì›¹/ì•± ì ‘ì† ìœ ë„'], 'sales_script': 'ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì°¸ì—¬ ì‹œ ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ê¸°íšŒ! ì§€ê¸ˆ ì•ˆë‚´ë“œë¦´ê¹Œìš”?', 'product': [{'name': 'ì•„ì´í°', 'action': 'ì°¸ì—¬'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ì°¸ì—¬'}], 'channel': [{'type': 'URL', 'value': 'https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q', 'action': 'ì¶”ê°€ ì •ë³´'}, {'type': 'ì „í™”ë²ˆí˜¸', 'value': '1558', 'action': 'ë¬¸ì˜'}, {'type': 'ì „í™”ë²ˆí˜¸', 'value': '1504', 'action': 'ìˆ˜ì‹  ê±°ë¶€'}], 'pgm': ['ì‚¬ìš©ë²•/í˜œíƒ/ì´ë²¤íŠ¸ì•ˆë‚´_ë‹¨ë§', 'ì‚¬ìš©ë²•/í˜œíƒ/ì´ë²¤íŠ¸ì•ˆë‚´_Të©¤ë²„ì‹­']}
2025-12-19 09:40:08,348 - core.workflow_core - INFO - âœ… ResponseParsingStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-19 09:40:08,348 - core.workflow_core - INFO - 
============================== 7/9: ResultConstructionStep ==============================
2025-12-19 09:40:08,348 - services.result_builder - INFO - ================================================================================
2025-12-19 09:40:08,348 - services.result_builder - INFO - ğŸ” [PRODUCT DEBUG] build_extraction_result ì‹œì‘
2025-12-19 09:40:08,348 - services.result_builder - INFO - ================================================================================
2025-12-19 09:40:08,348 - services.result_builder - INFO - ğŸ“‹ [STEP 1] product_items ì¶”ì¶œ
2025-12-19 09:40:08,348 - services.result_builder - INFO -    - ì›ë³¸ product íƒ€ì…: <class 'list'>
2025-12-19 09:40:08,349 - services.result_builder - INFO -    - ì›ë³¸ product ë‚´ìš©: [{'name': 'ì•„ì´í°', 'action': 'ì°¸ì—¬'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ì°¸ì—¬'}]
2025-12-19 09:40:08,349 - services.result_builder - INFO -    âœ… ìµœì¢… product_items ê°œìˆ˜: 2ê°œ
2025-12-19 09:40:08,349 - services.result_builder - INFO -    âœ… ìµœì¢… product_items ë‚´ìš©: [{'name': 'ì•„ì´í°', 'action': 'ì°¸ì—¬'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ì°¸ì—¬'}]
2025-12-19 09:40:08,349 - services.result_builder - INFO - ğŸ“‹ [STEP 2] LLM ì¶”ì¶œ ì—”í‹°í‹°: ['ì•„ì´í°', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ']
2025-12-19 09:40:08,349 - services.result_builder - INFO - ğŸ“‹ [STEP 2] Kiwi ì—”í‹°í‹°: ['ì•„ì´í°']
2025-12-19 09:40:08,349 - services.result_builder - INFO - ğŸ“‹ [STEP 2] entity_extraction_mode: llm
2025-12-19 09:40:08,349 - services.result_builder - INFO - ğŸ” [STEP 3] LLM ê¸°ë°˜ ì—”í‹°í‹° ë§¤ì¹­ ì‹œì‘
2025-12-19 09:40:08,349 - services.result_builder - INFO -    - ì‚¬ìš©í•  LLM ëª¨ë¸: ax
2025-12-19 09:40:08,349 - services.result_builder - INFO -    - llm_factory íƒ€ì…: <class 'utils.llm_factory.LLMFactory'>
2025-12-19 09:40:08,350 - utils.llm_factory - INFO - âœ… LLM ëª¨ë¸ ìƒì„± ì™„ë£Œ: ax (skt/ax4)
2025-12-19 09:40:08,350 - utils.llm_factory - INFO - âœ… ì´ 1ê°œ LLM ëª¨ë¸ ìƒì„± ì™„ë£Œ
2025-12-19 09:40:08,350 - services.result_builder - INFO -    - ì´ˆê¸°í™”ëœ LLM ëª¨ë¸ ìˆ˜: 1ê°œ
2025-12-19 09:40:08,350 - services.result_builder - INFO -    - ì´ˆê¸°í™”ëœ LLM ëª¨ë¸ ìˆ˜: 1ê°œ
2025-12-19 09:40:08,350 - services.entity_recognizer - INFO - === LLM Entity Extraction Started ===
2025-12-19 09:40:08,350 - services.entity_recognizer - INFO - Context mode: dag
2025-12-19 09:40:08,352 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-17c2480f-1968-4925-a958-83bbdc6ffcd3', 'json_data': {'messages': [{'content': '\n                    \n                    \nAnalyze the advertisement to extract **User Action Paths**.\nOutput two distinct sections:\n1. **ENTITY**: A list of independent Root Nodes.\n2. **DAG**: A structured graph representing the flow from Root to Benefit.\n\n## Crucial Language Rule\n* **DO NOT TRANSLATE:** Extract entities **exactly as they appear** in the source text.\n* **Preserve Original Script:** If the text says "ì•„ì´í° 17", output "ì•„ì´í° 17" (NOT "iPhone 17"). If it says "T Day", output "T Day".\n\n## Part 1: Root Node Selection Hierarchy (Extract ALL Distinct Roots)\nIdentify logical starting points based on this priority. If multiple independent offers exist, extract all.\n\n1.  **Physical Store (Highest):** Specific branch names.\n    * *Match:* "ìƒˆìƒ˜ëŒ€ë¦¬ì  ì—­ê³¡ì ", "ë°±ìƒ‰ëŒ€ë¦¬ì  ìˆ˜ì„±ì§ì˜ì "\n2.  **Core Service (Plans/VAS):** Rate plans, Value-Added Services, Internet/IPTV.\n    * *Match:* "5GX í”„ë¼ì„ ìš”ê¸ˆì œ", "Vì»¬ëŸ¬ë§", "ë¡œë° baro ìš”ê¸ˆì œ"\n3.  **Subscription/Event:** Membership signups or specific campaigns.\n    * *Match:* "T ìš°ì£¼", "T Day", "0 day", "ê³¨ë“œë²ˆí˜¸ í”„ë¡œëª¨ì…˜"\n4.  **App/Platform:** Apps requiring action.\n    * *Match:* "A.(ì—ì´ë‹·)", "PASS ì•±", "T world"\n5.  **Product (Hardware):** Device launches without a specific store focus.\n    * *Match:* "iPhone 17", "ê°¤ëŸ­ì‹œ Z í”Œë¦½7"\n\n## Part 2: DAG Construction Rules\nConstruct a Directed Acyclic Graph (DAG) for each identified Root Node.\n* **Format:** `(Node:Action) -[Edge]-> (Node:Action)`\n* **Nodes:**\n    * **Root:** The entry point identified above (Original Text).\n    * **Core:** The product/service being used or bought (Original Text).\n    * **Value:** The final reward or benefit (Original Text).\n* **Edges:**\n    * **Definition:** A verb describing the relationship between two nodes.\n    * **Purpose:** Represents the action or transition from one node to the next.\n    * **Examples:**\n        * `ê°€ì…` (subscribe), `êµ¬ë§¤` (purchase), `ì‚¬ìš©` (use)\n        * `íšë“` (obtain), `ì œê³µ` (provide), `ì§€ê¸‰` (grant)\n        * `ë°©ë¬¸` (visit), `ë‹¤ìš´ë¡œë“œ` (download), `ì‹ ì²­` (apply)\n    * **Guidelines:** Use concise action verbs that clearly describe how the user moves from one step to the next in the flow.\n* **Logic:** Represent the shortest path from the Root action to the Final Benefit.\n\n## Strict Exclusions\n* Ignore navigational labels (\'ë°”ë¡œ ê°€ê¸°\', \'ë§í¬\', \'Shortcut\').\n* Ignore generic partners (\'ìŠ¤íƒ€ë²…ìŠ¤\', \'CU\') unless they are the main subscription target.\n\n## Output Format: Do not use Markdown formatting. Use plain text.\nENTITY: <comma-separated list of all Nodes in original text>\nDAG: <DAG representation line by line in original text>\n\n\n## message:\n(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                    \n                    ', 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:08,353 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:08,353 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:08,353 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:08,354 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:08,354 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:08,354 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:09,924 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:09 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'736'), (b'Connection', b'keep-alive'), (b'x-request-id', b'4eccf0cb-392d-44bb-8770-784134299aee')])
2025-12-19 09:40:09,925 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:09,925 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:09,926 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:09,926 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:09,926 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:09,926 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:09 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-request-id': '4eccf0cb-392d-44bb-8770-784134299aee'})
2025-12-19 09:40:09,927 - openai._base_client - DEBUG - request_id: 4eccf0cb-392d-44bb-8770-784134299aee
2025-12-19 09:40:09,928 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

Analyze the advertisement to extract **User Action Paths**.
Output two distinct sections:
1. **ENTITY**: A list of independent Root Nodes.
2. **DAG**: A structured graph representing the flow from Root to Benefit.

## Crucial Language Rule
* **DO NOT TRANSLATE:** Extract entities **exactly as they appear** in the source text.
* **Preserve Original Script:** If the text says "ì•„ì´í° 17", output "ì•„ì´í° 17" (NOT "iPhone 17"). If it says "T Day", output "T Day".

## Part 1: Root Node Selection Hierarchy (Extract ALL Distinct Roots)
Identify logical starting points based on this priority. If multiple independent offers exist, extract all.

1.  **Physical Store (Highest):** Specific branch names.
    * *Match:* "ìƒˆìƒ˜ëŒ€ë¦¬ì  ì—­ê³¡ì ", "ë°±ìƒ‰ëŒ€ë¦¬ì  ìˆ˜ì„±ì§ì˜ì "
2.  **Core Service (Plans/VAS):** Rate plans, Value-Added Services, Internet/IPTV.
    * *Match:* "5GX í”„ë¼ì„ ìš”ê¸ˆì œ", "Vì»¬ëŸ¬ë§", "ë¡œë° baro ìš”ê¸ˆì œ"
3.  **Subscription/Event:** Membership signups or specific campaigns.
    * *Match:* "T ìš°ì£¼", "T Day", "0 day", "ê³¨ë“œë²ˆí˜¸ í”„ë¡œëª¨ì…˜"
4.  **App/Platform:** Apps requiring action.
    * *Match:* "A.(ì—ì´ë‹·)", "PASS ì•±", "T world"
5.  **Product (Hardware):** Device launches without a specific store focus.
    * *Match:* "iPhone 17", "ê°¤ëŸ­ì‹œ Z í”Œë¦½7"

## Part 2: DAG Construction Rules
Construct a Directed Acyclic Graph (DAG) for each identified Root Node.
* **Format:** `(Node:Action) -[Edge]-> (Node:Action)`
* **Nodes:**
    * **Root:** The entry point identified above (Original Text).
    * **Core:** The product/service being used or bought (Original Text).
    * **Value:** The final reward or benefit (Original Text).
* **Edges:**
    * **Definition:** A verb describing the relationship between two nodes.
    * **Purpose:** Represents the action or transition from one node to the next.
    * **Examples:**
        * `ê°€ì…` (subscribe), `êµ¬ë§¤` (purchase), `ì‚¬ìš©` (use)
        * `íšë“` (obtain), `ì œê³µ` (provide), `ì§€ê¸‰` (grant)
        * `ë°©ë¬¸` (visit), `ë‹¤ìš´ë¡œë“œ` (download), `ì‹ ì²­` (apply)
    * **Guidelines:** Use concise action verbs that clearly describe how the user moves from one step to the next in the flow.
* **Logic:** Represent the shortest path from the Root action to the Final Benefit.

## Strict Exclusions
* Ignore navigational labels ('ë°”ë¡œ ê°€ê¸°', 'ë§í¬', 'Shortcut').
* Ignore generic partners ('ìŠ¤íƒ€ë²…ìŠ¤', 'CU') unless they are the main subscription target.

## Output Format: Do not use Markdown formatting. Use plain text.
ENTITY: <comma-separated list of all Nodes in original text>
DAG: <DAG representation line by line in original text>


## message:
(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
ENTITY: T Day, ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ, ì‘ëª¨, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›

DAG: (Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)
----------------------------------------------------------------------------------------------------
2025-12-19 09:40:09,929 - services.entity_recognizer - INFO - [skt/ax4] Extracted 3 entities: ['T Day', 'ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›']
2025-12-19 09:40:09,929 - services.entity_recognizer - INFO - [skt/ax4] Extracted DAG text (93 chars)
2025-12-19 09:40:10,571 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4b403541-6bc8-4171-bcc3-2ce2e97fcf26', 'json_data': {'messages': [{'content': "\n                    \n                    \n                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.\n\n***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***\n\nGuidelines:\n1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)\n2. Exclude general concepts not tied to specific offerings\n3. Consider message context and product categories (plans, services, devices, apps, events, coupons)\n4. Multiple entities in 'entities in message' may combine into one composite entity\n5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)\n\nReturn format: Do not use Markdown formatting. Use plain text.\nREASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**\nENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match\n                \n                ## message:                \n                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                \n                \n## DAG Context (User Action Paths):\n(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)\n\n                \n                ## entities in message:\n                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸\n\n                ## candidate entities in vocabulary:\n                CU_T Day ì ë¦½, CU_T Day í• ì¸, ë˜í‚¨_T day ì ë¦½, ë˜í‚¨_T day í• ì¸, í•í«_T Day ì ë¦½, ë˜í‚¨_T day ì´ë²¤íŠ¸, ë“œë¡­íƒ‘_T Day í• ì¸, ë“œë¡­íƒ‘_T day ì ë¦½, ì•„í‹°ì œ_T day í• ì¸, í´ë°”ì…‹_T day ì ë¦½, í´ë°”ì…‹_T day í• ì¸, í”Œë¡œ_T day ì´ë²¤íŠ¸, í•í«_T Day ì´ë²¤íŠ¸, 11ë²ˆê°€_T Day ì‚¬ìš©, 11ë²ˆê°€_T Day ì ë¦½, 11ë²ˆê°€_T day í• ì¸, CGV_T day ì´ë²¤íŠ¸, CU_T Day ë¶€ìŠ¤íŠ¸ì—…, FLO_T day ì´ë²¤íŠ¸, Flo_T day ì´ë²¤íŠ¸\n                \n                    \n                    ", 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:10,572 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-aaf7ae89-d668-4987-bed9-7423274ca8f1', 'json_data': {'messages': [{'content': "\n                    \n                    \n                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.\n\n***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***\n\nGuidelines:\n1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)\n2. Exclude general concepts not tied to specific offerings\n3. Consider message context and product categories (plans, services, devices, apps, events, coupons)\n4. Multiple entities in 'entities in message' may combine into one composite entity\n5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)\n\nReturn format: Do not use Markdown formatting. Use plain text.\nREASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**\nENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match\n                \n                ## message:                \n                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                \n                \n## DAG Context (User Action Paths):\n(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)\n\n                \n                ## entities in message:\n                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸\n\n                ## candidate entities in vocabulary:\n                ê³µì°¨ì½”ë¦¬ì•„_T Day ì ë¦½, ê³µì°¨ì½”ë¦¬ì•„_T Day í• ì¸, ê´‘ë™ìƒíšŒ_T day ì´ë²¤íŠ¸, êµ­ê°œëŒ€í‘œ_T day ì´ë²¤íŠ¸, ë”ë°˜ì°¬&_T Day ì´ë²¤íŠ¸, ë“œë¡­íƒ‘_T Day ë¶€ìŠ¤íŠ¸ì—…, ëšœë ˆì¥¬ë¥´_T day ì´ë²¤íŠ¸, ë¡¯ë°ë¦¬ì•„_T Day ì´ë²¤íŠ¸, ë¡¯ë°ë¦¬ì•„_T day ì´ë²¤íŠ¸, ë¦¬ë°”ì´ë¶_T day ì´ë²¤íŠ¸, ë©”ê°€ë°•ìŠ¤_T day ì´ë²¤íŠ¸, ë©•ì‹œì¹´ë‚˜_T Day ì´ë²¤íŠ¸, ë³´ë¦¬ë³´ë¦¬_T day ì´ë²¤íŠ¸, ì„œìš¸ëœë“œ_T day ì´ë²¤íŠ¸, ì„¸ë¸ì¼ë ˆë¸_T Day ì ë¦½, ì„¸ë¸ì¼ë ˆë¸_T Day í• ì¸, ìŠˆí¼í‚¤ì¹œ_T day ì´ë²¤íŠ¸, ì•¼ë†€ì_T Day ë¶€ìŠ¤íŠ¸ì—…, ì—ë²„ëœë“œ_T day ì´ë²¤íŠ¸, ì›ìŠ¤í† ì–´_T Day ì´ë²¤íŠ¸\n                \n                    \n                    ", 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:10,572 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-8da4c3fc-84ae-44d2-bfb9-4688b51c9064', 'json_data': {'messages': [{'content': "\n                    \n                    \n                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.\n\n***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***\n\nGuidelines:\n1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)\n2. Exclude general concepts not tied to specific offerings\n3. Consider message context and product categories (plans, services, devices, apps, events, coupons)\n4. Multiple entities in 'entities in message' may combine into one composite entity\n5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)\n\nReturn format: Do not use Markdown formatting. Use plain text.\nREASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**\nENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match\n                \n                ## message:                \n                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                \n                \n## DAG Context (User Action Paths):\n(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)\n\n                \n                ## entities in message:\n                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸\n\n                ## candidate entities in vocabulary:\n                flo_T day ì´ë²¤íŠ¸, ë˜í‚¨_T day í•´í”¼ì•„ì›Œ, ë™ì›ëª°_T Day ì´ë²¤íŠ¸, ë°±ë¯¸ë‹¹_T day ì´ë²¤íŠ¸, ë¹Œë¦¬ì—”ì ¤_T Day í• ì¸, ì–´ë°”ì›ƒí«_T Day ì ë¦½, ì–´ë°”ì›ƒí«_T Day í• ì¸, ì˜¨ë”ë³´ë”_T Day í• ì¸, ì œì˜¤í—¤ì–´_T Day ì ë¦½, ì œì˜¤í—¤ì–´_T Day í• ì¸, í†¤28_T day ì´ë²¤íŠ¸, í’€ë¬´ì›_T Day ì´ë²¤íŠ¸, í’€ë¬´ì›_T day ì´ë²¤íŠ¸, í”Œë¡œ_T Day ë¶€ìŠ¤íŠ¸ì—…, FLO_T Day ë¶€ìŠ¤íŠ¸ì—…, Flo_T Day ë¶€ìŠ¤íŠ¸ì—…, GS25_T day ì´ë²¤íŠ¸, SKìŠ¤í† ì•„_T Day ì ë¦½, VIPS_T day ì´ë²¤íŠ¸, flo_T Day ë¶€ìŠ¤íŠ¸ì—…\n                \n                    \n                    ", 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:10,573 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:10,573 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:10,573 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:10,574 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:10,574 - httpcore.connection - DEBUG - connect_tcp.started host='api.platform.a15t.com' port=443 local_address=None timeout=None socket_options=None
2025-12-19 09:40:10,574 - httpcore.connection - DEBUG - connect_tcp.started host='api.platform.a15t.com' port=443 local_address=None timeout=None socket_options=None
2025-12-19 09:40:10,574 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:10,574 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:10,574 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:10,574 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:10,596 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x16d341160>
2025-12-19 09:40:10,597 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x16d3422a0>
2025-12-19 09:40:10,597 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1629907d0> server_hostname='api.platform.a15t.com' timeout=None
2025-12-19 09:40:10,597 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1629907d0> server_hostname='api.platform.a15t.com' timeout=None
2025-12-19 09:40:10,632 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x16d342f00>
2025-12-19 09:40:10,632 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:10,632 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:10,632 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:10,632 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x16d3409b0>
2025-12-19 09:40:10,632 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:10,632 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:10,633 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:10,633 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:10,633 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:10,633 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:10,633 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:11,442 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:11 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'609'), (b'Connection', b'keep-alive'), (b'x-request-id', b'2c92f72a-70d6-4b81-8c49-23fc70a1b14e')])
2025-12-19 09:40:11,443 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:11,443 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:11,443 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:11,444 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:11,444 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:11,444 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:11 GMT', 'content-type': 'application/json', 'content-length': '609', 'connection': 'keep-alive', 'x-request-id': '2c92f72a-70d6-4b81-8c49-23fc70a1b14e'})
2025-12-19 09:40:11,445 - openai._base_client - DEBUG - request_id: 2c92f72a-70d6-4b81-8c49-23fc70a1b14e
2025-12-19 09:40:11,446 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.

***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***

Guidelines:
1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)
2. Exclude general concepts not tied to specific offerings
3. Consider message context and product categories (plans, services, devices, apps, events, coupons)
4. Multiple entities in 'entities in message' may combine into one composite entity
5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)

Return format: Do not use Markdown formatting. Use plain text.
REASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**
ENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match
                
                ## message:                
                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
                
                
## DAG Context (User Action Paths):
(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)

                
                ## entities in message:
                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸

                ## candidate entities in vocabulary:
                ê³µì°¨ì½”ë¦¬ì•„_T Day ì ë¦½, ê³µì°¨ì½”ë¦¬ì•„_T Day í• ì¸, ê´‘ë™ìƒíšŒ_T day ì´ë²¤íŠ¸, êµ­ê°œëŒ€í‘œ_T day ì´ë²¤íŠ¸, ë”ë°˜ì°¬&_T Day ì´ë²¤íŠ¸, ë“œë¡­íƒ‘_T Day ë¶€ìŠ¤íŠ¸ì—…, ëšœë ˆì¥¬ë¥´_T day ì´ë²¤íŠ¸, ë¡¯ë°ë¦¬ì•„_T Day ì´ë²¤íŠ¸, ë¡¯ë°ë¦¬ì•„_T day ì´ë²¤íŠ¸, ë¦¬ë°”ì´ë¶_T day ì´ë²¤íŠ¸, ë©”ê°€ë°•ìŠ¤_T day ì´ë²¤íŠ¸, ë©•ì‹œì¹´ë‚˜_T Day ì´ë²¤íŠ¸, ë³´ë¦¬ë³´ë¦¬_T day ì´ë²¤íŠ¸, ì„œìš¸ëœë“œ_T day ì´ë²¤íŠ¸, ì„¸ë¸ì¼ë ˆë¸_T Day ì ë¦½, ì„¸ë¸ì¼ë ˆë¸_T Day í• ì¸, ìŠˆí¼í‚¤ì¹œ_T day ì´ë²¤íŠ¸, ì•¼ë†€ì_T Day ë¶€ìŠ¤íŠ¸ì—…, ì—ë²„ëœë“œ_T day ì´ë²¤íŠ¸, ì›ìŠ¤í† ì–´_T Day ì´ë²¤íŠ¸
                
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
REASON: í•µì‹¬ í˜œíƒì€ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›'ì´ë‚˜, í•´ë‹¹ ì—”í‹°í‹°ëŠ” vocabularyì— ì—†ìŒ.
ENTITY:
----------------------------------------------------------------------------------------------------
2025-12-19 09:40:11,448 - services.entity_recognizer - INFO - [skt/ax4] Extracted 0 entities: []
2025-12-19 09:40:11,450 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9748de2e-0a91-4c2a-9610-d9e9a6bd9b88', 'json_data': {'messages': [{'content': "\n                    \n                    \n                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.\n\n***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***\n\nGuidelines:\n1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)\n2. Exclude general concepts not tied to specific offerings\n3. Consider message context and product categories (plans, services, devices, apps, events, coupons)\n4. Multiple entities in 'entities in message' may combine into one composite entity\n5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)\n\nReturn format: Do not use Markdown formatting. Use plain text.\nREASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**\nENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match\n                \n                ## message:                \n                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                \n                \n## DAG Context (User Action Paths):\n(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)\n\n                \n                ## entities in message:\n                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸\n\n                ## candidate entities in vocabulary:\n                ì´ë‹ˆìŠ¤í”„ë¦¬_T Day ì ë¦½, í‚¤ìë‹ˆì•„_T day ì´ë²¤íŠ¸, íŒŒë¦¬ë°”ê²Œëœ¨_T Day ì ë¦½, íŒŒë¦¬ë°”ê²Œëœ¨_T Day í• ì¸, í´ë°”ì…‹_T Day ë¶€ìŠ¤íŠ¸ì—…, í•˜í”„í´ëŸ½_T day ì´ë²¤íŠ¸, SKìŠ¤í† ì•„_T day ì´ë²¤íŠ¸, TìŠ¤ë§ˆíŠ¸ì˜¤ë”_T day í• ì¸, VIPS_T Day ë¶€ìŠ¤íŠ¸ì—…, ê¸°í”„í‹°ì½˜_T Day ë¶€ìŠ¤íŠ¸ì—…, ëšœë ˆì¥¬ë¥´_T Day ë¶€ìŠ¤íŠ¸ì—…, ë¡¯ë°ë¦¬ì•„_T Day ë¶€ìŠ¤íŠ¸ì—…, ë¡¯ë°ë¦¬ì•„_T Day ì ë¦½ì‚¬ìš©, ë¡¯ë°ë¦¬ì•„_T Day í• ì¸ì‚¬ìš©, ë¡¯ë°ì‹œë„¤ë§ˆ_T day ì´ë²¤íŠ¸, ë¡¯ë°ì›”ë“œ_T Day ì ë¦½ì‚¬ìš©, ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤_T Day ì ë¦½, ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤_T Day í• ì¸, ë³´ë¦¬ë³´ë¦¬_ T day ì´ë²¤íŠ¸, ì„¸ë¸ì¼ë ˆë¸_T day ì´ë²¤íŠ¸\n                \n                    \n                    ", 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:11,451 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:11,452 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:11,452 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:11,452 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:11,453 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:11,453 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:11,470 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:11 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'608'), (b'Connection', b'keep-alive'), (b'x-request-id', b'c04458e4-0b00-43c2-af1f-e250e00d7cfb')])
2025-12-19 09:40:11,471 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:11,472 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:11,472 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:11,472 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:11,473 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:11,473 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:11 GMT', 'content-type': 'application/json', 'content-length': '608', 'connection': 'keep-alive', 'x-request-id': 'c04458e4-0b00-43c2-af1f-e250e00d7cfb'})
2025-12-19 09:40:11,473 - openai._base_client - DEBUG - request_id: c04458e4-0b00-43c2-af1f-e250e00d7cfb
2025-12-19 09:40:11,474 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.

***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***

Guidelines:
1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)
2. Exclude general concepts not tied to specific offerings
3. Consider message context and product categories (plans, services, devices, apps, events, coupons)
4. Multiple entities in 'entities in message' may combine into one composite entity
5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)

Return format: Do not use Markdown formatting. Use plain text.
REASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**
ENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match
                
                ## message:                
                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
                
                
## DAG Context (User Action Paths):
(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)

                
                ## entities in message:
                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸

                ## candidate entities in vocabulary:
                CU_T Day ì ë¦½, CU_T Day í• ì¸, ë˜í‚¨_T day ì ë¦½, ë˜í‚¨_T day í• ì¸, í•í«_T Day ì ë¦½, ë˜í‚¨_T day ì´ë²¤íŠ¸, ë“œë¡­íƒ‘_T Day í• ì¸, ë“œë¡­íƒ‘_T day ì ë¦½, ì•„í‹°ì œ_T day í• ì¸, í´ë°”ì…‹_T day ì ë¦½, í´ë°”ì…‹_T day í• ì¸, í”Œë¡œ_T day ì´ë²¤íŠ¸, í•í«_T Day ì´ë²¤íŠ¸, 11ë²ˆê°€_T Day ì‚¬ìš©, 11ë²ˆê°€_T Day ì ë¦½, 11ë²ˆê°€_T day í• ì¸, CGV_T day ì´ë²¤íŠ¸, CU_T Day ë¶€ìŠ¤íŠ¸ì—…, FLO_T day ì´ë²¤íŠ¸, Flo_T day ì´ë²¤íŠ¸
                
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
REASON: í•µì‹¬ í˜œíƒì€ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›'ì´ë‚˜, í•´ë‹¹ ì—”í‹°í‹°ëŠ” vocabularyì— ì—†ìŒ.
ENTITY:
----------------------------------------------------------------------------------------------------
2025-12-19 09:40:11,475 - services.entity_recognizer - INFO - [skt/ax4] Extracted 0 entities: []
2025-12-19 09:40:11,476 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-24243c4a-038c-45d3-8c21-1eac47f02244', 'json_data': {'messages': [{'content': "\n                    \n                    \n                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.\n\n***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***\n\nGuidelines:\n1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)\n2. Exclude general concepts not tied to specific offerings\n3. Consider message context and product categories (plans, services, devices, apps, events, coupons)\n4. Multiple entities in 'entities in message' may combine into one composite entity\n5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)\n\nReturn format: Do not use Markdown formatting. Use plain text.\nREASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**\nENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match\n                \n                ## message:                \n                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                \n                \n## DAG Context (User Action Paths):\n(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)\n\n                \n                ## entities in message:\n                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸\n\n                ## candidate entities in vocabulary:\n                ì‰ì´í¬ì‰‘_T day í•´í”¼ì•„ì›Œ, ì•„ì¿ ì•„í•„ë“œ_T day ì´ë²¤íŠ¸, ì–´ë°”ì›ƒí«_T Day ë¶€ìŠ¤íŠ¸ì—…, ì—”ì œë¦¬ë„ˆìŠ¤_T Day ì´ë²¤íŠ¸, ì›ìŠ¤í† ì–´_T Day ë¶€ìŠ¤íŠ¸ì—…, ì´ë‹ˆìŠ¤í”„ë¦¬_T day ì´ë²¤íŠ¸, ì²­ì†Œì—°êµ¬ì†Œ_T day ì´ë²¤íŠ¸, íˆ¬ì¸í”Œë ˆì´ìŠ¤_T day í• ì¸, íŒŒë¦¬ë°”ê²Œëœ¨_T day ì´ë²¤íŠ¸, íŒŒíŒŒì¡´ìŠ¤í”¼ì_T Day ì ë¦½, íŒŒíŒŒì¡´ìŠ¤í”¼ì_T Day í• ì¸, ë˜í‚¨_T day ì´ë²¤íŠ¸_A., ê³µì°¨ì½”ë¦¬ì•„_T Day ë¶€ìŠ¤íŠ¸ì—…, ë„ë¯¸ë…¸í”¼ì_T Day ë¶€ìŠ¤íŠ¸ì—…, ì„œìš¸ìŠ¤ì¹´ì´_T Day ì ë¦½ì‚¬ìš©, ì„œìš¸ìŠ¤ì¹´ì´_T Day í• ì¸ì‚¬ìš©, ì„¸ë¸ì¼ë ˆë¸_T Day ë¶€ìŠ¤íŠ¸ì—…, ìŠ¤í”¼ë“œë©”ì´íŠ¸_T day ì´ë²¤íŠ¸, ì•„ì›ƒë°±ìŠ¤í…Œì´í¬_T Day í• ì¸, ì•„ì›ƒë°±ìŠ¤í…Œì´í¬_T day ì ë¦½\n                \n                    \n                    ", 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:11,477 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:11,478 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:11,478 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:11,478 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:11,478 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:11,479 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:11,507 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:11 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'609'), (b'Connection', b'keep-alive'), (b'x-request-id', b'd453f977-4393-42db-a163-da4138c33ebc')])
2025-12-19 09:40:11,508 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:11,508 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:11,508 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:11,508 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:11,508 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:11,508 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:11 GMT', 'content-type': 'application/json', 'content-length': '609', 'connection': 'keep-alive', 'x-request-id': 'd453f977-4393-42db-a163-da4138c33ebc'})
2025-12-19 09:40:11,509 - openai._base_client - DEBUG - request_id: d453f977-4393-42db-a163-da4138c33ebc
2025-12-19 09:40:11,510 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.

***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***

Guidelines:
1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)
2. Exclude general concepts not tied to specific offerings
3. Consider message context and product categories (plans, services, devices, apps, events, coupons)
4. Multiple entities in 'entities in message' may combine into one composite entity
5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)

Return format: Do not use Markdown formatting. Use plain text.
REASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**
ENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match
                
                ## message:                
                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
                
                
## DAG Context (User Action Paths):
(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)

                
                ## entities in message:
                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸

                ## candidate entities in vocabulary:
                flo_T day ì´ë²¤íŠ¸, ë˜í‚¨_T day í•´í”¼ì•„ì›Œ, ë™ì›ëª°_T Day ì´ë²¤íŠ¸, ë°±ë¯¸ë‹¹_T day ì´ë²¤íŠ¸, ë¹Œë¦¬ì—”ì ¤_T Day í• ì¸, ì–´ë°”ì›ƒí«_T Day ì ë¦½, ì–´ë°”ì›ƒí«_T Day í• ì¸, ì˜¨ë”ë³´ë”_T Day í• ì¸, ì œì˜¤í—¤ì–´_T Day ì ë¦½, ì œì˜¤í—¤ì–´_T Day í• ì¸, í†¤28_T day ì´ë²¤íŠ¸, í’€ë¬´ì›_T Day ì´ë²¤íŠ¸, í’€ë¬´ì›_T day ì´ë²¤íŠ¸, í”Œë¡œ_T Day ë¶€ìŠ¤íŠ¸ì—…, FLO_T Day ë¶€ìŠ¤íŠ¸ì—…, Flo_T Day ë¶€ìŠ¤íŠ¸ì—…, GS25_T day ì´ë²¤íŠ¸, SKìŠ¤í† ì•„_T Day ì ë¦½, VIPS_T day ì´ë²¤íŠ¸, flo_T Day ë¶€ìŠ¤íŠ¸ì—…
                
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
REASON: í•µì‹¬ í˜œíƒì€ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›'ì´ë‚˜, í•´ë‹¹ ì—”í‹°í‹°ëŠ” vocabularyì— ì—†ìŒ.
ENTITY:
----------------------------------------------------------------------------------------------------
2025-12-19 09:40:11,510 - services.entity_recognizer - INFO - [skt/ax4] Extracted 0 entities: []
2025-12-19 09:40:11,511 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-ad55af8b-121d-40ce-b115-f7ad3a1fe6e4', 'json_data': {'messages': [{'content': "\n                    \n                    \n                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.\n\n***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***\n\nGuidelines:\n1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)\n2. Exclude general concepts not tied to specific offerings\n3. Consider message context and product categories (plans, services, devices, apps, events, coupons)\n4. Multiple entities in 'entities in message' may combine into one composite entity\n5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)\n\nReturn format: Do not use Markdown formatting. Use plain text.\nREASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**\nENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match\n                \n                ## message:                \n                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                \n                \n## DAG Context (User Action Paths):\n(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)\n\n                \n                ## entities in message:\n                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸\n\n                ## candidate entities in vocabulary:\n                ì—”ì œë¦¬ë„ˆìŠ¤_T Day ë¶€ìŠ¤íŠ¸ì—…, ì—”ì œë¦¬ë„ˆìŠ¤_T Day ì ë¦½ì‚¬ìš©, ì—”ì œë¦¬ë„ˆìŠ¤_T Day í• ì¸ì‚¬ìš©, íŒŒë¦¬í¬ë¼ìƒ_  T Day ì´ë²¤íŠ¸, í—ˆê·¸ë§˜í—ˆê·¸ì¸_T Day ì´ë²¤íŠ¸, T ë‹¤ì´ë ‰íŠ¸ìƒµ_0 day, ê·¸ë¦¬íŒ…_T day ì ë¦½(ì¼ë°˜), ê·¸ë¦¬íŒ…_T day í• ì¸(ì¿ í°), ë‚˜ëšœë£¨_T Day ì ë¦½ ì‚¬ìš©, ì•¼ë†€ì_T Day ì ë¦½(12%), ì•¼ë†€ì_T Day í• ì¸(12%), ì•¼ë†€ì_T day ì ë¦½(10%), ì•¼ë†€ì_T day ì ë¦½(15%), ì•¼ë†€ì_T day í• ì¸(10%), ì•¼ë†€ì_T day í• ì¸(15%), TSMARTì˜¤ë”_T day í• ì¸, TSmartì˜¤ë”_T day í• ì¸, Tsmartì˜¤ë”_T day í• ì¸, ë©”ê°€MGCì»¤í”¼_T day ì´ë²¤íŠ¸, ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤_T Day ë¶€ìŠ¤íŠ¸ì—…\n                \n                    \n                    ", 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:11,512 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:11,512 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:11,513 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:11,513 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:11,513 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:11,513 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:12,259 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:12 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'592'), (b'Connection', b'keep-alive'), (b'x-request-id', b'65dd2107-a7ba-4d04-ae0c-04c5ca065ad9')])
2025-12-19 09:40:12,261 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:12,261 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:12,262 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:12,262 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:12,263 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:12 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'591'), (b'Connection', b'keep-alive'), (b'x-request-id', b'b9ed3cc3-0540-422e-935e-5198395fabb5')])
2025-12-19 09:40:12,263 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:12,264 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:12,264 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:12 GMT', 'content-type': 'application/json', 'content-length': '592', 'connection': 'keep-alive', 'x-request-id': '65dd2107-a7ba-4d04-ae0c-04c5ca065ad9'})
2025-12-19 09:40:12,265 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:12,265 - openai._base_client - DEBUG - request_id: 65dd2107-a7ba-4d04-ae0c-04c5ca065ad9
2025-12-19 09:40:12,265 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:12,267 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.

***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***

Guidelines:
1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)
2. Exclude general concepts not tied to specific offerings
3. Consider message context and product categories (plans, services, devices, apps, events, coupons)
4. Multiple entities in 'entities in message' may combine into one composite entity
5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)

Return format: Do not use Markdown formatting. Use plain text.
REASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**
ENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match
                
                ## message:                
                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
                
                
## DAG Context (User Action Paths):
(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)

                
                ## entities in message:
                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸

                ## candidate entities in vocabulary:
                ì—”ì œë¦¬ë„ˆìŠ¤_T Day ë¶€ìŠ¤íŠ¸ì—…, ì—”ì œë¦¬ë„ˆìŠ¤_T Day ì ë¦½ì‚¬ìš©, ì—”ì œë¦¬ë„ˆìŠ¤_T Day í• ì¸ì‚¬ìš©, íŒŒë¦¬í¬ë¼ìƒ_  T Day ì´ë²¤íŠ¸, í—ˆê·¸ë§˜í—ˆê·¸ì¸_T Day ì´ë²¤íŠ¸, T ë‹¤ì´ë ‰íŠ¸ìƒµ_0 day, ê·¸ë¦¬íŒ…_T day ì ë¦½(ì¼ë°˜), ê·¸ë¦¬íŒ…_T day í• ì¸(ì¿ í°), ë‚˜ëšœë£¨_T Day ì ë¦½ ì‚¬ìš©, ì•¼ë†€ì_T Day ì ë¦½(12%), ì•¼ë†€ì_T Day í• ì¸(12%), ì•¼ë†€ì_T day ì ë¦½(10%), ì•¼ë†€ì_T day ì ë¦½(15%), ì•¼ë†€ì_T day í• ì¸(10%), ì•¼ë†€ì_T day í• ì¸(15%), TSMARTì˜¤ë”_T day í• ì¸, TSmartì˜¤ë”_T day í• ì¸, Tsmartì˜¤ë”_T day í• ì¸, ë©”ê°€MGCì»¤í”¼_T day ì´ë²¤íŠ¸, ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤_T Day ë¶€ìŠ¤íŠ¸ì—…
                
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
REASON: ìµœì¢… íšë“ í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›'ì´ vocabularyì— ì—†ìŒ.
ENTITY:
----------------------------------------------------------------------------------------------------
2025-12-19 09:40:12,267 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:12,267 - services.entity_recognizer - INFO - [skt/ax4] Extracted 0 entities: []
2025-12-19 09:40:12,268 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:12,270 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-fe6f9f92-eb59-41f0-8242-33432262f3a7', 'json_data': {'messages': [{'content': "\n                    \n                    \n                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.\n\n***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***\n\nGuidelines:\n1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)\n2. Exclude general concepts not tied to specific offerings\n3. Consider message context and product categories (plans, services, devices, apps, events, coupons)\n4. Multiple entities in 'entities in message' may combine into one composite entity\n5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)\n\nReturn format: Do not use Markdown formatting. Use plain text.\nREASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**\nENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match\n                \n                ## message:                \n                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                \n                \n## DAG Context (User Action Paths):\n(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)\n\n                \n                ## entities in message:\n                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸\n\n                ## candidate entities in vocabulary:\n                ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤_T day í•´í”¼ì•„ì›Œ, ë¶€ì‚°ì—‘ìŠ¤ë”ìŠ¤ì¹´ì´_T Day ì ë¦½, ë¶€ì‚°ì—‘ìŠ¤ë”ìŠ¤ì¹´ì´_T Day í• ì¸, íˆ¬ì¸í”Œë ˆì´ìŠ¤_T day ì»¤í”¼íƒ€ì„, íŒŒíŒŒì¡´ìŠ¤í”¼ì_T Day ë¶€ìŠ¤íŠ¸ì—…, TGIF_0 day, SMARTì½˜_0 day, Smartì½˜_0 day, smartì½˜_0 day, CU_0 Day, ê°“ì‡_0 day, ë˜í‚¨_0 day, ì”½ì”½_0 day, ì»¬ë¦¬_0 day, ì¿¤ë‹¬_0 day, ê³ í”¼ì_0 Day, êµ¬ì¶•-T-Deal, ë…¸í‹°ë“œ_0 day, ë†ì‹¬ëª°_0 day, ë‹¤ì´ì†Œ_0 Day\n                \n                    \n                    ", 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:12,270 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:12 GMT', 'content-type': 'application/json', 'content-length': '591', 'connection': 'keep-alive', 'x-request-id': 'b9ed3cc3-0540-422e-935e-5198395fabb5'})
2025-12-19 09:40:12,272 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:12,272 - openai._base_client - DEBUG - request_id: b9ed3cc3-0540-422e-935e-5198395fabb5
2025-12-19 09:40:12,274 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.

***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***

Guidelines:
1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)
2. Exclude general concepts not tied to specific offerings
3. Consider message context and product categories (plans, services, devices, apps, events, coupons)
4. Multiple entities in 'entities in message' may combine into one composite entity
5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)

Return format: Do not use Markdown formatting. Use plain text.
REASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**
ENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match
                
                ## message:                
                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
                
                
## DAG Context (User Action Paths):
(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)

                
                ## entities in message:
                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸

                ## candidate entities in vocabulary:
                ì´ë‹ˆìŠ¤í”„ë¦¬_T Day ì ë¦½, í‚¤ìë‹ˆì•„_T day ì´ë²¤íŠ¸, íŒŒë¦¬ë°”ê²Œëœ¨_T Day ì ë¦½, íŒŒë¦¬ë°”ê²Œëœ¨_T Day í• ì¸, í´ë°”ì…‹_T Day ë¶€ìŠ¤íŠ¸ì—…, í•˜í”„í´ëŸ½_T day ì´ë²¤íŠ¸, SKìŠ¤í† ì•„_T day ì´ë²¤íŠ¸, TìŠ¤ë§ˆíŠ¸ì˜¤ë”_T day í• ì¸, VIPS_T Day ë¶€ìŠ¤íŠ¸ì—…, ê¸°í”„í‹°ì½˜_T Day ë¶€ìŠ¤íŠ¸ì—…, ëšœë ˆì¥¬ë¥´_T Day ë¶€ìŠ¤íŠ¸ì—…, ë¡¯ë°ë¦¬ì•„_T Day ë¶€ìŠ¤íŠ¸ì—…, ë¡¯ë°ë¦¬ì•„_T Day ì ë¦½ì‚¬ìš©, ë¡¯ë°ë¦¬ì•„_T Day í• ì¸ì‚¬ìš©, ë¡¯ë°ì‹œë„¤ë§ˆ_T day ì´ë²¤íŠ¸, ë¡¯ë°ì›”ë“œ_T Day ì ë¦½ì‚¬ìš©, ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤_T Day ì ë¦½, ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤_T Day í• ì¸, ë³´ë¦¬ë³´ë¦¬_ T day ì´ë²¤íŠ¸, ì„¸ë¸ì¼ë ˆë¸_T day ì´ë²¤íŠ¸
                
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
REASON: ìµœì¢… íšë“ í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›'ì´ vocabularyì— ì—†ìŒ.
ENTITY:
----------------------------------------------------------------------------------------------------
2025-12-19 09:40:12,274 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:12,274 - services.entity_recognizer - INFO - [skt/ax4] Extracted 0 entities: []
2025-12-19 09:40:12,276 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2f0414a0-908a-475f-9b6a-17c3143e5352', 'json_data': {'messages': [{'content': "\n                    \n                    \n                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.\n\n***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***\n\nGuidelines:\n1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)\n2. Exclude general concepts not tied to specific offerings\n3. Consider message context and product categories (plans, services, devices, apps, events, coupons)\n4. Multiple entities in 'entities in message' may combine into one composite entity\n5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)\n\nReturn format: Do not use Markdown formatting. Use plain text.\nREASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**\nENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match\n                \n                ## message:                \n                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                \n                \n## DAG Context (User Action Paths):\n(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)\n\n                \n                ## entities in message:\n                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸\n\n                ## candidate entities in vocabulary:\n                ë¦¬í¼í¬_0 day, ë² ì–´ìœ _0 day, ì†œì”¨ë‹¹_0 Day, ìŠ¤ë…¸ìš°_0 Day, ì•ˆë‹¤ë¥´_0 Day, ìš”ê¸°ìš”_0 day, ìš”ì•„ì •_0 day, ìº”ë””ë¯¸_0 day, ì»¨ë²„ìŠ¤_0 day, í†¤28_0 Day, íŒ€í™€íŠ¼_0 day, í”¼ìí—›_0 Day, í”¼ì»¤ìŠ¤_0 day, T bag, ì•„ì´í°, ì•„ì´í° 16, ì•„ì´í° 17, ì•„ì´í° ì—ì–´, ì•„ì´í° 16E, ì•„ì´í° AIR\n                \n                    \n                    ", 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:12,276 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:12,277 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:12,277 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:12,277 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:12,277 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:12,277 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:12,277 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:12,278 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:12,278 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:12,278 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:12,373 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:12 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'609'), (b'Connection', b'keep-alive'), (b'x-request-id', b'd6179752-0371-4f13-8c73-2668dc8bdc2d')])
2025-12-19 09:40:12,374 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:12,375 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:12,375 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:12,375 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:12,376 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:12,376 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:12 GMT', 'content-type': 'application/json', 'content-length': '609', 'connection': 'keep-alive', 'x-request-id': 'd6179752-0371-4f13-8c73-2668dc8bdc2d'})
2025-12-19 09:40:12,376 - openai._base_client - DEBUG - request_id: d6179752-0371-4f13-8c73-2668dc8bdc2d
2025-12-19 09:40:12,378 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.

***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***

Guidelines:
1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)
2. Exclude general concepts not tied to specific offerings
3. Consider message context and product categories (plans, services, devices, apps, events, coupons)
4. Multiple entities in 'entities in message' may combine into one composite entity
5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)

Return format: Do not use Markdown formatting. Use plain text.
REASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**
ENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match
                
                ## message:                
                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
                
                
## DAG Context (User Action Paths):
(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)

                
                ## entities in message:
                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸

                ## candidate entities in vocabulary:
                ì‰ì´í¬ì‰‘_T day í•´í”¼ì•„ì›Œ, ì•„ì¿ ì•„í•„ë“œ_T day ì´ë²¤íŠ¸, ì–´ë°”ì›ƒí«_T Day ë¶€ìŠ¤íŠ¸ì—…, ì—”ì œë¦¬ë„ˆìŠ¤_T Day ì´ë²¤íŠ¸, ì›ìŠ¤í† ì–´_T Day ë¶€ìŠ¤íŠ¸ì—…, ì´ë‹ˆìŠ¤í”„ë¦¬_T day ì´ë²¤íŠ¸, ì²­ì†Œì—°êµ¬ì†Œ_T day ì´ë²¤íŠ¸, íˆ¬ì¸í”Œë ˆì´ìŠ¤_T day í• ì¸, íŒŒë¦¬ë°”ê²Œëœ¨_T day ì´ë²¤íŠ¸, íŒŒíŒŒì¡´ìŠ¤í”¼ì_T Day ì ë¦½, íŒŒíŒŒì¡´ìŠ¤í”¼ì_T Day í• ì¸, ë˜í‚¨_T day ì´ë²¤íŠ¸_A., ê³µì°¨ì½”ë¦¬ì•„_T Day ë¶€ìŠ¤íŠ¸ì—…, ë„ë¯¸ë…¸í”¼ì_T Day ë¶€ìŠ¤íŠ¸ì—…, ì„œìš¸ìŠ¤ì¹´ì´_T Day ì ë¦½ì‚¬ìš©, ì„œìš¸ìŠ¤ì¹´ì´_T Day í• ì¸ì‚¬ìš©, ì„¸ë¸ì¼ë ˆë¸_T Day ë¶€ìŠ¤íŠ¸ì—…, ìŠ¤í”¼ë“œë©”ì´íŠ¸_T day ì´ë²¤íŠ¸, ì•„ì›ƒë°±ìŠ¤í…Œì´í¬_T Day í• ì¸, ì•„ì›ƒë°±ìŠ¤í…Œì´í¬_T day ì ë¦½
                
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
REASON: í•µì‹¬ í˜œíƒì€ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›'ì´ë‚˜, í•´ë‹¹ ì—”í‹°í‹°ëŠ” vocabularyì— ì—†ìŒ.
ENTITY:
----------------------------------------------------------------------------------------------------
2025-12-19 09:40:12,379 - services.entity_recognizer - INFO - [skt/ax4] Extracted 0 entities: []
2025-12-19 09:40:12,382 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-304b2093-ca31-4efc-a4fc-5b789deb32fb', 'json_data': {'messages': [{'content': "\n                    \n                    \n                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.\n\n***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***\n\nGuidelines:\n1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)\n2. Exclude general concepts not tied to specific offerings\n3. Consider message context and product categories (plans, services, devices, apps, events, coupons)\n4. Multiple entities in 'entities in message' may combine into one composite entity\n5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)\n\nReturn format: Do not use Markdown formatting. Use plain text.\nREASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**\nENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match\n                \n                ## message:                \n                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n                \n                \n## DAG Context (User Action Paths):\n(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)\n\n                \n                ## entities in message:\n                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸\n\n                ## candidate entities in vocabulary:\n                ì•„ì´í° Air, ì•„ì´í° ì‹ ì œí’ˆ, ì•„ì´í° ìµœì‹ í°, ì•„ì´í° í†µí™”ë…¹ìŒ, A. ì „í™”(ì•„ì´í°), Tì•„ì´í°í´ëŸ½, ì•„ì´í° 17 ì‹œë¦¬ì¦ˆ, ì˜¬ë¦¬ë¸Œì˜_ì˜¬ë¦¬ë¸Œì˜\n                \n                    \n                    ", 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'seed': 42, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:12,383 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:12,384 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:12,385 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:12,385 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:12,386 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:12,386 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:13,088 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:13 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'608'), (b'Connection', b'keep-alive'), (b'x-request-id', b'faf4b340-103a-4cd1-b3c3-893a4e923e77')])
2025-12-19 09:40:13,089 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:13,089 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:13,089 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:13,089 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:13,089 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:13,089 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:13 GMT', 'content-type': 'application/json', 'content-length': '608', 'connection': 'keep-alive', 'x-request-id': 'faf4b340-103a-4cd1-b3c3-893a4e923e77'})
2025-12-19 09:40:13,089 - openai._base_client - DEBUG - request_id: faf4b340-103a-4cd1-b3c3-893a4e923e77
2025-12-19 09:40:13,090 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.

***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***

Guidelines:
1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)
2. Exclude general concepts not tied to specific offerings
3. Consider message context and product categories (plans, services, devices, apps, events, coupons)
4. Multiple entities in 'entities in message' may combine into one composite entity
5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)

Return format: Do not use Markdown formatting. Use plain text.
REASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**
ENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match
                
                ## message:                
                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
                
                
## DAG Context (User Action Paths):
(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)

                
                ## entities in message:
                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸

                ## candidate entities in vocabulary:
                ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤_T day í•´í”¼ì•„ì›Œ, ë¶€ì‚°ì—‘ìŠ¤ë”ìŠ¤ì¹´ì´_T Day ì ë¦½, ë¶€ì‚°ì—‘ìŠ¤ë”ìŠ¤ì¹´ì´_T Day í• ì¸, íˆ¬ì¸í”Œë ˆì´ìŠ¤_T day ì»¤í”¼íƒ€ì„, íŒŒíŒŒì¡´ìŠ¤í”¼ì_T Day ë¶€ìŠ¤íŠ¸ì—…, TGIF_0 day, SMARTì½˜_0 day, Smartì½˜_0 day, smartì½˜_0 day, CU_0 Day, ê°“ì‡_0 day, ë˜í‚¨_0 day, ì”½ì”½_0 day, ì»¬ë¦¬_0 day, ì¿¤ë‹¬_0 day, ê³ í”¼ì_0 Day, êµ¬ì¶•-T-Deal, ë…¸í‹°ë“œ_0 day, ë†ì‹¬ëª°_0 day, ë‹¤ì´ì†Œ_0 Day
                
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
REASON: í•µì‹¬ í˜œíƒì€ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›'ì´ë‚˜, í•´ë‹¹ ì—”í‹°í‹°ëŠ” vocabularyì— ì—†ìŒ.
ENTITY:
----------------------------------------------------------------------------------------------------
2025-12-19 09:40:13,090 - services.entity_recognizer - INFO - [skt/ax4] Extracted 0 entities: []
2025-12-19 09:40:13,159 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:13 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'617'), (b'Connection', b'keep-alive'), (b'x-request-id', b'5b6b721b-8743-452e-b6dc-78cb496f1614')])
2025-12-19 09:40:13,160 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:13,160 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:13,160 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:13,160 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:13,160 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:13,160 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:13 GMT', 'content-type': 'application/json', 'content-length': '617', 'connection': 'keep-alive', 'x-request-id': '5b6b721b-8743-452e-b6dc-78cb496f1614'})
2025-12-19 09:40:13,161 - openai._base_client - DEBUG - request_id: 5b6b721b-8743-452e-b6dc-78cb496f1614
2025-12-19 09:40:13,161 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.

***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***

Guidelines:
1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)
2. Exclude general concepts not tied to specific offerings
3. Consider message context and product categories (plans, services, devices, apps, events, coupons)
4. Multiple entities in 'entities in message' may combine into one composite entity
5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)

Return format: Do not use Markdown formatting. Use plain text.
REASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**
ENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match
                
                ## message:                
                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
                
                
## DAG Context (User Action Paths):
(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)

                
                ## entities in message:
                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸

                ## candidate entities in vocabulary:
                ì•„ì´í° Air, ì•„ì´í° ì‹ ì œí’ˆ, ì•„ì´í° ìµœì‹ í°, ì•„ì´í° í†µí™”ë…¹ìŒ, A. ì „í™”(ì•„ì´í°), Tì•„ì´í°í´ëŸ½, ì•„ì´í° 17 ì‹œë¦¬ì¦ˆ, ì˜¬ë¦¬ë¸Œì˜_ì˜¬ë¦¬ë¸Œì˜
                
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
REASON: í•µì‹¬ í˜œíƒì€ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›'ì´ë‚˜, ì–´íœ˜ì— ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ê°œì²´ê°€ ì—†ìŒ.
ENTITY:
----------------------------------------------------------------------------------------------------
2025-12-19 09:40:13,162 - services.entity_recognizer - INFO - [skt/ax4] Extracted 0 entities: []
2025-12-19 09:40:13,483 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:13 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'726'), (b'Connection', b'keep-alive'), (b'x-request-id', b'b4cfea28-c7e2-4b4a-a8e4-4845f21033f6')])
2025-12-19 09:40:13,484 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:13,485 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:13,485 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:13,485 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:13,486 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:13,486 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:13 GMT', 'content-type': 'application/json', 'content-length': '726', 'connection': 'keep-alive', 'x-request-id': 'b4cfea28-c7e2-4b4a-a8e4-4845f21033f6'})
2025-12-19 09:40:13,486 - openai._base_client - DEBUG - request_id: b4cfea28-c7e2-4b4a-a8e4-4845f21033f6
2025-12-19 09:40:13,488 - services.entity_recognizer - DEBUG - [skt/ax4] Sending prompt to LLM:
====================================================================================================

                Select product/service names from 'candidate entities in vocabulary' that are directly mentioned and promoted in the message.

***í•µì‹¬ ì§€ì¹¨ (Critical Constraint): ENTITYëŠ” 'candidate entities in vocabulary'ì— ìˆëŠ” ê°œì²´ëª…ë§Œ **ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´**ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë©”ì‹œì§€ë‚˜ RAG Contextì— ì–¸ê¸‰ëœ ê°œì²´ë¼ë„, 'candidate entities in vocabulary'ì— ì—†ëŠ” ë¬¸ìì—´ì€ ì ˆëŒ€ ë°˜í™˜í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ê°€ì¥ ê°€ê¹Œìš´ ê°œì²´ë¥¼ ë§¤í•‘í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.***

Guidelines:
1. **í•µì‹¬ í˜œíƒ/í”„ë¡œëª¨ì…˜/ì œê³µ ìƒí’ˆ**ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ê°œì²´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. (e.g., ì´ë²¤íŠ¸ ì°¸ì—¬ ìˆ˜ë‹¨ì´ë‚˜ í€´ì¦ˆ ì£¼ì œê°€ ì•„ë‹Œ, **ì‹¤ì œ íšë“ ê°€ëŠ¥í•œ í˜œíƒ/ë³´ìƒ**ì— í•´ë‹¹í•˜ëŠ” ê°œì²´)
2. Exclude general concepts not tied to specific offerings
3. Consider message context and product categories (plans, services, devices, apps, events, coupons)
4. Multiple entities in 'entities in message' may combine into one composite entity
5. Refer to the 'DAG Context' which describes the user action flow. ì´ë¥¼ **ì‚¬ìš©ìì˜ ìµœì¢… íšë“/ì‘ëª¨ ëŒ€ìƒì¸ í•µì‹¬ í˜œíƒ(Core Offering)**ì„ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. (e.g., í€´ì¦ˆ ì£¼ì œì¸ 'ì•„ì´í°'ì´ ì•„ë‹Œ, ìµœì¢… í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'ì™€ ê´€ë ¨ëœ ê°œì²´ë¥¼ ì‹ë³„)

Return format: Do not use Markdown formatting. Use plain text.
REASON: Brief explanation (max 100 chars Korean). **ë°˜ë“œì‹œ í•µì‹¬ í˜œíƒ(Core Offering)ì„ ì–¸ê¸‰í•˜ê³ , í•´ë‹¹ í˜œíƒê³¼ ì¼ì¹˜í•˜ëŠ” ì—”í‹°í‹°ë¥¼ Vocabularyì—ì„œ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.**
ENTITY: comma-separated list from 'candidate entities in vocabulary', or empty if none match
                
                ## message:                
                (ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504
                
                
## DAG Context (User Action Paths):
(Root:T Day) -[ì§„í–‰]-> (Core:ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ) -[ì°¸ì—¬]-> (Action:ì‘ëª¨) -[íšë“]-> (Value:ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›)

                
                ## entities in message:
                T Day, ì•„ì´í°, ì•„ì´í° ì¶œì‹œ, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸

                ## candidate entities in vocabulary:
                ë¦¬í¼í¬_0 day, ë² ì–´ìœ _0 day, ì†œì”¨ë‹¹_0 Day, ìŠ¤ë…¸ìš°_0 Day, ì•ˆë‹¤ë¥´_0 Day, ìš”ê¸°ìš”_0 day, ìš”ì•„ì •_0 day, ìº”ë””ë¯¸_0 day, ì»¨ë²„ìŠ¤_0 day, í†¤28_0 Day, íŒ€í™€íŠ¼_0 day, í”¼ìí—›_0 Day, í”¼ì»¤ìŠ¤_0 day, T bag, ì•„ì´í°, ì•„ì´í° 16, ì•„ì´í° 17, ì•„ì´í° ì—ì–´, ì•„ì´í° 16E, ì•„ì´í° AIR
                
====================================================================================================
[skt/ax4] Received response from LLM:
----------------------------------------------------------------------------------------------------
REASON: ìµœì¢… íšë“ í˜œíƒì¸ 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›'ì€ vocabularyì— ì—†ìŒ. 'ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ'ì˜ ì£¼ì œì¸ 'ì•„ì´í°'ì€ vocabularyì— ìˆìœ¼ë‚˜, ì´ëŠ” í•µì‹¬ í˜œíƒì´ ì•„ë‹Œ í€´ì¦ˆ ì£¼ì œì„.
ENTITY:
----------------------------------------------------------------------------------------------------
2025-12-19 09:40:13,489 - services.entity_recognizer - INFO - [skt/ax4] Extracted 0 entities: []
2025-12-19 09:40:13,496 - utils.common_utils - INFO - extract_entities_with_llm ì‹¤í–‰ì™„ë£Œ: 5.15ì´ˆ
2025-12-19 09:40:13,496 - services.result_builder - INFO -    âœ… similarities_fuzzy ê²°ê³¼ í¬ê¸°: ë¹„ì–´ìˆìŒ
2025-12-19 09:40:13,496 - services.result_builder - WARNING -    âš ï¸ similarities_fuzzyê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤!
2025-12-19 09:40:13,496 - services.result_builder - INFO - ğŸ” [STEP 6] ìƒí’ˆ ì •ë³´ ë§¤í•‘ ì‹œì‘
2025-12-19 09:40:13,496 - services.result_builder - INFO -    - similarities_fuzzy.empty: True
2025-12-19 09:40:13,496 - services.result_builder - WARNING -    âš ï¸ similarities_fuzzyê°€ ë¹„ì–´ìˆìŒ â†’ LLM ê²°ê³¼ ê·¸ëŒ€ë¡œ ì‚¬ìš© (else ë¸Œëœì¹˜)
2025-12-19 09:40:13,497 - services.result_builder - INFO -    - product_items ê°œìˆ˜: 2ê°œ
2025-12-19 09:40:13,497 - services.result_builder - INFO -    - stop_item_names ê°œìˆ˜: 204ê°œ
2025-12-19 09:40:13,497 - services.result_builder - INFO -    - í•„í„°ë§ í›„ product_items ê°œìˆ˜: 2ê°œ
2025-12-19 09:40:13,497 - services.result_builder - INFO -    - í•„í„°ë§ í›„ product_items: [{'name': 'ì•„ì´í°', 'action': 'ì°¸ì—¬'}, {'name': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'action': 'ì°¸ì—¬'}]
2025-12-19 09:40:13,497 - services.result_builder - INFO -    âœ… ìµœì¢… product ê°œìˆ˜: 2ê°œ
2025-12-19 09:40:13,497 - services.result_builder - INFO -    âœ… ìµœì¢… product ë‚´ìš©: [{'item_nm': 'ì•„ì´í°', 'item_id': ['#'], 'item_name_in_msg': ['ì•„ì´í°'], 'expected_action': ['ì°¸ì—¬']}, {'item_nm': 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ', 'item_id': ['#'], 'item_name_in_msg': ['ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ'], 'expected_action': ['ì°¸ì—¬']}]
2025-12-19 09:40:13,497 - services.result_builder - INFO - ğŸ·ï¸  [STEP 7] offer_object ì´ˆê¸°í™”: type=product, value ê°œìˆ˜=2ê°œ
2025-12-19 09:40:13,500 - services.result_builder - INFO - ğŸ” [STEP 8] ì±„ë„ ì •ë³´ ì²˜ë¦¬ ë° offer_object ì—…ë°ì´íŠ¸
2025-12-19 09:40:13,500 - services.result_builder - INFO -    âœ… ìµœì¢… channel ê°œìˆ˜: 3ê°œ
2025-12-19 09:40:13,500 - services.result_builder - INFO -    âœ… ìµœì¢… offer_object type: product
2025-12-19 09:40:13,500 - services.result_builder - INFO -    âœ… ìµœì¢… offer_object value ê°œìˆ˜: 2ê°œ
2025-12-19 09:40:13,500 - services.result_builder - INFO - âœ… [STEP 9] final_resultì— offer í•„ë“œ ì¶”ê°€ ì™„ë£Œ
2025-12-19 09:40:13,500 - services.result_builder - INFO - ================================================================================
2025-12-19 09:40:13,500 - services.result_builder - INFO - âœ… [PRODUCT DEBUG] build_extraction_result ì™„ë£Œ
2025-12-19 09:40:13,500 - services.result_builder - INFO -    ìµœì¢… final_result['product'] ê°œìˆ˜: 2ê°œ
2025-12-19 09:40:13,500 - services.result_builder - INFO - ================================================================================
2025-12-19 09:40:13,501 - core.workflow_core - INFO - âœ… ResultConstructionStep ì™„ë£Œ (5.15ì´ˆ)
2025-12-19 09:40:13,501 - core.workflow_core - INFO - 
============================== 8/9: ValidationStep ==============================
2025-12-19 09:40:13,501 - core.mms_workflow_steps - INFO - === ìµœì¢… ê²°ê³¼ ìš”ì•½ ===
2025-12-19 09:40:13,501 - core.mms_workflow_steps - INFO - ì œëª©: ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì°¸ì—¬, ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨
2025-12-19 09:40:13,501 - core.mms_workflow_steps - INFO - ëª©ì : ['ì´ë²¤íŠ¸ ì‘ëª¨ ìœ ë„', 'í˜œíƒ ì•ˆë‚´', 'ì›¹/ì•± ì ‘ì† ìœ ë„']
2025-12-19 09:40:13,501 - core.mms_workflow_steps - INFO - íŒë§¤ ìŠ¤í¬ë¦½íŠ¸: ì•„ì´í° ì¶œì‹œ í€´ì¦ˆ ì°¸ì—¬ ì‹œ ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ê¸°íšŒ! ì§€ê¸ˆ ì•ˆë‚´ë“œë¦´ê¹Œìš”?
2025-12-19 09:40:13,501 - core.mms_workflow_steps - INFO - ìƒí’ˆ ìˆ˜: 2ê°œ
2025-12-19 09:40:13,501 - core.mms_workflow_steps - INFO - ì±„ë„ ìˆ˜: 3ê°œ
2025-12-19 09:40:13,501 - core.mms_workflow_steps - INFO - í”„ë¡œê·¸ë¨ ìˆ˜: 2ê°œ
2025-12-19 09:40:13,501 - core.mms_workflow_steps - INFO - ì˜¤í¼ íƒ€ì…: product
2025-12-19 09:40:13,501 - core.mms_workflow_steps - INFO - ì˜¤í¼ í•­ëª© ìˆ˜: 2ê°œ
2025-12-19 09:40:13,501 - core.workflow_core - INFO - âœ… ValidationStep ì™„ë£Œ (0.00ì´ˆ)
2025-12-19 09:40:13,501 - core.workflow_core - INFO - 
============================== 9/9: DAGExtractionStep ==============================
2025-12-19 09:40:13,501 - core.mms_workflow_steps - INFO - ğŸ”— DAG ì¶”ì¶œ ì‹œì‘...
2025-12-19 09:40:13,501 - core.entity_dag_extractor - INFO - ğŸš€ DAG ì¶”ì¶œ í”„ë¡œì„¸ìŠ¤ ì‹œì‘
2025-12-19 09:40:13,502 - core.entity_dag_extractor - INFO - ğŸ“ ì…ë ¥ ë©”ì‹œì§€ ê¸¸ì´: 199ì
2025-12-19 09:40:13,502 - core.entity_dag_extractor - INFO - ğŸ¤– ì‚¬ìš© LLM ëª¨ë¸: client=<openai.resources.chat.completions.completions.Completions object at 0x1643efcb0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x160ffa8a0> root_client=<openai.OpenAI object at 0x1643efd40> root_async_client=<openai.AsyncOpenAI object at 0x1643efc50> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-12-19 09:40:13,502 - core.entity_dag_extractor - INFO - âš™ï¸  í”„ë¡¬í”„íŠ¸ ëª¨ë“œ: cot
2025-12-19 09:40:13,502 - core.entity_dag_extractor - INFO - ğŸ¤– LLMì— DAG ì¶”ì¶œ ìš”ì²­ ì¤‘...
2025-12-19 09:40:13,502 - core.entity_dag_extractor - INFO - ğŸ“ í”„ë¡¬í”„íŠ¸ ê¸¸ì´: 3418ì
2025-12-19 09:40:13,503 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-443a9bc2-d086-4a79-a3b2-a6167b74a3be', 'json_data': {'messages': [{'content': '\n## ì‘ì—… ëª©í‘œ\ní†µì‹ ì‚¬ ê´‘ê³  ë©”ì‹œì§€ì—ì„œ **í•µì‹¬ í–‰ë™ íë¦„**ì„ ì¶”ì¶œí•˜ì—¬ ê°„ê²°í•œ DAG(Directed Acyclic Graph) í˜•ì‹ìœ¼ë¡œ í‘œí˜„\n\n## í•µì‹¬ ì›ì¹™\n1. **ìµœì†Œ ê²½ë¡œ ì›ì¹™**: ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ëŠ” ê°€ì¥ ì§§ì€ ê²½ë¡œë§Œ í‘œí˜„\n2. **í•µì‹¬ íë¦„ ìš°ì„ **: ë¶€ê°€ì  ì„¤ëª…ë³´ë‹¤ ì£¼ìš” í–‰ë™ ì—°ì‡„ì— ì§‘ì¤‘\n3. **ì¤‘ë³µ ì œê±°**: ì˜ë¯¸ê°€ ê²¹ì¹˜ëŠ” ë…¸ë“œëŠ” í•˜ë‚˜ë¡œ í†µí•©\n\n## ì¶œë ¥ í˜•ì‹\n```\n(ê°œì²´ëª…:ê¸°ëŒ€í–‰ë™) -[ê´€ê³„ë™ì‚¬]-> (ê°œì²´ëª…:ê¸°ëŒ€í–‰ë™)\në˜ëŠ”\n(ê°œì²´ëª…:ê¸°ëŒ€í–‰ë™)\n```\n\n## ê°œì²´ëª… ì¹´í…Œê³ ë¦¬\n### í•„ìˆ˜ ì¶”ì¶œ ëŒ€ìƒ\n- **ì œí’ˆ/ì„œë¹„ìŠ¤**: êµ¬ì²´ì  ì œí’ˆëª…, ì„œë¹„ìŠ¤ëª…, ìš”ê¸ˆì œëª…\n- **í•µì‹¬ í˜œíƒ**: ê¸ˆì „ì  í˜œíƒ, ì‚¬ì€í’ˆ, í• ì¸\n- **í–‰ë™ ì¥ì†Œ**: ì˜¨/ì˜¤í”„ë¼ì¸ ì±„ë„ (í•„ìš” ì‹œë§Œ)\n\n### ì¶”ì¶œ ì œì™¸ ëŒ€ìƒ\n- ê´‘ê³  ëŒ€ìƒì (ì˜ˆ: "ì•„ì´í° ê³ ê°ë‹˜")\n- ì¼ì •/ê¸°ê°„ ì •ë³´\n- ë¶€ê°€ ì„¤ëª… ê¸°ëŠ¥ (í•µì‹¬ íë¦„ê³¼ ë¬´ê´€í•œ ê²½ìš°)\n- ë²•ì  ê³ ì§€ì‚¬í•­\n\n## ê¸°ëŒ€ í–‰ë™ (10ê°œ í‘œì¤€ ë™ì‚¬)\n`êµ¬ë§¤, ê°€ì…, ì‚¬ìš©, ë°©ë¬¸, ì°¸ì—¬, ë“±ë¡, ë‹¤ìš´ë¡œë“œ, í™•ì¸, ìˆ˜ë ¹, ì ë¦½`\n\n## ê´€ê³„ ë™ì‚¬ ìš°ì„ ìˆœìœ„\n### 1ìˆœìœ„: ì¡°ê±´ë¶€ ê´€ê³„\n- `ê°€ì…í•˜ë©´`, `êµ¬ë§¤í•˜ë©´`, `ì‚¬ìš©í•˜ë©´`, `ì‹ ì²­í•˜ë©´`, `ì°¸ì—¬í•˜ë©´` ,`ë‹¤ìš´ë¡œë“œí•˜ë©´`, `ì „í™”í•˜ë©´`, \'í™•ì¸í•˜ë©´\', \'ìˆ˜ë ¹í•˜ë©´\'\n- `ê°€ì…í›„`, `êµ¬ë§¤í›„`, `ì‚¬ìš©í›„`, `ì‹ ì²­í›„`, `ì°¸ì—¬í›„` ,`ë‹¤ìš´ë¡œë“œí›„`, `ì „í™”í›„`, `í™•ì¸í›„`, \'ìˆ˜ë ¹í›„\'\n\n### 2ìˆœìœ„: ê²°ê³¼ ê´€ê³„\n- `ë°›ë‹¤`, `ìˆ˜ë ¹í•˜ë‹¤`, `ì ë¦½í•˜ë‹¤`, `ì¶©ì „í•˜ë‹¤`, `ì ë¦½í•˜ë‹¤`, `ì´ìš©í•˜ë‹¤`, `ì‚¬ìš©í•˜ë‹¤`, `ì‹ ì²­í•˜ë‹¤`, `ë“±ë¡í•˜ë‹¤`, `ë‹¤ìš´ë¡œë“œí•˜ë‹¤`, `í™•ì¸í•˜ë‹¤`, `ìˆ˜ë ¹í•˜ë‹¤`\n\n### 3ìˆœìœ„: ê²½ë¡œ ê´€ê³„ (í•„ìš” ì‹œë§Œ)\n- `í†µí•´`, `ì´ìš©í•˜ì—¬`, `ì‚¬ìš©í•˜ì—¬`, `ì „í™”í•˜ì—¬`, `ë°©ë¬¸í•˜ì—¬`, `ì°¸ì—¬í•˜ì—¬`, `ë“±ë¡í•˜ì—¬`, `ë‹¤ìš´ë¡œë“œí•˜ì—¬`, `í™•ì¸í•˜ì—¬`, `ìˆ˜ë ¹í•˜ì—¬`\n\n## DAG êµ¬ì„± ì „ëµ\n### Step 1: ëª¨ë“  ê°€ì¹˜ ì œì•ˆ ì‹ë³„\nê´‘ê³ ì—ì„œ ì œì‹œí•˜ëŠ” **ëª¨ë“  ë…ë¦½ì  ê°€ì¹˜**ë¥¼ íŒŒì•…\n- **ì¦‰ê°ì  í˜œíƒ**: ê¸ˆì „ì  ë³´ìƒ, ì‚¬ì€í’ˆ ë“±\n- **ì„œë¹„ìŠ¤ ê°€ì¹˜**: ì œí’ˆ/ì„œë¹„ìŠ¤ ìì²´ì˜ ê¸°ëŠ¥ê³¼ í˜œíƒ\nì˜ˆ: "ë„¤ì´ë²„í˜ì´ 5000ì›" + "AI í†µí™” ê¸°ëŠ¥ ë¬´ë£Œ ì´ìš©"\n\n### Step 2: ë…ë¦½ ê²½ë¡œ êµ¬ì„±\nê° ê°€ì¹˜ ì œì•ˆë³„ë¡œ ë³„ë„ ê²½ë¡œ ìƒì„±:\n1. **í˜œíƒ íšë“ ê²½ë¡œ**: ê°€ì… â†’ ì‚¬ìš© â†’ ë³´ìƒ\n2. **ì„œë¹„ìŠ¤ ì²´í—˜ ê²½ë¡œ**: ê°€ì… â†’ ê²½í—˜ â†’ ê¸°ëŠ¥ í™œìš©\n\n### Step 3: ì„¸ë¶€ ê¸°ëŠ¥ í‘œí˜„\nì£¼ìš” ê¸°ëŠ¥ë“¤ì´ ëª…ì‹œëœ ê²½ìš° ë¶„ê¸° êµ¬ì¡°ë¡œ í‘œí˜„:\n- í†µí•© ê°€ëŠ¥í•œ ê¸°ëŠ¥ì€ í•˜ë‚˜ë¡œ (ì˜ˆ: AIí†µí™”ë…¹ìŒ/ìš”ì•½ â†’ "AIí†µí™”ê¸°ëŠ¥")\n- ë…ë¦½ì  ê¸°ëŠ¥ì€ ë³„ë„ë¡œ (ì˜ˆ: AIìŠ¤íŒ¸í•„í„°ë§)\n\n## ë¶„ì„ í”„ë¡œì„¸ìŠ¤ (í•„ìˆ˜ ë‹¨ê³„)\n### Step 1: ë©”ì‹œì§€ ì´í•´\n- ì „ì²´ ë©”ì‹œì§€ë¥¼ í•œ ë¬¸ë‹¨ìœ¼ë¡œ ìš”ì•½\n- ê´‘ê³ ì£¼ì˜ ì˜ë„ íŒŒì•…\n- **ì•”ì‹œëœ í–‰ë™ ì‹ë³„**: ëª…ì‹œë˜ì§€ ì•Šì•˜ì§€ë§Œ í•„ìˆ˜ì ì¸ í–‰ë™ (ì˜ˆ: ë§¤ì¥ ë°©ë¬¸)\n\n### Step 2: ê°€ì¹˜ ì œì•ˆ ì‹ë³„\n- ì¦‰ê°ì  í˜œíƒ (ê¸ˆì „, ì‚¬ì€í’ˆ ë“±)\n- ì„œë¹„ìŠ¤ ê°€ì¹˜ (ê¸°ëŠ¥, í¸ì˜ì„± ë“±)\n- ë¶€ê°€ í˜œíƒ (ìˆë‹¤ë©´)\n\n### Step 3: Root Node ê²°ì •\n- **ì‚¬ìš©ìì˜ ì²« ë²ˆì§¸ í–‰ë™ì€ ë¬´ì—‡ì¸ê°€?**\n- ë§¤ì¥ ì£¼ì†Œ/ì—°ë½ì²˜ê°€ ìˆë‹¤ë©´ â†’ ë°©ë¬¸ì´ ì‹œì‘ì \n- ì˜¨ë¼ì¸ ë§í¬ê°€ ìˆë‹¤ë©´ â†’ ì ‘ì†ì´ ì‹œì‘ì \n- ì•± ê´€ë ¨ ë‚´ìš©ì´ë¼ë©´ â†’ ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ì \n\n### Step 4: ê´€ê³„ ë¶„ì„\n- Root Nodeë¶€í„° ì‹œì‘í•˜ëŠ” ì „ì²´ íë¦„\n- ê° í–‰ë™ ê°„ ì¸ê³¼ê´€ê³„ ê²€ì¦\n- ì¡°ê±´ë¶€ ê´€ê³„ ëª…í™•í™”\n- ì‹œê°„ì  ìˆœì„œ í™•ì¸\n\n### Step 5: DAG êµ¬ì„±\n- ìœ„ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ë…¸ë“œì™€ ì—£ì§€ ê²°ì •\n- ì¤‘ë³µ ì œê±° ë° í†µí•©\n\n### Step 6: ìê¸° ê²€ì¦ ë° ìˆ˜ì •\n- **í‰ê°€**: ì´ˆê¸° DAGë¥¼ ì•„ë˜ ê¸°ì¤€ì— ë”°ë¼ ê²€í† \n  - Root Nodeê°€ ëª…í™•íˆ ì‹ë³„ë˜ì—ˆëŠ”ê°€? (ë°©ë¬¸/ì ‘ì†/ë‹¤ìš´ë¡œë“œ ë“±)\n  - ëª¨ë“  ë…ë¦½ì  ê°€ì¹˜ ì œì•ˆì´ í¬í•¨ë˜ì—ˆëŠ”ê°€? (ì¦‰ê°ì  í˜œíƒê³¼ ì„œë¹„ìŠ¤ ê°€ì¹˜)\n  - ì£¼ìš” ê¸°ëŠ¥ë“¤ì´ ì ì ˆíˆ ê·¸ë£¹í™”ë˜ì—ˆëŠ”ê°€? (ì¤‘ë³µ ì œê±° ì—¬ë¶€)\n  - ê° ê²½ë¡œê°€ ëª…í™•í•œ ê°€ì¹˜ë¥¼ ì „ë‹¬í•˜ëŠ”ê°€?\n  - ì „ì²´ êµ¬ì¡°ê°€ ê°„ê²°í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ê°€?\n  - ê´€ê³„ ë™ì‚¬ê°€ ìš°ì„ ìˆœìœ„ì— ë§ê²Œ ì‚¬ìš©ë˜ì—ˆëŠ”ê°€? (ì¡°ê±´ë¶€ > ê²°ê³¼ > ê²½ë¡œ)\n- **ë¬¸ì œ ì‹ë³„**: ìœ„ ê¸°ì¤€ ì¤‘ ì¶©ì¡±ë˜ì§€ ì•Šì€ í•­ëª©ì„ ëª…ì‹œí•˜ê³ , ê·¸ ì´ìœ ë¥¼ ì„¤ëª…\n- **ìˆ˜ì •**: ì‹ë³„ëœ ë¬¸ì œë¥¼ í•´ê²°í•œ ìˆ˜ì •ëœ DAGë¥¼ ìƒì„±\n\n### Step 7: ìµœì¢… ê²€ì¦\n- ìˆ˜ì •ëœ DAGê°€ ëª¨ë“  ê¸°ì¤€ì„ ì¶©ì¡±í•˜ëŠ”ì§€ ì¬í™•ì¸\n- ë§Œì•½ ë¬¸ì œê°€ ë‚¨ì•„ìˆë‹¤ë©´, ì¶”ê°€ ìˆ˜ì • ìˆ˜í–‰ (ìµœëŒ€ 2íšŒ ë°˜ë³µ)\n- ìµœì¢…ì ìœ¼ë¡œ ëª¨ë“  ê¸°ì¤€ì´ ì¶©ì¡±ë˜ì—ˆìŒì„ í™•ì¸\n\n## ì¶œë ¥ í˜•ì‹ (ë°˜ë“œì‹œ ëª¨ë“  ì„¹ì…˜ í¬í•¨)\n### 1. ë©”ì‹œì§€ ë¶„ì„\n```\n[ë©”ì‹œì§€ ìš”ì•½ ë° í•µì‹¬ ì˜ë„]\n[ì‹ë³„ëœ ê°€ì¹˜ ì œì•ˆ ëª©ë¡]\n```\n\n### 2. ì´ˆê¸° DAG\n```\n[ì´ˆê¸° DAG êµ¬ì¡°]\n```\n\n### 3. ìê¸° ê²€ì¦ ê²°ê³¼\n```\n[í‰ê°€ ê¸°ì¤€ë³„ ê²€í†  ê²°ê³¼]\n[ì‹ë³„ëœ ë¬¸ì œì  ë° ì´ìœ ]\n```\n\n### 4. ìˆ˜ì •ëœ DAG\n```\n[ìˆ˜ì •ëœ DAG êµ¬ì¡°]\n```\n\n### 5. ìµœì¢… ê²€ì¦ ë° ì¶”ì¶œ ê·¼ê±°\n```\n[ìµœì¢… DAGê°€ ëª¨ë“  ê¸°ì¤€ì„ ì¶©ì¡±í•˜ëŠ” ì´ìœ ]\n[ë…¸ë“œ/ì—£ì§€ ì„ íƒì˜ ë…¼ë¦¬ì  ê·¼ê±°]\n```\n\n## ì‹¤í–‰ ì§€ì¹¨\n1. ìœ„ 7ë‹¨ê³„ ë¶„ì„ í”„ë¡œì„¸ìŠ¤ë¥¼ **ìˆœì„œëŒ€ë¡œ** ìˆ˜í–‰\n2. ê° ë‹¨ê³„ì—ì„œ ë°œê²¬í•œ ë‚´ìš©ì„ **ëª…ì‹œì ìœ¼ë¡œ** ê¸°ë¡\n3. DAG êµ¬ì„± ì „ **ì¶©ë¶„í•œ ë¶„ì„** ìˆ˜í–‰\n4. ì´ˆê¸° DAG ìƒì„± í›„ **ë°˜ë“œì‹œ ìê¸° ê²€ì¦ ë° ìˆ˜ì •** ìˆ˜í–‰\n5. ìµœì¢… ì¶œë ¥ì— **ëª¨ë“  ì„¹ì…˜** í¬í•¨\n6. **ì¤‘ìš”**: ë¶„ì„ ê³¼ì •ì„ ìƒëµí•˜ì§€ ë§ê³ , ì‚¬ê³  ê³¼ì •ê³¼ ìˆ˜ì • ì´ìœ ë¥¼ íˆ¬ëª…í•˜ê²Œ ë³´ì—¬ì£¼ì„¸ìš”\n\n## ì˜ˆì‹œ ë¶„ì„\n### ì˜ëª»ëœ ì˜ˆì‹œ (í•µì‹¬ íë¦„ë§Œ ì¶”ì¶œ)\n```\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í›„]-> (AIì „í™”ì„œë¹„ìŠ¤:ì‚¬ìš©)\n(AIì „í™”ì„œë¹„ìŠ¤:ì‚¬ìš©) -[ì‚¬ìš©í•˜ë©´]-> (ë„¤ì´ë²„í˜ì´5000ì›:ìˆ˜ë ¹)\n```\nâ†’ ë¬¸ì œ: ì„œë¹„ìŠ¤ ìì²´ì˜ ê°€ì¹˜(AI ê¸°ëŠ¥ë“¤)ê°€ ëˆ„ë½ë¨\n\n### ì˜¬ë°”ë¥¸ ì˜ˆì‹œ (ì™„ì „í•œ ê°€ì¹˜ í‘œí˜„ - Root Node í¬í•¨)\n```\n# ë§¤ì¥ ë°©ë¬¸ë¶€í„° ì‹œì‘í•˜ëŠ” ê²½ë¡œ\n(ëŒ€ë¦¬ì :ë°©ë¬¸) -[ë°©ë¬¸í•˜ë©´]-> (ì—ì´ë‹·:ê°€ì…)\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í•˜ë©´]-> (ë„¤ì´ë²„í˜ì´5000ì›:ìˆ˜ë ¹)\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í•˜ë©´]-> (AIí†µí™”ê¸°ëŠ¥:ì‚¬ìš©)\n(AIí†µí™”ê¸°ëŠ¥:ì‚¬ìš©) -[ì‚¬ìš©í•˜ë©´]-> (í†µí™”í’ˆì§ˆ:í–¥ìƒ)\n(ì—ì´ë‹·:ê°€ì…) -[ê°€ì…í•˜ë©´]-> (AIìŠ¤íŒ¸í•„í„°:ì‚¬ìš©)\n(AIìŠ¤íŒ¸í•„í„°:ì‚¬ìš©) -[ì‚¬ìš©í•˜ë©´]-> (ìŠ¤íŒ¸ì°¨ë‹¨:íš¨ê³¼)\n```\nâ†’ ì¦‰ê°ì  í˜œíƒ(5000ì›)ê³¼ ì„œë¹„ìŠ¤ ê°€ì¹˜(AI ê¸°ëŠ¥)ë¥¼ ëª¨ë‘ í¬í•¨\n\n### ë¶„ì„ ëŒ€ìƒ ë©”ì‹œì§€\n(ê´‘ê³ )[SKT] 9ì›” T day í˜œíƒ ì•ˆë‚´__2025ë…„ 9ì›” 17ì¼(ìˆ˜)_ëŸ­í‚¤ì°¬ìŠ¤!_ì•„ì´í° ì¶œì‹œ ê¸°ë… í€´ì¦ˆ_ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ì´ë²¤íŠ¸__â–¶ ìì„¸íˆ ë³´ê¸°: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__â–  ë¬¸ì˜: SKT ê³ ê°ì„¼í„°(1558, ë¬´ë£Œ)__ë¬´ë£Œ ìˆ˜ì‹ ê±°ë¶€ 1504\n\nìœ„ ë©”ì‹œì§€ë¥¼ ë¶„ì„í•˜ì—¬ 7ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤ì— ë”°ë¼ DAGë¥¼ ì¶”ì¶œí•´ì£¼ì„¸ìš”.\n', 'role': 'user'}], 'model': 'skt/ax4', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-12-19 09:40:13,504 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions
2025-12-19 09:40:13,505 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-12-19 09:40:13,505 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-12-19 09:40:13,505 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-12-19 09:40:13,505 - httpcore.http11 - DEBUG - send_request_body.complete
2025-12-19 09:40:13,506 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-12-19 09:40:29,159 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 19 Dec 2025 00:40:29 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'4696'), (b'Connection', b'keep-alive'), (b'x-request-id', b'9e767bf4-4d2c-4db8-9071-623c28dbfc50')])
2025-12-19 09:40:29,160 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-19 09:40:29,160 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-12-19 09:40:29,161 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-12-19 09:40:29,161 - httpcore.http11 - DEBUG - response_closed.started
2025-12-19 09:40:29,161 - httpcore.http11 - DEBUG - response_closed.complete
2025-12-19 09:40:29,161 - httpcore.connection - DEBUG - close.started
2025-12-19 09:40:29,162 - httpcore.connection - DEBUG - close.complete
2025-12-19 09:40:29,162 - httpcore.connection - DEBUG - close.started
2025-12-19 09:40:29,163 - httpcore.connection - DEBUG - close.complete
2025-12-19 09:40:29,163 - openai._base_client - DEBUG - HTTP Response: POST https://api.platform.a15t.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 19 Dec 2025 00:40:29 GMT', 'content-type': 'application/json', 'content-length': '4696', 'connection': 'keep-alive', 'x-request-id': '9e767bf4-4d2c-4db8-9071-623c28dbfc50'})
2025-12-19 09:40:29,163 - openai._base_client - DEBUG - request_id: 9e767bf4-4d2c-4db8-9071-623c28dbfc50
2025-12-19 09:40:29,164 - core.entity_dag_extractor - INFO - ğŸ“ LLM ì‘ë‹µ ê¸¸ì´: 1881ì
2025-12-19 09:40:29,165 - core.entity_dag_extractor - INFO - ğŸ“„ LLM ì‘ë‹µ ë¯¸ë¦¬ë³´ê¸° (ì²˜ìŒ 500ì): ## 1. ë©”ì‹œì§€ ë¶„ì„

```
[ë©”ì‹œì§€ ìš”ì•½ ë° í•µì‹¬ ì˜ë„]
SKTì—ì„œ 9ì›” T dayë¥¼ ë§ì•„ ì•„ì´í° ì¶œì‹œë¥¼ ê¸°ë…í•˜ì—¬ í€´ì¦ˆ ì´ë²¤íŠ¸ë¥¼ ì§„í–‰í•˜ê³ , ì°¸ì—¬ìì—ê²Œ ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ê¸°íšŒë¥¼ ì œê³µí•˜ëŠ” ì´ë²¤íŠ¸ ê´‘ê³ ì…ë‹ˆë‹¤. ê´‘ê³ ì£¼ëŠ” ê³ ê°ì´ ì´ë²¤íŠ¸ì— ì°¸ì—¬í•˜ì—¬ ê¸°í”„íŠ¸ ì¹´ë“œ ì‘ëª¨ ê¸°íšŒë¥¼ ì–»ë„ë¡ ìœ ë„í•˜ê³ ì í•©ë‹ˆë‹¤.

[ì‹ë³„ëœ ê°€ì¹˜ ì œì•ˆ ëª©ë¡]
- (ì¦‰ê°ì  í˜œíƒ) ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì› ì‘ëª¨ ê¸°íšŒ
- (ì„œë¹„ìŠ¤ ê°€ì¹˜) í€´ì¦ˆ ì´ë²¤íŠ¸ ì°¸ì—¬ ë° ì‘ëª¨ ê¸°íšŒ íšë“
```

## 2. ì´ˆê¸° DAG

```
(T day í€´ì¦ˆ:ì°¸ì—¬) -[ì°¸ì—¬í•˜ë©´]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨)
```

## 3. ìê¸° ê²€ì¦ ê²°ê³¼

```
[í‰ê°€ ê¸°ì¤€ë³„ ê²€í†  ê²°ê³¼]
- Root Nodeê°€ ëª…í™•íˆ ì‹ë³„ë˜ì—ˆëŠ”ê°€? (ë°©ë¬¸/ì ‘ì†/ë‹¤ìš´ë¡œë“œ ë“±)
  â†’ ì•„ë‹ˆì˜¤. Root Nodeê°€ ëª…ì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
- ëª¨ë“  ë…ë¦½ì  ê°€ì¹˜ ì œì•ˆì´ í¬í•¨ë˜ì—ˆëŠ”ê°€? (ì¦‰ê°ì  í˜œíƒê³¼ ì„œë¹„ìŠ¤ ê°€ì¹˜)
  â†’ ì˜ˆ. í€´ì¦ˆ ì°¸ì—¬(ì„œë¹„ìŠ¤ ê°€ì¹˜)ì™€...
2025-12-19 09:40:29,165 - core.entity_dag_extractor - INFO - ğŸ” DAG ì„¹ì…˜ ì¶”ì¶œ ì¤‘...
2025-12-19 09:40:29,166 - core.entity_dag_extractor - INFO - ğŸ“„ ì¶”ì¶œëœ DAG ì„¹ì…˜ ê¸¸ì´: 79ì
2025-12-19 09:40:29,167 - core.entity_dag_extractor - INFO - ğŸ“„ DAG ì„¹ì…˜ ë‚´ìš©:
(ì›¹ì‚¬ì´íŠ¸:ì ‘ì†) -[ì ‘ì†í•˜ë©´]-> (T day í€´ì¦ˆ:ì°¸ì—¬)
(T day í€´ì¦ˆ:ì°¸ì—¬) -[ì°¸ì—¬í•˜ë©´]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨)
2025-12-19 09:40:29,167 - core.entity_dag_extractor - INFO - ğŸ”— DAG íŒŒì‹± ì¤‘...
2025-12-19 09:40:29,167 - core.entity_dag_extractor - INFO - ğŸ“Š íŒŒì‹±ëœ DAG - ë…¸ë“œ ìˆ˜: 3, ì—£ì§€ ìˆ˜: 2
2025-12-19 09:40:29,168 - core.entity_dag_extractor - INFO - ğŸ¯ DAG ë…¸ë“œ ëª©ë¡: ['ì›¹ì‚¬ì´íŠ¸:ì ‘ì†', 'T day í€´ì¦ˆ:ì°¸ì—¬', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨']
2025-12-19 09:40:29,168 - core.entity_dag_extractor - INFO - ğŸ”— DAG ì—£ì§€ ëª©ë¡: [('ì›¹ì‚¬ì´íŠ¸:ì ‘ì†', 'T day í€´ì¦ˆ:ì°¸ì—¬'), ('T day í€´ì¦ˆ:ì°¸ì—¬', 'ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨')]
2025-12-19 09:40:29,168 - core.entity_dag_extractor - INFO - âœ… DAG ì¶”ì¶œ í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ
2025-12-19 09:40:29,168 - core.mms_workflow_steps - INFO - âœ… DAG ì¶”ì¶œ ì™„ë£Œ: 2ê°œ ì—£ì§€
2025-12-19 09:40:29,168 - utils.visualization_utils - INFO - ğŸ¨ DAG ë‹¤ì´ì–´ê·¸ë¨ ìƒì„± ì‹œì‘ - íŒŒì¼ëª…: dag_test_message_id_0b0442110e59a38a
2025-12-19 09:40:29,168 - utils.visualization_utils - INFO - ğŸ“Š ì…ë ¥ ê·¸ë˜í”„ - ë…¸ë“œ ìˆ˜: 3, ì—£ì§€ ìˆ˜: 2
2025-12-19 09:40:29,169 - utils.visualization_utils - INFO - âœ… Graphviz PATH ì¶”ê°€: /usr/local/bin
2025-12-19 09:40:29,171 - utils.visualization_utils - INFO - ğŸ–¼ï¸ DAG ì´ë¯¸ì§€ ë Œë”ë§ ì¤‘...
2025-12-19 09:40:29,171 - graphviz._tools - DEBUG - os.makedirs('dag_images')
2025-12-19 09:40:29,171 - graphviz.saving - DEBUG - write lines to 'dag_images/dag_test_message_id_0b0442110e59a38a'
2025-12-19 09:40:29,172 - graphviz.backend.execute - DEBUG - run [PosixPath('dot'), '-Kdot', '-Tpng', '-O', 'dag_test_message_id_0b0442110e59a38a']
2025-12-19 09:40:29,568 - graphviz.rendering - DEBUG - delete 'dag_images/dag_test_message_id_0b0442110e59a38a'
2025-12-19 09:40:29,569 - utils.visualization_utils - INFO - âœ… DAG ë‹¤ì´ì–´ê·¸ë¨ ìƒì„± ì™„ë£Œ: dag_images/dag_test_message_id_0b0442110e59a38a.png
2025-12-19 09:40:29,569 - core.mms_workflow_steps - INFO - ğŸ“Š DAG ë‹¤ì´ì–´ê·¸ë¨ ì €ì¥: dag_test_message_id_0b0442110e59a38a.png
2025-12-19 09:40:29,569 - core.workflow_core - INFO - âœ… DAGExtractionStep ì™„ë£Œ (16.07ì´ˆ)
2025-12-19 09:40:29,569 - core.workflow_core - INFO - 
============================================================
2025-12-19 09:40:29,569 - core.workflow_core - INFO - âœ… MMS Extraction Workflow ì™„ë£Œ (ì´ 37.75ì´ˆ)
2025-12-19 09:40:29,569 - core.workflow_core - INFO - ============================================================
2025-12-19 09:40:29,569 - core.workflow_core - INFO - 
ğŸ“Š ì‹¤í–‰ ìš”ì•½:
2025-12-19 09:40:29,570 - core.workflow_core - INFO -   âœ… InputValidationStep: 0.00ì´ˆ
2025-12-19 09:40:29,570 - core.workflow_core - INFO -   âœ… EntityExtractionStep: 9.71ì´ˆ
2025-12-19 09:40:29,570 - core.workflow_core - INFO -   âœ… ProgramClassificationStep: 0.17ì´ˆ
2025-12-19 09:40:29,570 - core.workflow_core - INFO -   âœ… ContextPreparationStep: 0.00ì´ˆ
2025-12-19 09:40:29,570 - core.workflow_core - INFO -   âœ… LLMExtractionStep: 6.65ì´ˆ
2025-12-19 09:40:29,570 - core.workflow_core - INFO -   âœ… ResponseParsingStep: 0.00ì´ˆ
2025-12-19 09:40:29,570 - core.workflow_core - INFO -   âœ… ResultConstructionStep: 5.15ì´ˆ
2025-12-19 09:40:29,570 - core.workflow_core - INFO -   âœ… ValidationStep: 0.00ì´ˆ
2025-12-19 09:40:29,570 - core.workflow_core - INFO -   âœ… DAGExtractionStep: 16.07ì´ˆ
2025-12-19 09:40:29,570 - utils.common_utils - INFO - process_message ì‹¤í–‰ì™„ë£Œ: 37.75ì´ˆ
2025-12-19 09:40:29,570 - core.mms_extractor - INFO - âœ… ì›Œí¬í”Œë¡œìš°ì—ì„œ ì´ë¯¸ ì¶”ì¶œëœ DAGê°€ ì¡´ì¬í•©ë‹ˆë‹¤. ì¤‘ë³µ ì¶”ì¶œì„ ê±´ë„ˆëœë‹ˆë‹¤.
2025-12-19 09:40:29,570 - core.mms_extractor - INFO - ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ì—ì„œ ë©”ì‹œì§€ ì²˜ë¦¬ ì™„ë£Œ
2025-12-19 09:40:29,570 - __main__ - INFO - MongoDB ì €ì¥ ì¤‘...
2025-12-19 09:40:29,701 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "69449efdebc07470690a95ea"}}
2025-12-19 09:40:29,701 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "69449efdebc07470690a95ea"}, "previousDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
2025-12-19 09:40:29,701 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,702 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,702 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "69449efdebc07470690a95ea"}}
2025-12-19 09:40:29,702 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "remainingTimeMS": 4999}
2025-12-19 09:40:29,703 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "69449efdebc07470690a95ea"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
2025-12-19 09:40:29,704 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "69449efdebc07470690a95ea"}, "driverConnectionId": 1, "serverConnectionId": 1038, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 1.2799170217476785, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"69375d1ee3a83c1c1c157ac7\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-12-19T00:40:29.704Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 1038, \"maxWireVersion\": 27, \"ok\": 1.0}"}
2025-12-19 09:40:29,704 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,705 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "69449efdebc07470690a95ea"}, "previousDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0012799170217476785>]>"}
2025-12-19 09:40:29,705 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0012799170217476785>]>", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,705 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "69449efdebc07470690a95ea"}, "driverConnectionId": 1, "serverConnectionId": 1038, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
2025-12-19 09:40:29,705 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,705 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-19 09:40:29,707 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005672500119544566}
2025-12-19 09:40:29,707 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.001884666969999671}
2025-12-19 09:40:29,707 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FKdqLSqaTkWeACd1z1jUzg==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 1144108930, "operationId": 1144108930, "driverConnectionId": 1, "serverConnectionId": 1040, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,708 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "durationMS": 0.5339999999999999, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 1144108930, "operationId": 1144108930, "driverConnectionId": 1, "serverConnectionId": 1040, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,708 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-19 09:40:29,708 - utils.mongodb_utils - INFO - MongoDB ì—°ê²° ì„±ê³µ: aos.mmsext
2025-12-19 09:40:29,708 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x16489dc60>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0012799170217476785>]>", "clientId": {"$oid": "69449efdebc07470690a95ea"}}
2025-12-19 09:40:29,708 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x16489dc60>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0012799170217476785>]>", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,708 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,708 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 7.329101208597422e-05}
2025-12-19 09:40:29,709 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "command": "{\"insert\": \"mmsext\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FKdqLSqaTkWeACd1z1jUzg==\", \"subType\": \"04\"}}}, \"$db\": \"aos\", \"documents\": [{\"message\": \"\n(\uad11\uace0)[SKT] 9\uc6d4 T day \ud61c\ud0dd \uc548\ub0b4__2025\ub144 9\uc6d4 17\uc77c(\uc218)_\ub7ed\ud0a4\ucc2c\uc2a4!_\uc544\uc774\ud3f0 \ucd9c\uc2dc \uae30\ub150 \ud034\uc988_\uc62c\ub9ac\ube0c\uc601 \uae30\ud504\ud2b8 \uce74\ub4dc 1\ub9cc \uc6d0 \uc751\ubaa8 \uc774\ubca4\ud2b8__\u25b6 \uc790\uc138\ud788 \ubcf4\uae30: https://t-mms.kr/t.do?m=#61&s=33670&a=&u=https://bit.ly/467rn3q__\u25a0 \ubb38\uc758: SKT \uace0\uac1d\uc13c\ud130(1558, \ubb34\ub8cc)__\ubb34\ub8cc \uc218\uc2e0\uac70\ubd80 1504\n\n\", \"main_prompt\": {\"title\": \"\uba54\uc778 \uc815\ubcf4 \ucd94\ucd9c \ud504\ub86c\ud504\ud2b8\", \"description\": \"\uad11\uace0 \uba54\uc2dc\uc9c0\uc5d0\uc11c \uc81c\ubaa9, \ubaa9\uc801, \uc0c1\ud488, \ucc44\ub110, \ud504\ub85c\uadf8\ub7a8 \uc815\ubcf4\ub97c \ucd94\ucd9c\ud558\ub294 \ud504\ub86c\ud504\ud2b8\", \"content\": \"\nExtr...", "commandName": "insert", "databaseName": "aos", "requestId": 470211272, "operationId": 470211272, "driverConnectionId": 1, "serverConnectionId": 1040, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,711 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "durationMS": 2.133, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "aos", "requestId": 470211272, "operationId": 470211272, "driverConnectionId": 1, "serverConnectionId": 1040, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,711 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-19 09:40:29,711 - utils.mongodb_utils - INFO - ë¬¸ì„œ ì €ì¥ ì„±ê³µ: 69449efdebc07470690a95eb
2025-12-19 09:40:29,711 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "PrimaryPreferred(tag_sets=None, max_staleness=-1, hedge=None)", "operation": "endSessions", "topologyDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0012799170217476785>]>", "clientId": {"$oid": "69449efdebc07470690a95ea"}}
2025-12-19 09:40:29,711 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "PrimaryPreferred(tag_sets=None, max_staleness=-1, hedge=None)", "operation": "endSessions", "topologyDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0012799170217476785>]>", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,711 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,711 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 6.345799192786217e-05}
2025-12-19 09:40:29,711 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "command": "{\"endSessions\": [{\"id\": {\"$binary\": {\"base64\": \"FKdqLSqaTkWeACd1z1jUzg==\", \"subType\": \"04\"}}}], \"$db\": \"admin\"}", "commandName": "endSessions", "databaseName": "admin", "requestId": 101027544, "operationId": 101027544, "driverConnectionId": 1, "serverConnectionId": 1040, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,712 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "durationMS": 0.5109999999999999, "reply": "{\"ok\": 1.0}", "commandName": "endSessions", "databaseName": "admin", "requestId": 101027544, "operationId": 101027544, "driverConnectionId": 1, "serverConnectionId": 1040, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,712 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
2025-12-19 09:40:29,712 - pymongo.topology - DEBUG - {"message": "Stopped server monitoring", "topologyId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,712 - pymongo.connection - DEBUG - {"message": "Connection closed", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "reason": "Connection pool was closed", "error": "poolClosed"}
2025-12-19 09:40:29,712 - pymongo.connection - DEBUG - {"message": "Connection pool closed", "clientId": {"$oid": "69449efdebc07470690a95ea"}, "serverHost": "localhost", "serverPort": 27017}
2025-12-19 09:40:29,712 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "69449efdebc07470690a95ea"}, "previousDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0012799170217476785>]>", "newDescription": "<TopologyDescription id: 69449efdebc07470690a95ea, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
2025-12-19 09:40:29,712 - pymongo.topology - DEBUG - {"message": "Stopped topology monitoring", "topologyId": {"$oid": "69449efdebc07470690a95ea"}}
2025-12-19 09:40:29,713 - utils.mongodb_utils - INFO - MongoDB ì—°ê²° í•´ì œ
2025-12-19 09:40:29,713 - __main__ - INFO - MongoDB ì €ì¥ ì™„ë£Œ!
2025-12-19 09:40:29,713 - __main__ - INFO - ì¶”ì¶œ ê³¼ì •ì—ì„œ ìº¡ì²˜ëœ í”„ë¡¬í”„íŠ¸: 2ê°œ
2025-12-19 09:40:29,713 - __main__ - INFO - âœ… DAG ì¶”ì¶œ ì„±ê³µ - ê¸¸ì´: 2ì
2025-12-19 09:40:29,713 - __main__ - INFO - DAG ë‚´ìš© ë¯¸ë¦¬ë³´ê¸°: ['(T day í€´ì¦ˆ:ì°¸ì—¬) -[ì°¸ì—¬í•˜ë©´]-> (ì˜¬ë¦¬ë¸Œì˜ ê¸°í”„íŠ¸ ì¹´ë“œ 1ë§Œ ì›:ì‘ëª¨)', '(ì›¹ì‚¬ì´íŠ¸:ì ‘ì†) -[ì ‘ì†í•˜ë©´]-> (T day í€´ì¦ˆ:ì°¸ì—¬)']...
2025-12-19 09:40:29,713 - __main__ - INFO - ì¶”ì¶œ ì™„ë£Œ: 37.896ì´ˆ
2025-12-19 09:40:29,715 - werkzeug - INFO - 127.0.0.1 - - [19/Dec/2025 09:40:29] "POST /extract HTTP/1.1" 200 -
