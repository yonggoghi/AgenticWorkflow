2025-08-13 17:14:00,974 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-13 17:14:00,975 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-13 17:14:00,975 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-13 17:14:00,975 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-13 17:14:00,997 - mms_extractor - INFO - Using device: mps
2025-08-13 17:14:00,997 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-13 17:14:01,245 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-13 17:14:01,246 - mms_extractor - INFO - _initialize_llm 실행완료: 0.25초
2025-08-13 17:14:01,246 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-13 17:14:01,246 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-13 17:14:01,246 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-13 17:14:02,338 - mms_extractor - INFO - Model loaded on mps
2025-08-13 17:14:02,338 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 1.09초
2025-08-13 17:14:02,752 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-13 17:14:02,752 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.41초
2025-08-13 17:14:02,752 - mms_extractor - INFO - 데이터 로딩 시작
2025-08-13 17:14:02,877 - mms_extractor - INFO - 상품 정보 로드 완료: 44275개 상품
2025-08-13 17:14:03,209 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-13 17:14:03,211 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-13 17:14:03,284 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개
2025-08-13 17:14:03,285 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-13 17:14:03,308 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-13 17:14:03,308 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-13 17:14:03,513 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-13 17:14:04,001 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-13 17:14:04,001 - mms_extractor - INFO - 데이터 로딩 완료
2025-08-13 17:14:04,001 - mms_extractor - INFO - _load_data 실행완료: 1.25초
2025-08-13 17:14:04,001 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-13 17:14:04,001 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-13 17:14:04,001 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8080, debug=False
2025-08-13 17:14:04,001 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-13 17:14:04,001 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8080에서 시작합니다
2025-08-13 17:14:04,001 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-13 17:14:04,001 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-13 17:14:04,001 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-13 17:14:04,001 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-13 17:14:04,001 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-13 17:14:04,001 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-13 17:14:04,012 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.23.113.180:8080
2025-08-13 17:14:04,012 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-13 17:14:29,968 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-13 17:14:29,968 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-13 17:14:30,538 - mms_extractor - INFO - Kiwi 추출 엔티티: ['베어유', '0 day', '뚜레쥬르', '에이닷이빵쏜닷', '데일리', '시크릿']
2025-08-13 17:14:45,494 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 15.53초
2025-08-13 17:14:53,873 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:14:53,882 - mms_extractor - INFO - LLM 추출 엔티티: ['0 day', '베어유 모든 강의', 'T 멤버십', '뚜레쥬르 데일리우유식빵']
2025-08-13 17:14:54,139 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 17:14:54,140 - mms_extractor - INFO - process_message 실행완료: 24.17초
2025-08-13 17:14:54,140 - __main__ - INFO - 추출 완료: 24.172초
2025-08-13 17:14:54,141 - werkzeug - INFO - 127.0.0.1 - - [13/Aug/2025 17:14:54] "POST /extract HTTP/1.1" 200 -
2025-08-13 17:15:31,388 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-13 17:15:31,388 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-13 17:15:31,392 - mms_extractor - INFO - Kiwi 추출 엔티티: ['베어유', '0 day', '뚜레쥬르', '에이닷이빵쏜닷', '데일리', '시크릿']
2025-08-13 17:15:32,852 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.46초
2025-08-13 17:15:45,127 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:15:45,130 - mms_extractor - INFO - LLM 추출 엔티티: []
2025-08-13 17:15:45,131 - mms_extractor - WARNING - 필수 필드 누락: title
2025-08-13 17:15:45,131 - mms_extractor - WARNING - 필수 필드 누락: purpose
2025-08-13 17:15:45,131 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 17:15:45,131 - mms_extractor - INFO - process_message 실행완료: 13.74초
2025-08-13 17:15:45,132 - __main__ - INFO - 추출 완료: 13.744초
2025-08-13 17:15:45,132 - werkzeug - INFO - 127.0.0.1 - - [13/Aug/2025 17:15:45] "POST /extract HTTP/1.1" 200 -
2025-08-13 17:16:29,947 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-13 17:16:29,947 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-13 17:16:29,951 - mms_extractor - INFO - Kiwi 추출 엔티티: ['베어유', '0 day', '뚜레쥬르', '에이닷이빵쏜닷', '데일리', '시크릿']
2025-08-13 17:16:31,386 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.44초
2025-08-13 17:16:38,537 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:16:38,538 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-13 17:16:38,703 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 17:16:38,703 - mms_extractor - INFO - process_message 실행완료: 8.76초
2025-08-13 17:16:38,703 - __main__ - INFO - 추출 완료: 8.756초
2025-08-13 17:16:38,704 - werkzeug - INFO - 127.0.0.1 - - [13/Aug/2025 17:16:38] "POST /extract HTTP/1.1" 200 -
2025-08-13 17:21:53,024 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-13 17:21:53,025 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-13 17:21:53,025 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-13 17:21:53,025 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-13 17:21:53,048 - mms_extractor - INFO - Using device: mps
2025-08-13 17:21:53,048 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-13 17:21:53,266 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-13 17:21:53,266 - mms_extractor - INFO - _initialize_llm 실행완료: 0.22초
2025-08-13 17:21:53,266 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-13 17:21:53,266 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-13 17:21:53,266 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-13 17:21:54,086 - mms_extractor - INFO - Model loaded on mps
2025-08-13 17:21:54,087 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 0.82초
2025-08-13 17:21:54,485 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-13 17:21:54,485 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.40초
2025-08-13 17:21:54,485 - mms_extractor - INFO - 데이터 로딩 시작
2025-08-13 17:21:54,604 - mms_extractor - INFO - 상품 정보 로드 완료: 44275개 상품
2025-08-13 17:21:54,900 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-13 17:21:54,901 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-13 17:21:54,962 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개
2025-08-13 17:21:54,962 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-13 17:21:54,963 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-13 17:21:54,963 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-13 17:21:55,108 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-13 17:21:55,579 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-13 17:21:55,579 - mms_extractor - INFO - 데이터 로딩 완료
2025-08-13 17:21:55,579 - mms_extractor - INFO - _load_data 실행완료: 1.09초
2025-08-13 17:21:55,579 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-13 17:21:55,579 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-13 17:21:55,579 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8080, debug=False
2025-08-13 17:21:55,579 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-13 17:21:55,579 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8080에서 시작합니다
2025-08-13 17:21:55,579 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-13 17:21:55,579 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-13 17:21:55,579 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-13 17:21:55,579 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-13 17:21:55,579 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-13 17:21:55,579 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-13 17:21:55,604 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.23.113.180:8080
2025-08-13 17:21:55,604 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-13 17:22:13,324 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-13 17:22:13,324 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-13 17:22:13,894 - mms_extractor - INFO - Kiwi 추출 엔티티: ['뚜레쥬르', '에이닷이빵쏜닷', '시크릿', '데일리', '0 day', '베어유']
2025-08-13 17:22:21,435 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 8.11초
2025-08-13 17:22:33,060 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:22:33,072 - mms_extractor - INFO - LLM 추출 엔티티: []
2025-08-13 17:22:34,065 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:22:34,339 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.27초
2025-08-13 17:22:34,346 - mms_extractor - WARNING - 필수 필드 누락: title
2025-08-13 17:22:34,346 - mms_extractor - WARNING - 필수 필드 누락: purpose
2025-08-13 17:22:34,346 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 17:22:34,346 - mms_extractor - INFO - process_message 실행완료: 21.02초
2025-08-13 17:22:34,346 - __main__ - INFO - 추출 완료: 21.022초
2025-08-13 17:22:34,347 - werkzeug - INFO - 127.0.0.1 - - [13/Aug/2025 17:22:34] "POST /extract HTTP/1.1" 200 -
2025-08-13 17:59:35,176 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-13 17:59:35,176 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-13 17:59:35,176 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-13 17:59:35,176 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-13 17:59:35,262 - mms_extractor - INFO - Using device: mps
2025-08-13 17:59:35,262 - mms_extractor - INFO - _initialize_device 실행완료: 0.08초
2025-08-13 17:59:36,734 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-13 17:59:36,734 - mms_extractor - INFO - _initialize_llm 실행완료: 1.47초
2025-08-13 17:59:36,734 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-13 17:59:36,735 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-13 17:59:36,735 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-13 17:59:45,573 - mms_extractor - INFO - Model loaded on mps
2025-08-13 17:59:45,573 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 8.84초
2025-08-13 17:59:46,030 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-13 17:59:46,031 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.46초
2025-08-13 17:59:46,031 - mms_extractor - INFO - 데이터 로딩 시작
2025-08-13 17:59:46,157 - mms_extractor - INFO - 상품 정보 로드 완료: 44275개 상품
2025-08-13 17:59:46,463 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-13 17:59:46,469 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-13 17:59:46,533 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개
2025-08-13 17:59:46,533 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-13 17:59:46,546 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-13 17:59:46,546 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-13 17:59:46,765 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-13 17:59:47,260 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-13 17:59:47,260 - mms_extractor - INFO - 데이터 로딩 완료
2025-08-13 17:59:47,260 - mms_extractor - INFO - _load_data 실행완료: 1.23초
2025-08-13 17:59:47,260 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-13 17:59:47,260 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-13 17:59:47,260 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8080, debug=False
2025-08-13 17:59:47,260 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-13 17:59:47,260 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8080에서 시작합니다
2025-08-13 17:59:47,260 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-13 17:59:47,260 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-13 17:59:47,260 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-13 17:59:47,260 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-13 17:59:47,260 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-13 17:59:47,260 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-13 17:59:47,302 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.23.113.180:8080
2025-08-13 17:59:47,302 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-13 18:02:02,223 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-13 18:02:02,223 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-13 18:02:02,796 - mms_extractor - INFO - Kiwi 추출 엔티티: ['에이닷이빵쏜닷', '0 day', '베어유', '뚜레쥬르', '시크릿', '데일리']
2025-08-13 18:02:19,332 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 17.11초
2025-08-13 18:02:31,062 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:02:31,067 - mms_extractor - INFO - LLM 추출 엔티티: []
2025-08-13 18:02:32,066 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:02:32,333 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.27초
2025-08-13 18:02:32,342 - mms_extractor - WARNING - 필수 필드 누락: title
2025-08-13 18:02:32,342 - mms_extractor - WARNING - 필수 필드 누락: purpose
2025-08-13 18:02:32,342 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 18:02:32,342 - mms_extractor - INFO - process_message 실행완료: 30.12초
2025-08-13 18:02:32,342 - __main__ - INFO - 추출 완료: 30.120초
2025-08-13 18:02:32,343 - werkzeug - INFO - 127.0.0.1 - - [13/Aug/2025 18:02:32] "POST /extract HTTP/1.1" 200 -
2025-08-13 18:03:52,497 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-13 18:03:52,497 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-13 18:03:52,503 - mms_extractor - INFO - Kiwi 추출 엔티티: ['에이닷이빵쏜닷', '0 day', '베어유', '뚜레쥬르', '시크릿', '데일리']
2025-08-13 18:03:53,990 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.49초
2025-08-13 18:04:02,138 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:04:02,139 - mms_extractor - INFO - LLM 추출 엔티티: ['0 day', '베어유 모든 강의', 'T 멤버십', '뚜레쥬르 데일리우유식빵']
2025-08-13 18:04:03,017 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:04:03,295 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.16초
2025-08-13 18:04:03,303 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 18:04:03,304 - mms_extractor - INFO - process_message 실행완료: 10.81초
2025-08-13 18:04:03,304 - __main__ - INFO - 추출 완료: 10.807초
2025-08-13 18:04:03,304 - werkzeug - INFO - 127.0.0.1 - - [13/Aug/2025 18:04:03] "POST /extract HTTP/1.1" 200 -
2025-08-13 18:04:20,093 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-13 18:04:20,093 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-13 18:04:20,096 - mms_extractor - INFO - Kiwi 추출 엔티티: ['에이닷이빵쏜닷', '0 day', '베어유', '뚜레쥬르', '시크릿', '데일리']
2025-08-13 18:04:21,549 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.46초
2025-08-13 18:04:29,554 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:04:29,556 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵', 'T 멤버십', '에이닷']
2025-08-13 18:04:30,513 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:04:30,781 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.22초
2025-08-13 18:04:30,789 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 18:04:30,789 - mms_extractor - INFO - process_message 실행완료: 10.70초
2025-08-13 18:04:30,789 - __main__ - INFO - 추출 완료: 10.696초
2025-08-13 18:04:30,789 - werkzeug - INFO - 127.0.0.1 - - [13/Aug/2025 18:04:30] "POST /extract HTTP/1.1" 200 -
2025-08-13 18:21:43,650 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-13 18:21:43,650 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-13 18:21:43,651 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-13 18:21:43,651 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-13 18:21:43,716 - mms_extractor - INFO - Using device: mps
2025-08-13 18:21:43,716 - mms_extractor - INFO - _initialize_device 실행완료: 0.06초
2025-08-13 18:21:45,531 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-13 18:21:45,532 - mms_extractor - INFO - _initialize_llm 실행완료: 1.82초
2025-08-13 18:21:45,532 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-13 18:21:45,532 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-13 18:21:45,532 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-13 18:21:49,723 - mms_extractor - INFO - Model loaded on mps
2025-08-13 18:21:49,724 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 4.19초
2025-08-13 18:21:50,203 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-13 18:21:50,203 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.48초
2025-08-13 18:21:50,203 - mms_extractor - INFO - 데이터 로딩 시작
2025-08-13 18:21:50,347 - mms_extractor - INFO - 상품 정보 로드 완료: 44275개 상품
2025-08-13 18:21:50,673 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-13 18:21:50,682 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-13 18:21:50,749 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개
2025-08-13 18:21:50,749 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-13 18:21:50,761 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-13 18:21:50,762 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-13 18:21:51,011 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-13 18:21:51,557 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-13 18:21:51,557 - mms_extractor - INFO - 데이터 로딩 완료
2025-08-13 18:21:51,557 - mms_extractor - INFO - _load_data 실행완료: 1.35초
2025-08-13 18:21:51,557 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-13 18:21:51,557 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-13 18:21:51,557 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8080, debug=False
2025-08-13 18:21:51,557 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-13 18:21:51,557 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8080에서 시작합니다
2025-08-13 18:21:51,557 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-13 18:21:51,557 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-13 18:21:51,557 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-13 18:21:51,557 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-13 18:21:51,557 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-13 18:21:51,557 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-13 18:21:51,596 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.23.113.180:8080
2025-08-13 18:21:51,596 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-13 18:21:54,737 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-13 18:21:54,737 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-13 18:21:55,341 - mms_extractor - INFO - Kiwi 추출 엔티티: ['에이닷이빵쏜닷', '베어유', '0 day', '뚜레쥬르', '데일리', '시크릿']
2025-08-13 18:22:03,156 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 8.42초
2025-08-13 18:22:10,498 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:22:10,502 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-13 18:22:11,626 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:22:11,872 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.37초
2025-08-13 18:22:11,881 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 18:22:11,882 - mms_extractor - INFO - process_message 실행완료: 17.14초
2025-08-13 18:22:11,882 - __main__ - INFO - 추출 완료: 17.145초
2025-08-13 18:22:11,882 - werkzeug - INFO - 127.0.0.1 - - [13/Aug/2025 18:22:11] "POST /extract HTTP/1.1" 200 -
2025-08-13 18:22:14,608 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-13 18:22:14,609 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-13 18:22:14,612 - mms_extractor - INFO - Kiwi 추출 엔티티: ['에이닷이빵쏜닷', '베어유', '0 day', '뚜레쥬르', '데일리', '시크릿']
2025-08-13 18:22:16,141 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.53초
2025-08-13 18:22:28,140 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:22:28,142 - mms_extractor - INFO - LLM 추출 엔티티: []
2025-08-13 18:22:29,101 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:22:29,357 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.22초
2025-08-13 18:22:29,365 - mms_extractor - WARNING - 필수 필드 누락: title
2025-08-13 18:22:29,365 - mms_extractor - WARNING - 필수 필드 누락: purpose
2025-08-13 18:22:29,365 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 18:22:29,365 - mms_extractor - INFO - process_message 실행완료: 14.76초
2025-08-13 18:22:29,365 - __main__ - INFO - 추출 완료: 14.757초
2025-08-13 18:22:29,366 - werkzeug - INFO - 127.0.0.1 - - [13/Aug/2025 18:22:29] "POST /extract HTTP/1.1" 200 -
2025-08-13 18:23:17,725 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-13 18:23:17,725 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-13 18:23:17,728 - mms_extractor - INFO - Kiwi 추출 엔티티: ['에이닷이빵쏜닷', '베어유', '0 day', '뚜레쥬르', '데일리', '시크릿']
2025-08-13 18:23:19,646 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.92초
2025-08-13 18:23:31,925 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:23:31,927 - mms_extractor - INFO - LLM 추출 엔티티: []
2025-08-13 18:23:32,910 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 18:23:33,169 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.24초
2025-08-13 18:23:33,176 - mms_extractor - WARNING - 필수 필드 누락: title
2025-08-13 18:23:33,176 - mms_extractor - WARNING - 필수 필드 누락: purpose
2025-08-13 18:23:33,176 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 18:23:33,176 - mms_extractor - INFO - process_message 실행완료: 15.45초
2025-08-13 18:23:33,176 - __main__ - INFO - 추출 완료: 15.451초
2025-08-13 18:23:33,177 - werkzeug - INFO - 127.0.0.1 - - [13/Aug/2025 18:23:33] "POST /extract HTTP/1.1" 200 -
2025-08-14 09:33:00,531 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-14 09:33:00,531 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-14 09:33:00,531 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-14 09:33:00,531 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-14 09:33:00,573 - mms_extractor - INFO - Using device: mps
2025-08-14 09:33:00,573 - mms_extractor - INFO - _initialize_device 실행완료: 0.04초
2025-08-14 09:33:01,699 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-14 09:33:01,699 - mms_extractor - INFO - _initialize_llm 실행완료: 1.13초
2025-08-14 09:33:01,699 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-14 09:33:01,700 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-14 09:33:01,700 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-14 09:33:07,798 - mms_extractor - INFO - Model loaded on mps
2025-08-14 09:33:07,798 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 6.10초
2025-08-14 09:33:08,415 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-14 09:33:08,415 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.62초
2025-08-14 09:33:08,415 - mms_extractor - INFO - 데이터 로딩 시작
2025-08-14 09:33:08,548 - mms_extractor - INFO - 상품 정보 로드 완료: 44275개 상품
2025-08-14 09:33:08,883 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-14 09:33:08,889 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-14 09:33:08,949 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개
2025-08-14 09:33:08,949 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-14 09:33:08,950 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-14 09:33:08,950 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-14 09:33:09,128 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-14 09:33:09,610 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-14 09:33:09,611 - mms_extractor - INFO - 데이터 로딩 완료
2025-08-14 09:33:09,611 - mms_extractor - INFO - _load_data 실행완료: 1.20초
2025-08-14 09:33:09,611 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-14 09:33:09,611 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-14 09:33:09,611 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8080, debug=False
2025-08-14 09:33:09,611 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-14 09:33:09,611 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8080에서 시작합니다
2025-08-14 09:33:09,611 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-14 09:33:09,611 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-14 09:33:09,611 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-14 09:33:09,611 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-14 09:33:09,611 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-14 09:33:09,611 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-14 09:33:09,637 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.0.0.2:8080
2025-08-14 09:33:09,637 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-14 09:33:33,908 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-14 09:33:33,908 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-14 09:33:34,495 - mms_extractor - INFO - Kiwi 추출 엔티티: ['뚜레쥬르', '시크릿', '데일리', '에이닷이빵쏜닷', '베어유', '0 day']
2025-08-14 09:33:41,233 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.32초
2025-08-14 09:33:48,194 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-14 09:33:48,200 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-14 09:33:49,071 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-14 09:33:49,284 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.08초
2025-08-14 09:33:49,292 - mms_extractor - INFO - 메시지 처리 완료
2025-08-14 09:33:49,292 - mms_extractor - INFO - process_message 실행완료: 15.38초
2025-08-14 09:33:49,292 - __main__ - INFO - 추출 완료: 15.384초
2025-08-14 09:33:49,293 - werkzeug - INFO - 127.0.0.1 - - [14/Aug/2025 09:33:49] "POST /extract HTTP/1.1" 200 -
2025-08-14 09:33:57,860 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-14 09:33:57,860 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-14 09:33:57,863 - mms_extractor - INFO - Kiwi 추출 엔티티: ['뚜레쥬르', '시크릿', '데일리', '에이닷이빵쏜닷', '베어유', '0 day']
2025-08-14 09:33:59,211 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.35초
2025-08-14 09:34:06,499 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-14 09:34:06,500 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-14 09:34:07,730 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-14 09:34:07,951 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.45초
2025-08-14 09:34:07,959 - mms_extractor - INFO - 메시지 처리 완료
2025-08-14 09:34:07,959 - mms_extractor - INFO - process_message 실행완료: 10.10초
2025-08-14 09:34:07,959 - __main__ - INFO - 추출 완료: 10.099초
2025-08-14 09:34:07,959 - werkzeug - INFO - 127.0.0.1 - - [14/Aug/2025 09:34:07] "POST /extract HTTP/1.1" 200 -
2025-08-14 09:34:15,828 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-14 09:34:15,828 - mms_extractor - INFO - 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의...
2025-08-14 09:34:15,831 - mms_extractor - INFO - Kiwi 추출 엔티티: ['뚜레쥬르', '시크릿', '데일리', '에이닷이빵쏜닷', '베어유', '0 day']
2025-08-14 09:34:17,140 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.31초
2025-08-14 09:34:23,786 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-14 09:34:23,787 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-14 09:34:24,844 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-14 09:34:25,067 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.28초
2025-08-14 09:34:25,074 - mms_extractor - INFO - 메시지 처리 완료
2025-08-14 09:34:25,074 - mms_extractor - INFO - process_message 실행완료: 9.25초
2025-08-14 09:34:25,074 - __main__ - INFO - 추출 완료: 9.246초
2025-08-14 09:34:25,075 - werkzeug - INFO - 127.0.0.1 - - [14/Aug/2025 09:34:25] "POST /extract HTTP/1.1" 200 -
2025-08-18 11:27:27,118 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-18 11:27:27,118 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-18 11:27:27,118 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-18 11:27:27,118 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-18 11:27:27,194 - mms_extractor - INFO - Using device: mps
2025-08-18 11:27:27,195 - mms_extractor - INFO - _initialize_device 실행완료: 0.08초
2025-08-18 11:27:28,588 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-18 11:27:28,588 - mms_extractor - INFO - _initialize_llm 실행완료: 1.39초
2025-08-18 11:27:28,588 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-18 11:27:28,589 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-18 11:27:28,589 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-18 11:27:34,198 - mms_extractor - INFO - Model loaded on mps
2025-08-18 11:27:34,198 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 5.61초
2025-08-18 11:27:34,707 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-18 11:27:34,707 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.51초
2025-08-18 11:27:34,707 - mms_extractor - INFO - ============================================================
2025-08-18 11:27:34,707 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-18 11:27:34,707 - mms_extractor - INFO - ============================================================
2025-08-18 11:27:34,707 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-18 11:27:34,707 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-18 11:27:34,707 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-18 11:27:34,707 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-18 11:27:34,707 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-18 11:27:34,823 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-18 11:27:34,823 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-18 11:27:34,832 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-18 11:27:34,836 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-18 11:27:34,837 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-18 11:27:34,840 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-18 11:27:34,841 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-18 11:27:34,841 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-18 11:27:34,841 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-18 11:27:34,841 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-18 11:27:34,841 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-18 11:27:34,841 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-18 11:27:34,850 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-18 11:27:34,851 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-18 11:27:34,851 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-18 11:27:35,157 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-18 11:27:35,159 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-18 11:27:35,159 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-18 11:27:35,159 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-18 11:27:35,159 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-18 11:27:35,167 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-18 11:27:35,167 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-18 11:27:35,167 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-18 11:27:35,167 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-18 11:27:35,174 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-18 11:27:35,176 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-18 11:27:35,176 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-18 11:27:35,232 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-18 11:27:35,232 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-18 11:27:35,232 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-18 11:27:35,246 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-18 11:27:35,246 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-18 11:27:35,509 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-18 11:27:35,509 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-18 11:27:35,509 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-18 11:27:36,006 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-18 11:27:36,006 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-18 11:27:36,006 - mms_extractor - INFO - ============================================================
2025-08-18 11:27:36,006 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-18 11:27:36,006 - mms_extractor - INFO - ============================================================
2025-08-18 11:27:36,006 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-18 11:27:36,006 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-18 11:27:36,006 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-18 11:27:36,006 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-18 11:27:36,006 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-18 11:27:36,011 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-18 11:27:36,018 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-18 11:27:36,022 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-18 11:27:36,022 - mms_extractor - INFO - _load_data 실행완료: 1.31초
2025-08-18 11:27:36,022 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-18 11:27:36,022 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-18 11:27:36,022 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8080, debug=False
2025-08-18 11:27:36,022 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-18 11:27:36,022 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8080에서 시작합니다
2025-08-18 11:27:36,022 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-18 11:27:36,022 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-18 11:27:36,022 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-18 11:27:36,022 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-18 11:27:36,022 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-18 11:27:36,022 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-18 11:27:36,047 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.23.24.218:8080
2025-08-18 11:27:36,047 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-18 11:28:04,336 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-18 11:28:04,337 - mms_extractor - INFO - ============================================================
2025-08-18 11:28:04,337 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-18 11:28:04,337 - mms_extractor - INFO - ============================================================
2025-08-18 11:28:04,337 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-18 11:28:04,337 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-18 11:28:04,338 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-18 11:28:04,338 - mms_extractor - INFO - 데이터 소스: local
2025-08-18 11:28:04,338 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-18 11:28:04,338 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-18 11:28:04,338 - mms_extractor - INFO - LLM 모델: ax
2025-08-18 11:28:04,338 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-18 11:28:04,338 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-18 11:28:04,338 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-18 11:28:04,338 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-18 11:28:04,338 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-18 11:28:04,348 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-18 11:28:04,942 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-18 11:28:04,943 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-18 11:28:04,945 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-18 11:28:04,945 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-18 11:28:04,945 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '뚜레쥬르', '데일리', '에이닷이빵쏜닷', '베어유']
2025-08-18 11:28:04,945 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-18 11:28:12,874 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-18 11:28:12,874 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-18 11:28:12,882 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-18 11:28:12,882 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-18 11:28:13,012 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-18 11:28:13,012 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-18 11:28:13,012 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-18 11:28:13,017 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-18 11:28:13,023 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-18 11:28:13,023 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-18 11:28:13,025 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-18 11:28:13,030 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-18 11:28:13,030 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-18 11:28:13,031 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 8.69초
2025-08-18 11:28:13,031 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:28:13,031 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-18 11:28:13,031 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-18 11:28:13,231 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-18 11:28:13,231 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-18 11:28:13,231 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-18 11:28:13,231 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-18 11:28:13,231 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-18 11:28:13,231 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:28:13,231 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-18 11:28:13,231 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-18 11:28:13,231 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-18 11:28:13,231 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-18 11:28:13,231 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-18 11:28:13,231 - mms_extractor - INFO - 구성된 프롬프트 길이: 6209 문자
2025-08-18 11:28:13,231 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-18 11:28:20,130 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 11:28:20,137 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-18 11:28:20,137 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-18 11:28:20,137 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-18 11:28:20,138 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-18 11:28:20,138 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-18 11:28:20,138 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-18 11:28:20,138 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-18 11:28:20,138 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-18 11:28:21,279 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 11:28:21,530 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.39초
2025-08-18 11:28:21,539 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-18 11:28:21,539 - mms_extractor - INFO - ============================================================
2025-08-18 11:28:21,539 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-18 11:28:21,539 - mms_extractor - INFO - ============================================================
2025-08-18 11:28:21,539 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-18 11:28:21,539 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-18 11:28:21,539 - mms_extractor - INFO - 상품 수: 3개
2025-08-18 11:28:21,539 - mms_extractor - INFO - 채널 수: 4개
2025-08-18 11:28:21,539 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-18 11:28:21,539 - mms_extractor - INFO - process_message 실행완료: 17.20초
2025-08-18 11:28:21,539 - __main__ - INFO - 추출 완료: 17.203초
2025-08-18 11:28:21,540 - werkzeug - INFO - 127.0.0.1 - - [18/Aug/2025 11:28:21] "POST /extract HTTP/1.1" 200 -
2025-08-18 11:28:58,009 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-18 11:28:58,009 - mms_extractor - INFO - ============================================================
2025-08-18 11:28:58,009 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-18 11:28:58,009 - mms_extractor - INFO - ============================================================
2025-08-18 11:28:58,009 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-18 11:28:58,009 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-18 11:28:58,009 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-18 11:28:58,009 - mms_extractor - INFO - 데이터 소스: local
2025-08-18 11:28:58,009 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-18 11:28:58,009 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-18 11:28:58,009 - mms_extractor - INFO - LLM 모델: ax
2025-08-18 11:28:58,009 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-18 11:28:58,009 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-18 11:28:58,009 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-18 11:28:58,009 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-18 11:28:58,009 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-18 11:28:58,016 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-18 11:28:58,018 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-18 11:28:58,018 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-18 11:28:58,020 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-18 11:28:58,020 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-18 11:28:58,020 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '뚜레쥬르', '데일리', '에이닷이빵쏜닷', '베어유']
2025-08-18 11:28:58,020 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-18 11:28:59,377 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-18 11:28:59,377 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-18 11:28:59,378 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-18 11:28:59,378 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-18 11:28:59,493 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-18 11:28:59,494 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-18 11:28:59,494 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-18 11:28:59,499 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-18 11:28:59,503 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-18 11:28:59,504 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-18 11:28:59,505 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-18 11:28:59,509 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-18 11:28:59,509 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-18 11:28:59,510 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.50초
2025-08-18 11:28:59,510 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:28:59,510 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-18 11:28:59,510 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-18 11:28:59,617 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-18 11:28:59,617 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-18 11:28:59,617 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-18 11:28:59,617 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-18 11:28:59,617 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-18 11:28:59,617 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:28:59,618 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-18 11:28:59,618 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-18 11:28:59,618 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-18 11:28:59,618 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-18 11:28:59,618 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-18 11:28:59,618 - mms_extractor - INFO - 구성된 프롬프트 길이: 6209 문자
2025-08-18 11:28:59,618 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-18 11:29:06,202 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 11:29:06,204 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-18 11:29:06,204 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-18 11:29:06,204 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-18 11:29:06,204 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-18 11:29:06,205 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-18 11:29:06,205 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-18 11:29:06,205 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-18 11:29:06,205 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-18 11:29:06,377 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-18 11:29:06,377 - mms_extractor - INFO - ============================================================
2025-08-18 11:29:06,377 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-18 11:29:06,377 - mms_extractor - INFO - ============================================================
2025-08-18 11:29:06,377 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-18 11:29:06,377 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-18 11:29:06,377 - mms_extractor - INFO - 상품 수: 2개
2025-08-18 11:29:06,377 - mms_extractor - INFO - 채널 수: 4개
2025-08-18 11:29:06,377 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-18 11:29:06,377 - mms_extractor - INFO - process_message 실행완료: 8.37초
2025-08-18 11:29:06,377 - __main__ - INFO - 추출 완료: 8.368초
2025-08-18 11:29:06,377 - werkzeug - INFO - 127.0.0.1 - - [18/Aug/2025 11:29:06] "POST /extract HTTP/1.1" 200 -
2025-08-18 11:29:22,084 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-18 11:29:22,084 - mms_extractor - INFO - ============================================================
2025-08-18 11:29:22,084 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-18 11:29:22,084 - mms_extractor - INFO - ============================================================
2025-08-18 11:29:22,084 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-18 11:29:22,084 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-18 11:29:22,084 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-18 11:29:22,084 - mms_extractor - INFO - 데이터 소스: local
2025-08-18 11:29:22,084 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-18 11:29:22,084 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-18 11:29:22,084 - mms_extractor - INFO - LLM 모델: ax
2025-08-18 11:29:22,084 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-18 11:29:22,084 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-18 11:29:22,084 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-18 11:29:22,084 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-18 11:29:22,084 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-18 11:29:22,090 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-18 11:29:22,091 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-18 11:29:22,092 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-18 11:29:22,093 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-18 11:29:22,093 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-18 11:29:22,093 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '뚜레쥬르', '데일리', '에이닷이빵쏜닷', '베어유']
2025-08-18 11:29:22,093 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-18 11:29:23,336 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-18 11:29:23,336 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-18 11:29:23,337 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-18 11:29:23,337 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-18 11:29:23,468 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-18 11:29:23,468 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-18 11:29:23,468 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-18 11:29:23,472 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-18 11:29:23,477 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-18 11:29:23,477 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-18 11:29:23,478 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-18 11:29:23,482 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-18 11:29:23,482 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-18 11:29:23,483 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.40초
2025-08-18 11:29:23,483 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:29:23,483 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-18 11:29:23,483 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-18 11:29:23,547 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-18 11:29:23,547 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-18 11:29:23,547 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-18 11:29:23,547 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-18 11:29:23,547 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-18 11:29:23,547 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:29:23,547 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-18 11:29:23,547 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-18 11:29:23,548 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-18 11:29:23,549 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 9개
2025-08-18 11:29:23,549 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '0 day', 'action': '기타'}, {'name': 'CU(0 day)', 'action': '기타'}]
2025-08-18 11:29:23,549 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-18 11:29:23,549 - mms_extractor - INFO - 구성된 프롬프트 길이: 5520 문자
2025-08-18 11:29:23,549 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-18 11:29:30,490 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 11:29:30,492 - mms_extractor - INFO - LLM 응답 길이: 951 문자
2025-08-18 11:29:30,492 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도",
        "웹/앱 접속 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "무료 수강"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "무료 제공"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "a...
2025-08-18 11:29:30,492 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-18 11:29:30,492 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-18 11:29:30,492 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-18 11:29:30,492 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '무료 수강'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '무료 제공'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '추가 정보'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-18 11:29:30,493 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-18 11:29:30,493 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-18 11:29:30,668 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-18 11:29:30,668 - mms_extractor - INFO - ============================================================
2025-08-18 11:29:30,668 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-18 11:29:30,668 - mms_extractor - INFO - ============================================================
2025-08-18 11:29:30,668 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-18 11:29:30,668 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도']
2025-08-18 11:29:30,668 - mms_extractor - INFO - 상품 수: 2개
2025-08-18 11:29:30,668 - mms_extractor - INFO - 채널 수: 4개
2025-08-18 11:29:30,668 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-18 11:29:30,668 - mms_extractor - INFO - process_message 실행완료: 8.58초
2025-08-18 11:29:30,668 - __main__ - INFO - 추출 완료: 8.584초
2025-08-18 11:29:30,669 - werkzeug - INFO - 127.0.0.1 - - [18/Aug/2025 11:29:30] "POST /extract HTTP/1.1" 200 -
2025-08-18 11:30:01,810 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-18 11:30:01,810 - mms_extractor - INFO - ============================================================
2025-08-18 11:30:01,810 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-18 11:30:01,810 - mms_extractor - INFO - ============================================================
2025-08-18 11:30:01,810 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-18 11:30:01,810 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-18 11:30:01,810 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-18 11:30:01,810 - mms_extractor - INFO - 데이터 소스: local
2025-08-18 11:30:01,810 - mms_extractor - INFO - 상품 정보 추출 모드: rag
2025-08-18 11:30:01,810 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-18 11:30:01,811 - mms_extractor - INFO - LLM 모델: ax
2025-08-18 11:30:01,811 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-18 11:30:01,811 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-18 11:30:01,811 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-18 11:30:01,811 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-18 11:30:01,811 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-18 11:30:01,816 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-18 11:30:01,817 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-18 11:30:01,818 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-18 11:30:01,819 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-18 11:30:01,819 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-18 11:30:01,819 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '뚜레쥬르', '데일리', '에이닷이빵쏜닷', '베어유']
2025-08-18 11:30:01,819 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-18 11:30:03,185 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-18 11:30:03,185 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-18 11:30:03,186 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-18 11:30:03,186 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-18 11:30:03,313 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-18 11:30:03,313 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-18 11:30:03,313 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-18 11:30:03,318 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-18 11:30:03,322 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-18 11:30:03,323 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-18 11:30:03,324 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-18 11:30:03,328 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-18 11:30:03,328 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-18 11:30:03,329 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.52초
2025-08-18 11:30:03,329 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:30:03,329 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-18 11:30:03,329 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-18 11:30:03,432 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-18 11:30:03,433 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-18 11:30:03,433 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-18 11:30:03,433 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-18 11:30:03,433 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-18 11:30:03,433 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:30:03,433 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-18 11:30:03,433 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-18 11:30:03,433 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-18 11:30:03,433 - mms_extractor - INFO - RAG 모드: 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-18 11:30:03,433 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-18 11:30:03,433 - mms_extractor - INFO - 구성된 프롬프트 길이: 5814 문자
2025-08-18 11:30:03,433 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-18 11:30:11,166 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 11:30:11,170 - mms_extractor - INFO - LLM 응답 길이: 1094 문자
2025-08-18 11:30:11,171 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도",
        "웹/앱 접속 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        },
        {
            "name": "T 멤버십",
            "action": "가입"
        },
        {
            "name": "에이닷",
            "action": "사용"
        }
    ],
    "chan...
2025-08-18 11:30:11,171 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-18 11:30:11,171 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-18 11:30:11,172 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-18 11:30:11,172 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}, {'name': 'T 멤버십', 'action': '가입'}, {'name': '에이닷', 'action': '사용'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-18 11:30:11,172 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-18 11:30:11,172 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵', 'T 멤버십', '에이닷']
2025-08-18 11:30:11,432 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-18 11:30:11,432 - mms_extractor - INFO - ============================================================
2025-08-18 11:30:11,432 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-18 11:30:11,432 - mms_extractor - INFO - ============================================================
2025-08-18 11:30:11,432 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-18 11:30:11,432 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도']
2025-08-18 11:30:11,432 - mms_extractor - INFO - 상품 수: 3개
2025-08-18 11:30:11,432 - mms_extractor - INFO - 채널 수: 4개
2025-08-18 11:30:11,433 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-18 11:30:11,433 - mms_extractor - INFO - process_message 실행완료: 9.62초
2025-08-18 11:30:11,433 - __main__ - INFO - 추출 완료: 9.623초
2025-08-18 11:30:11,433 - werkzeug - INFO - 127.0.0.1 - - [18/Aug/2025 11:30:11] "POST /extract HTTP/1.1" 200 -
2025-08-18 11:33:11,528 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-18 11:33:11,529 - mms_extractor - INFO - ============================================================
2025-08-18 11:33:11,529 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-18 11:33:11,529 - mms_extractor - INFO - ============================================================
2025-08-18 11:33:11,529 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-18 11:33:11,529 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-18 11:33:11,529 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-18 11:33:11,529 - mms_extractor - INFO - 데이터 소스: local
2025-08-18 11:33:11,529 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-18 11:33:11,529 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-18 11:33:11,529 - mms_extractor - INFO - LLM 모델: ax
2025-08-18 11:33:11,529 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-18 11:33:11,529 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-18 11:33:11,529 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-18 11:33:11,529 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-18 11:33:11,529 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-18 11:33:11,535 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-18 11:33:11,536 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-18 11:33:11,536 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-18 11:33:11,538 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-18 11:33:11,538 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-18 11:33:11,538 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '뚜레쥬르', '데일리', '에이닷이빵쏜닷', '베어유']
2025-08-18 11:33:11,538 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-18 11:33:12,876 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-18 11:33:12,876 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-18 11:33:12,877 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-18 11:33:12,877 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-18 11:33:13,007 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-18 11:33:13,008 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-18 11:33:13,008 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-18 11:33:13,012 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-18 11:33:13,016 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-18 11:33:13,016 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-18 11:33:13,017 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-18 11:33:13,021 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-18 11:33:13,022 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-18 11:33:13,022 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.49초
2025-08-18 11:33:13,022 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:33:13,022 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-18 11:33:13,022 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-18 11:33:13,103 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-18 11:33:13,104 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-18 11:33:13,104 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-18 11:33:13,104 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-18 11:33:13,104 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-18 11:33:13,105 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:33:13,105 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-18 11:33:13,105 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-18 11:33:13,105 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-18 11:33:13,106 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-18 11:33:13,106 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-18 11:33:13,106 - mms_extractor - INFO - 구성된 프롬프트 길이: 6209 문자
2025-08-18 11:33:13,106 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-18 11:33:20,032 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 11:33:20,035 - mms_extractor - INFO - LLM 응답 길이: 942 문자
2025-08-18 11:33:20,035 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도",
        "웹/앱 접속 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action"...
2025-08-18 11:33:20,035 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-18 11:33:20,036 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-18 11:33:20,036 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-18 11:33:20,036 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-18 11:33:20,036 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-18 11:33:20,036 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-18 11:33:20,211 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-18 11:33:20,211 - mms_extractor - INFO - ============================================================
2025-08-18 11:33:20,211 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-18 11:33:20,211 - mms_extractor - INFO - ============================================================
2025-08-18 11:33:20,211 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-18 11:33:20,211 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도']
2025-08-18 11:33:20,211 - mms_extractor - INFO - 상품 수: 2개
2025-08-18 11:33:20,211 - mms_extractor - INFO - 채널 수: 4개
2025-08-18 11:33:20,211 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-18 11:33:20,211 - mms_extractor - INFO - process_message 실행완료: 8.68초
2025-08-18 11:33:20,211 - __main__ - INFO - 추출 완료: 8.683초
2025-08-18 11:33:20,211 - werkzeug - INFO - 127.0.0.1 - - [18/Aug/2025 11:33:20] "POST /extract HTTP/1.1" 200 -
2025-08-18 11:33:45,155 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-18 11:33:45,156 - mms_extractor - INFO - ============================================================
2025-08-18 11:33:45,156 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-18 11:33:45,156 - mms_extractor - INFO - ============================================================
2025-08-18 11:33:45,156 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-18 11:33:45,156 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-18 11:33:45,156 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-18 11:33:45,156 - mms_extractor - INFO - 데이터 소스: local
2025-08-18 11:33:45,156 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-18 11:33:45,156 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-18 11:33:45,156 - mms_extractor - INFO - LLM 모델: ax
2025-08-18 11:33:45,156 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-18 11:33:45,156 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-18 11:33:45,156 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-18 11:33:45,156 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-18 11:33:45,156 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-18 11:33:45,162 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-18 11:33:45,163 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-18 11:33:45,163 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-18 11:33:45,165 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-18 11:33:45,165 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-18 11:33:45,165 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '뚜레쥬르', '데일리', '에이닷이빵쏜닷', '베어유']
2025-08-18 11:33:45,165 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-18 11:33:46,440 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-18 11:33:46,440 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-18 11:33:46,441 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-18 11:33:46,441 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-18 11:33:46,567 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-18 11:33:46,568 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-18 11:33:46,568 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-18 11:33:46,572 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-18 11:33:46,576 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-18 11:33:46,577 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-18 11:33:46,578 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-18 11:33:46,582 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-18 11:33:46,582 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-18 11:33:46,582 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.43초
2025-08-18 11:33:46,582 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:33:46,582 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-18 11:33:46,582 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-18 11:33:46,627 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-18 11:33:46,628 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-18 11:33:46,628 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-18 11:33:46,628 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-18 11:33:46,628 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-18 11:33:46,628 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-18 11:33:46,628 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-18 11:33:46,628 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-18 11:33:46,628 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-18 11:33:46,628 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-18 11:33:46,628 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-18 11:33:46,628 - mms_extractor - INFO - 구성된 프롬프트 길이: 6209 문자
2025-08-18 11:33:46,628 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-18 11:33:53,542 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 11:33:53,544 - mms_extractor - INFO - LLM 응답 길이: 942 문자
2025-08-18 11:33:53,545 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도",
        "웹/앱 접속 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action"...
2025-08-18 11:33:53,545 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-18 11:33:53,545 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-18 11:33:53,546 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-18 11:33:53,546 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-18 11:33:53,546 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-18 11:33:53,546 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-18 11:33:54,566 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 11:33:54,827 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.28초
2025-08-18 11:33:54,836 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-18 11:33:54,836 - mms_extractor - INFO - ============================================================
2025-08-18 11:33:54,836 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-18 11:33:54,836 - mms_extractor - INFO - ============================================================
2025-08-18 11:33:54,836 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-18 11:33:54,836 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도']
2025-08-18 11:33:54,836 - mms_extractor - INFO - 상품 수: 3개
2025-08-18 11:33:54,836 - mms_extractor - INFO - 채널 수: 4개
2025-08-18 11:33:54,836 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-18 11:33:54,836 - mms_extractor - INFO - process_message 실행완료: 9.68초
2025-08-18 11:33:54,836 - __main__ - INFO - 추출 완료: 9.681초
2025-08-18 11:33:54,837 - werkzeug - INFO - 127.0.0.1 - - [18/Aug/2025 11:33:54] "POST /extract HTTP/1.1" 200 -
2025-08-19 15:18:58,624 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-19 15:18:58,624 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-19 15:18:58,624 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-19 15:18:58,624 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-19 15:18:58,651 - mms_extractor - INFO - Using device: mps
2025-08-19 15:18:58,651 - mms_extractor - INFO - _initialize_device 실행완료: 0.03초
2025-08-19 15:18:58,651 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-19 15:18:58,651 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-19 15:18:58,651 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-19 15:18:58,651 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-19 15:18:58,651 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-19 15:18:59,511 - mms_extractor - INFO - Model loaded on mps
2025-08-19 15:18:59,511 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 0.86초
2025-08-19 15:19:00,075 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-19 15:19:00,075 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.56초
2025-08-19 15:19:00,075 - mms_extractor - INFO - ============================================================
2025-08-19 15:19:00,075 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-19 15:19:00,075 - mms_extractor - INFO - ============================================================
2025-08-19 15:19:00,075 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-19 15:19:00,075 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-19 15:19:00,075 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-19 15:19:00,075 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-19 15:19:00,075 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-19 15:19:00,195 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-19 15:19:00,195 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-19 15:19:00,205 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-19 15:19:00,210 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-19 15:19:00,211 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-19 15:19:00,214 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-19 15:19:00,214 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-19 15:19:00,214 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-19 15:19:00,214 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-19 15:19:00,214 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-19 15:19:00,214 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-19 15:19:00,214 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-19 15:19:00,217 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-19 15:19:00,218 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-19 15:19:00,218 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-19 15:19:00,576 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-19 15:19:00,578 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-19 15:19:00,578 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-19 15:19:00,578 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-19 15:19:00,578 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-19 15:19:00,579 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-19 15:19:00,579 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-19 15:19:00,579 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-19 15:19:00,579 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-19 15:19:00,587 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-19 15:19:00,590 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-19 15:19:00,590 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-19 15:19:00,642 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-19 15:19:00,642 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-19 15:19:00,642 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-19 15:19:00,644 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-19 15:19:00,644 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-19 15:19:00,833 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-19 15:19:00,834 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-19 15:19:00,834 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-19 15:19:01,316 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-19 15:19:01,316 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-19 15:19:01,317 - mms_extractor - INFO - ============================================================
2025-08-19 15:19:01,317 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-19 15:19:01,317 - mms_extractor - INFO - ============================================================
2025-08-19 15:19:01,317 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-19 15:19:01,317 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-19 15:19:01,317 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-19 15:19:01,317 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-19 15:19:01,317 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-19 15:19:01,321 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-19 15:19:01,328 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-19 15:19:01,332 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-19 15:19:01,332 - mms_extractor - INFO - _load_data 실행완료: 1.26초
2025-08-19 15:19:01,332 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-19 15:19:01,332 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-19 15:19:01,332 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8080, debug=False
2025-08-19 15:19:01,332 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-19 15:19:01,332 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8080에서 시작합니다
2025-08-19 15:19:01,332 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-19 15:19:01,332 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-19 15:19:01,332 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-19 15:19:01,332 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-19 15:19:01,332 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-19 15:19:01,332 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-19 15:19:01,360 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.23.24.218:8080
2025-08-19 15:19:01,360 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-19 15:19:59,479 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-19 15:19:59,480 - mms_extractor - INFO - ============================================================
2025-08-19 15:19:59,480 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-19 15:19:59,480 - mms_extractor - INFO - ============================================================
2025-08-19 15:19:59,480 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-19 15:19:59,480 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-19 15:19:59,480 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-19 15:19:59,480 - mms_extractor - INFO - 데이터 소스: local
2025-08-19 15:19:59,480 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-19 15:19:59,480 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-19 15:19:59,480 - mms_extractor - INFO - LLM 모델: ax
2025-08-19 15:19:59,480 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-19 15:19:59,480 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-19 15:19:59,480 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-19 15:19:59,480 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-19 15:19:59,480 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-19 15:19:59,486 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-19 15:20:00,047 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-19 15:20:00,048 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-19 15:20:00,049 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-19 15:20:00,049 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-19 15:20:00,049 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['데일리', '0 day', '뚜레쥬르', '시크릿', '베어유', '에이닷이빵쏜닷']
2025-08-19 15:20:00,049 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-19 15:20:07,721 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-19 15:20:07,721 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-19 15:20:07,724 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-19 15:20:07,724 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-19 15:20:07,840 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-19 15:20:07,840 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-19 15:20:07,840 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-19 15:20:07,847 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-19 15:20:07,853 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-19 15:20:07,853 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-19 15:20:07,855 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-19 15:20:07,859 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-19 15:20:07,859 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-19 15:20:07,860 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 8.38초
2025-08-19 15:20:07,860 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-19 15:20:07,860 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-19 15:20:07,860 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-19 15:20:08,191 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-19 15:20:08,191 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-19 15:20:08,191 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-19 15:20:08,191 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-19 15:20:08,191 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-19 15:20:08,191 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-19 15:20:08,192 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-19 15:20:08,192 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-19 15:20:08,192 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-19 15:20:08,192 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-19 15:20:08,192 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-19 15:20:08,192 - mms_extractor - INFO - 구성된 프롬프트 길이: 6209 문자
2025-08-19 15:20:08,192 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-19 15:20:15,013 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:20:15,018 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-19 15:20:15,018 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-19 15:20:15,018 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-19 15:20:15,019 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-19 15:20:15,019 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-19 15:20:15,019 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-19 15:20:15,019 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-19 15:20:15,019 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-19 15:20:16,020 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:20:16,232 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.21초
2025-08-19 15:20:16,240 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-19 15:20:16,240 - mms_extractor - INFO - ============================================================
2025-08-19 15:20:16,240 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-19 15:20:16,240 - mms_extractor - INFO - ============================================================
2025-08-19 15:20:16,240 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-19 15:20:16,240 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-19 15:20:16,240 - mms_extractor - INFO - 상품 수: 3개
2025-08-19 15:20:16,240 - mms_extractor - INFO - 채널 수: 4개
2025-08-19 15:20:16,240 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-19 15:20:16,240 - mms_extractor - INFO - process_message 실행완료: 16.76초
2025-08-19 15:20:16,240 - __main__ - INFO - 추출 완료: 16.761초
2025-08-19 15:20:16,241 - werkzeug - INFO - 127.0.0.1 - - [19/Aug/2025 15:20:16] "POST /extract HTTP/1.1" 200 -
2025-08-19 15:20:54,470 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-19 15:20:54,470 - mms_extractor - INFO - ============================================================
2025-08-19 15:20:54,470 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-19 15:20:54,470 - mms_extractor - INFO - ============================================================
2025-08-19 15:20:54,470 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-19 15:20:54,470 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-19 15:20:54,470 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-19 15:20:54,470 - mms_extractor - INFO - 데이터 소스: local
2025-08-19 15:20:54,470 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-19 15:20:54,470 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-19 15:20:54,470 - mms_extractor - INFO - LLM 모델: ax
2025-08-19 15:20:54,470 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-19 15:20:54,470 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-19 15:20:54,470 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-19 15:20:54,470 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-19 15:20:54,470 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-19 15:20:54,477 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-19 15:20:54,480 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-19 15:20:54,481 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-19 15:20:54,483 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-19 15:20:54,483 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-19 15:20:54,484 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['데일리', '0 day', '뚜레쥬르', '시크릿', '베어유', '에이닷이빵쏜닷']
2025-08-19 15:20:54,484 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-19 15:20:55,731 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-19 15:20:55,732 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-19 15:20:55,732 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-19 15:20:55,732 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-19 15:20:55,874 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-19 15:20:55,874 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-19 15:20:55,874 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-19 15:20:55,878 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-19 15:20:55,881 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-19 15:20:55,881 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-19 15:20:55,882 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-19 15:20:55,886 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-19 15:20:55,886 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-19 15:20:55,887 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.42초
2025-08-19 15:20:55,887 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-19 15:20:55,887 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-19 15:20:55,887 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-19 15:20:55,948 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-19 15:20:55,948 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-19 15:20:55,948 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-19 15:20:55,948 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-19 15:20:55,948 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-19 15:20:55,948 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-19 15:20:55,948 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-19 15:20:55,948 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-19 15:20:55,948 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-19 15:20:55,948 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-19 15:20:55,948 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-19 15:20:55,948 - mms_extractor - INFO - 구성된 프롬프트 길이: 6209 문자
2025-08-19 15:20:55,948 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-19 15:21:02,887 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:21:02,888 - mms_extractor - INFO - LLM 응답 길이: 942 문자
2025-08-19 15:21:02,888 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도",
        "웹/앱 접속 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action"...
2025-08-19 15:21:02,888 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-19 15:21:02,888 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-19 15:21:02,888 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-19 15:21:02,888 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-19 15:21:02,888 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-19 15:21:02,888 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-19 15:21:03,805 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:21:04,024 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.14초
2025-08-19 15:21:04,032 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-19 15:21:04,032 - mms_extractor - INFO - ============================================================
2025-08-19 15:21:04,032 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-19 15:21:04,032 - mms_extractor - INFO - ============================================================
2025-08-19 15:21:04,032 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-19 15:21:04,032 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도']
2025-08-19 15:21:04,032 - mms_extractor - INFO - 상품 수: 3개
2025-08-19 15:21:04,032 - mms_extractor - INFO - 채널 수: 4개
2025-08-19 15:21:04,032 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-19 15:21:04,032 - mms_extractor - INFO - process_message 실행완료: 9.56초
2025-08-19 15:21:04,032 - __main__ - INFO - 추출 완료: 9.563초
2025-08-19 15:21:04,033 - werkzeug - INFO - 127.0.0.1 - - [19/Aug/2025 15:21:04] "POST /extract HTTP/1.1" 200 -
2025-08-19 15:21:42,054 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-19 15:21:42,054 - mms_extractor - INFO - ============================================================
2025-08-19 15:21:42,054 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-19 15:21:42,054 - mms_extractor - INFO - ============================================================
2025-08-19 15:21:42,054 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-19 15:21:42,054 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-19 15:21:42,054 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-19 15:21:42,054 - mms_extractor - INFO - 데이터 소스: local
2025-08-19 15:21:42,054 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-19 15:21:42,054 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-19 15:21:42,054 - mms_extractor - INFO - LLM 모델: ax
2025-08-19 15:21:42,054 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-19 15:21:42,054 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-19 15:21:42,054 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-19 15:21:42,054 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-19 15:21:42,054 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-19 15:21:42,062 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-19 15:21:42,063 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-19 15:21:42,064 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-19 15:21:42,066 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-19 15:21:42,066 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-19 15:21:42,066 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['데일리', '0 day', '뚜레쥬르', '시크릿', '베어유', '에이닷이빵쏜닷']
2025-08-19 15:21:42,066 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-19 15:21:43,221 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-19 15:21:43,221 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-19 15:21:43,222 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-19 15:21:43,222 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-19 15:21:43,336 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-19 15:21:43,337 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-19 15:21:43,337 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-19 15:21:43,341 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-19 15:21:43,344 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-19 15:21:43,345 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-19 15:21:43,346 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-19 15:21:43,349 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-19 15:21:43,350 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-19 15:21:43,350 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.30초
2025-08-19 15:21:43,351 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-19 15:21:43,351 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-19 15:21:43,351 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-19 15:21:43,454 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-19 15:21:43,454 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-19 15:21:43,454 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-19 15:21:43,454 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-19 15:21:43,454 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-19 15:21:43,454 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-19 15:21:43,455 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-19 15:21:43,455 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-19 15:21:43,455 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-19 15:21:43,455 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-19 15:21:43,455 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-19 15:21:43,455 - mms_extractor - INFO - 구성된 프롬프트 길이: 6209 문자
2025-08-19 15:21:43,455 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-19 15:21:50,234 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:21:50,235 - mms_extractor - INFO - LLM 응답 길이: 942 문자
2025-08-19 15:21:50,235 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도",
        "웹/앱 접속 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action"...
2025-08-19 15:21:50,235 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-19 15:21:50,235 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-19 15:21:50,235 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-19 15:21:50,235 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-19 15:21:50,236 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-19 15:21:50,236 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-19 15:21:51,197 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:21:51,452 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.22초
2025-08-19 15:21:51,459 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-19 15:21:51,459 - mms_extractor - INFO - ============================================================
2025-08-19 15:21:51,459 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-19 15:21:51,459 - mms_extractor - INFO - ============================================================
2025-08-19 15:21:51,459 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-19 15:21:51,459 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도', '웹/앱 접속 유도']
2025-08-19 15:21:51,459 - mms_extractor - INFO - 상품 수: 3개
2025-08-19 15:21:51,459 - mms_extractor - INFO - 채널 수: 4개
2025-08-19 15:21:51,459 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-19 15:21:51,459 - mms_extractor - INFO - process_message 실행완료: 9.41초
2025-08-19 15:21:51,459 - __main__ - INFO - 추출 완료: 9.406초
2025-08-19 15:21:51,459 - werkzeug - INFO - 127.0.0.1 - - [19/Aug/2025 15:21:51] "POST /extract HTTP/1.1" 200 -
2025-08-19 15:24:44,099 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-19 15:24:44,099 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-19 15:24:44,099 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-19 15:24:44,099 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-19 15:24:44,120 - mms_extractor - INFO - Using device: mps
2025-08-19 15:24:44,120 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-19 15:24:44,120 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-19 15:24:44,120 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-19 15:24:44,121 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-19 15:24:44,121 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-19 15:24:44,121 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-19 15:24:45,151 - mms_extractor - INFO - Model loaded on mps
2025-08-19 15:24:45,151 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 1.03초
2025-08-19 15:24:45,551 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-19 15:24:45,552 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.40초
2025-08-19 15:24:45,552 - mms_extractor - INFO - ============================================================
2025-08-19 15:24:45,552 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-19 15:24:45,552 - mms_extractor - INFO - ============================================================
2025-08-19 15:24:45,552 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-19 15:24:45,552 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-19 15:24:45,552 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-19 15:24:45,552 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-19 15:24:45,552 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-19 15:24:45,659 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-19 15:24:45,659 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-19 15:24:45,668 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-19 15:24:45,672 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-19 15:24:45,673 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-19 15:24:45,675 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-19 15:24:45,675 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-19 15:24:45,676 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-19 15:24:45,676 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-19 15:24:45,676 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-19 15:24:45,676 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-19 15:24:45,676 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-19 15:24:45,677 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-19 15:24:45,678 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-19 15:24:45,678 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-19 15:24:46,015 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-19 15:24:46,017 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-19 15:24:46,017 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-19 15:24:46,017 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-19 15:24:46,017 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-19 15:24:46,018 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-19 15:24:46,018 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-19 15:24:46,018 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-19 15:24:46,018 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-19 15:24:46,025 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-19 15:24:46,028 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-19 15:24:46,028 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-19 15:24:46,075 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-19 15:24:46,075 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-19 15:24:46,075 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-19 15:24:46,077 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-19 15:24:46,077 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-19 15:24:46,209 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-19 15:24:46,209 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-19 15:24:46,209 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-19 15:24:46,678 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-19 15:24:46,678 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-19 15:24:46,678 - mms_extractor - INFO - ============================================================
2025-08-19 15:24:46,678 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-19 15:24:46,678 - mms_extractor - INFO - ============================================================
2025-08-19 15:24:46,678 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-19 15:24:46,678 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-19 15:24:46,678 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-19 15:24:46,678 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-19 15:24:46,679 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-19 15:24:46,683 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-19 15:24:46,689 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-19 15:24:46,693 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-19 15:24:46,693 - mms_extractor - INFO - _load_data 실행완료: 1.14초
2025-08-19 15:24:46,693 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-19 15:24:46,693 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-19 15:24:46,693 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8080, debug=False
2025-08-19 15:24:46,693 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-19 15:24:46,693 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8080에서 시작합니다
2025-08-19 15:24:46,693 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-19 15:24:46,693 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-19 15:24:46,693 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-19 15:24:46,693 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-19 15:24:46,693 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-19 15:24:46,693 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-19 15:24:46,712 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.23.24.218:8080
2025-08-19 15:24:46,712 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-19 15:24:52,328 - werkzeug - INFO - 127.0.0.1 - - [19/Aug/2025 15:24:52] "[31m[1mPOST /extract HTTP/1.1[0m" 400 -
2025-08-19 15:25:01,138 - werkzeug - INFO - 127.0.0.1 - - [19/Aug/2025 15:25:01] "[31m[1mPOST /extract HTTP/1.1[0m" 400 -
2025-08-19 15:33:50,570 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-19 15:33:50,570 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-19 15:33:50,570 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-19 15:33:50,570 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-19 15:33:50,648 - mms_extractor - INFO - Using device: mps
2025-08-19 15:33:50,648 - mms_extractor - INFO - _initialize_device 실행완료: 0.08초
2025-08-19 15:33:50,649 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-19 15:33:50,649 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-19 15:33:50,649 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-19 15:33:50,649 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-19 15:33:50,649 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-19 15:33:55,870 - mms_extractor - INFO - Model loaded on mps
2025-08-19 15:33:55,871 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 5.22초
2025-08-19 15:33:56,398 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-19 15:33:56,398 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.53초
2025-08-19 15:33:56,398 - mms_extractor - INFO - ============================================================
2025-08-19 15:33:56,399 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-19 15:33:56,399 - mms_extractor - INFO - ============================================================
2025-08-19 15:33:56,399 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-19 15:33:56,399 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-19 15:33:56,399 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-19 15:33:56,399 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-19 15:33:56,399 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-19 15:33:56,514 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-19 15:33:56,514 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-19 15:33:56,525 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-19 15:33:56,530 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-19 15:33:56,531 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-19 15:33:56,536 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-19 15:33:56,536 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-19 15:33:56,536 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-19 15:33:56,536 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-19 15:33:56,536 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-19 15:33:56,536 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-19 15:33:56,536 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-19 15:33:56,544 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-19 15:33:56,544 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-19 15:33:56,545 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-19 15:33:56,892 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-19 15:33:56,894 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-19 15:33:56,894 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-19 15:33:56,894 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-19 15:33:56,894 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-19 15:33:56,895 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-19 15:33:56,895 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-19 15:33:56,895 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-19 15:33:56,895 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-19 15:33:56,903 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-19 15:33:56,906 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-19 15:33:56,906 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-19 15:33:56,957 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-19 15:33:56,957 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-19 15:33:56,957 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-19 15:33:56,970 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-19 15:33:56,970 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-19 15:33:57,201 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-19 15:33:57,201 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-19 15:33:57,201 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-19 15:33:57,698 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-19 15:33:57,698 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-19 15:33:57,698 - mms_extractor - INFO - ============================================================
2025-08-19 15:33:57,698 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-19 15:33:57,698 - mms_extractor - INFO - ============================================================
2025-08-19 15:33:57,698 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-19 15:33:57,698 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-19 15:33:57,698 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-19 15:33:57,698 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-19 15:33:57,698 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-19 15:33:57,703 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-19 15:33:57,709 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-19 15:33:57,713 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-19 15:33:57,713 - mms_extractor - INFO - _load_data 실행완료: 1.31초
2025-08-19 15:33:57,713 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-19 15:33:57,713 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-19 15:33:57,713 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8080, debug=False
2025-08-19 15:33:57,713 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-19 15:33:57,713 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8080에서 시작합니다
2025-08-19 15:33:57,713 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-19 15:33:57,713 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-19 15:33:57,713 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-19 15:33:57,713 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-19 15:33:57,713 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-19 15:33:57,713 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-19 15:33:57,739 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.23.24.218:8080
2025-08-19 15:33:57,739 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-19 15:34:01,674 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-19 15:34:01,674 - mms_extractor - INFO - ============================================================
2025-08-19 15:34:01,674 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-19 15:34:01,674 - mms_extractor - INFO - ============================================================
2025-08-19 15:34:01,674 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-19 15:34:01,674 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-19 15:34:01,674 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-19 15:34:01,674 - mms_extractor - INFO - 데이터 소스: local
2025-08-19 15:34:01,674 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-19 15:34:01,674 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-19 15:34:01,674 - mms_extractor - INFO - LLM 모델: ax
2025-08-19 15:34:01,674 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-19 15:34:01,674 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-19 15:34:01,674 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-19 15:34:01,674 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-19 15:34:01,674 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-19 15:34:01,679 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-19 15:34:02,182 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-19 15:34:02,183 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-19 15:34:02,184 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-19 15:34:02,184 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-19 15:34:02,184 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['베어유', '시크릿', '0 day', '데일리', '뚜레쥬르', '에이닷이빵쏜닷']
2025-08-19 15:34:02,184 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-19 15:34:09,341 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-19 15:34:09,341 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-19 15:34:09,349 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-19 15:34:09,350 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-19 15:34:09,462 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-19 15:34:09,462 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-19 15:34:09,462 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-19 15:34:09,467 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-19 15:34:09,472 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-19 15:34:09,472 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-19 15:34:09,475 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-19 15:34:09,478 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-19 15:34:09,478 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-19 15:34:09,479 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.80초
2025-08-19 15:34:09,479 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-19 15:34:09,479 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-19 15:34:09,479 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-19 15:34:09,681 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-19 15:34:09,681 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-19 15:34:09,681 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-19 15:34:09,681 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-19 15:34:09,681 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-19 15:34:09,681 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-19 15:34:09,681 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-19 15:34:09,681 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-19 15:34:09,682 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-19 15:34:09,682 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-19 15:34:09,682 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-19 15:34:09,682 - mms_extractor - INFO - 구성된 프롬프트 길이: 6209 문자
2025-08-19 15:34:09,682 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-19 15:34:16,770 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:34:16,782 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-19 15:34:16,782 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-19 15:34:16,783 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-19 15:34:16,783 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-19 15:34:16,783 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-19 15:34:16,783 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-19 15:34:16,783 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-19 15:34:16,783 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-19 15:34:17,815 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:34:18,158 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.37초
2025-08-19 15:34:18,166 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-19 15:34:35,336 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:34:35,832 - mms_extractor - INFO - ============================================================
2025-08-19 15:34:35,832 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-19 15:34:35,832 - mms_extractor - INFO - ============================================================
2025-08-19 15:34:35,833 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-19 15:34:35,833 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-19 15:34:35,833 - mms_extractor - INFO - 상품 수: 3개
2025-08-19 15:34:35,833 - mms_extractor - INFO - 채널 수: 4개
2025-08-19 15:34:35,833 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-19 15:34:35,833 - mms_extractor - INFO - process_message 실행완료: 34.16초
2025-08-19 15:34:35,833 - __main__ - INFO - 추출 완료: 34.159초
2025-08-19 15:34:35,834 - werkzeug - INFO - 127.0.0.1 - - [19/Aug/2025 15:34:35] "POST /extract HTTP/1.1" 200 -
2025-08-19 15:34:56,430 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-19 15:34:56,431 - mms_extractor - INFO - ============================================================
2025-08-19 15:34:56,431 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-19 15:34:56,431 - mms_extractor - INFO - ============================================================
2025-08-19 15:34:56,431 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-19 15:34:56,431 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-19 15:34:56,431 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-19 15:34:56,431 - mms_extractor - INFO - 데이터 소스: local
2025-08-19 15:34:56,431 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-19 15:34:56,431 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-19 15:34:56,431 - mms_extractor - INFO - LLM 모델: ax
2025-08-19 15:34:56,431 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-19 15:34:56,431 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-19 15:34:56,431 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-19 15:34:56,431 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-19 15:34:56,431 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-19 15:34:56,439 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-19 15:34:56,440 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-19 15:34:56,441 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-19 15:34:56,442 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-19 15:34:56,442 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-19 15:34:56,442 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['베어유', '시크릿', '0 day', '데일리', '뚜레쥬르', '에이닷이빵쏜닷']
2025-08-19 15:34:56,442 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-19 15:34:57,526 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-19 15:34:57,526 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-19 15:34:57,526 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-19 15:34:57,527 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-19 15:34:57,645 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-19 15:34:57,646 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-19 15:34:57,646 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-19 15:34:57,650 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-19 15:34:57,654 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-19 15:34:57,655 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-19 15:34:57,656 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-19 15:34:57,659 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-19 15:34:57,660 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-19 15:34:57,660 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.23초
2025-08-19 15:34:57,660 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-19 15:34:57,660 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-19 15:34:57,660 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-19 15:34:57,811 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-19 15:34:57,811 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-19 15:34:57,811 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-19 15:34:57,811 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-19 15:34:57,811 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-19 15:34:57,811 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day' '뚜레쥬르' '베어유' '시크릿' 'T쿠폰' 'data' '우드' 'T 에이스' 'CU(0 day)'
 'LTE 혜택 안내']
2025-08-19 15:34:57,811 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-19 15:34:57,811 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-19 15:34:57,811 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-19 15:34:57,811 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-19 15:34:57,811 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-19 15:34:57,811 - mms_extractor - INFO - 구성된 프롬프트 길이: 6209 문자
2025-08-19 15:34:57,811 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-19 15:35:04,484 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:35:04,485 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-19 15:35:04,485 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-19 15:35:04,485 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-19 15:35:04,485 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-19 15:35:04,485 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-19 15:35:04,486 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-19 15:35:04,487 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-19 15:35:04,487 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-19 15:35:05,433 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:35:05,702 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.22초
2025-08-19 15:35:05,711 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-19 15:35:22,654 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:35:22,880 - mms_extractor - INFO - ============================================================
2025-08-19 15:35:22,880 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-19 15:35:22,880 - mms_extractor - INFO - ============================================================
2025-08-19 15:35:22,880 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-19 15:35:22,880 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-19 15:35:22,880 - mms_extractor - INFO - 상품 수: 3개
2025-08-19 15:35:22,880 - mms_extractor - INFO - 채널 수: 4개
2025-08-19 15:35:22,880 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-19 15:35:22,881 - mms_extractor - INFO - process_message 실행완료: 26.45초
2025-08-19 15:35:22,881 - __main__ - INFO - 추출 완료: 26.450초
2025-08-19 15:35:22,881 - werkzeug - INFO - 127.0.0.1 - - [19/Aug/2025 15:35:22] "POST /extract HTTP/1.1" 200 -
2025-08-20 10:23:38,892 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-20 10:23:38,892 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-20 10:23:38,892 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-20 10:23:38,892 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-20 10:23:38,892 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-20 10:23:38,967 - mms_extractor - INFO - Using device: mps
2025-08-20 10:23:38,967 - mms_extractor - INFO - _initialize_device 실행완료: 0.07초
2025-08-20 10:23:38,967 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 10:23:38,967 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 10:23:38,967 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-20 10:23:38,968 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-20 10:23:38,968 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-20 10:23:43,909 - mms_extractor - INFO - Model loaded on mps
2025-08-20 10:23:43,909 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 4.94초
2025-08-20 10:23:44,455 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-20 10:23:44,455 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.55초
2025-08-20 10:23:44,455 - mms_extractor - INFO - ============================================================
2025-08-20 10:23:44,455 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-20 10:23:44,455 - mms_extractor - INFO - ============================================================
2025-08-20 10:23:44,455 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-20 10:23:44,455 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-20 10:23:44,455 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-20 10:23:44,455 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-20 10:23:44,455 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-20 10:23:44,576 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-20 10:23:44,576 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-20 10:23:44,587 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-20 10:23:44,594 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-20 10:23:44,598 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 10:23:44,601 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-20 10:23:44,601 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-20 10:23:44,602 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-20 10:23:44,602 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-20 10:23:44,602 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-20 10:23:44,602 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-20 10:23:44,602 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-20 10:23:44,610 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-20 10:23:44,611 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-20 10:23:44,611 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-20 10:23:44,968 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-20 10:23:44,970 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-20 10:23:44,970 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-20 10:23:44,971 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-20 10:23:44,971 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-20 10:23:44,972 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-20 10:23:44,972 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-20 10:23:44,972 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-20 10:23:44,972 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-20 10:23:44,980 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-20 10:23:44,983 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-20 10:23:44,983 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 10:23:45,035 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-20 10:23:45,035 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-20 10:23:45,035 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-20 10:23:45,047 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-20 10:23:45,047 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-20 10:23:45,266 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-20 10:23:45,266 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-20 10:23:45,266 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-20 10:23:45,769 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-20 10:23:45,770 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-20 10:23:45,770 - mms_extractor - INFO - ============================================================
2025-08-20 10:23:45,770 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-20 10:23:45,770 - mms_extractor - INFO - ============================================================
2025-08-20 10:23:45,770 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-20 10:23:45,770 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-20 10:23:45,770 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-20 10:23:45,770 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-20 10:23:45,770 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-20 10:23:45,774 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-20 10:23:45,781 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-20 10:23:45,784 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-20 10:23:45,784 - mms_extractor - INFO - _load_data 실행완료: 1.33초
2025-08-20 10:23:45,785 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-20 10:23:45,785 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-20 10:23:45,785 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-20 10:23:45,785 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-20 10:23:45,785 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-20 10:23:45,785 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-20 10:23:45,785 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-20 10:23:45,785 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-20 10:23:45,785 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-20 10:23:45,785 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-20 10:23:45,785 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-20 10:23:45,796 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.24.218:8000
2025-08-20 10:23:45,796 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-20 10:23:55,333 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:23:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:24:04,014 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:24:04] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 10:24:04,017 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 10:24:04,018 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 10:24:04,018 - mms_extractor - INFO - ============================================================
2025-08-20 10:24:04,018 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 10:24:04,018 - mms_extractor - INFO - ============================================================
2025-08-20 10:24:04,018 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 10:24:04,018 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 10:24:04,018 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 10:24:04,018 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 10:24:04,018 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 10:24:04,018 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 10:24:04,018 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 10:24:04,018 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 10:24:04,019 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 10:24:04,019 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 10:24:04,019 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 10:24:04,019 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 10:24:04,034 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 10:24:04,544 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 10:24:04,545 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 10:24:04,546 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 10:24:04,546 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 10:24:04,546 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['키즈폰', 'ZEM폰 포켓몬에디션3', '아이']
2025-08-20 10:24:04,546 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 10:24:11,322 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 10:24:11,322 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 10:24:11,332 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 10:24:11,332 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 10:24:11,428 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 10:24:11,428 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 10:24:11,428 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 10:24:11,431 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 10:24:11,436 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 10:24:11,436 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 10:24:11,439 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 10:24:11,442 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 10:24:11,443 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 10:24:11,443 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.42초
2025-08-20 10:24:11,443 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 10:24:11,443 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 10:24:11,443 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 10:24:11,651 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 10:24:11,651 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 10:24:11,651 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 10:24:11,651 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 10:24:11,651 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 10:24:11,651 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 10:24:11,651 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 10:24:11,651 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 10:24:11,651 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 10:24:11,652 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 10:24:11,652 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 10:24:11,652 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 10:24:11,652 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 10:24:11,652 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 10:24:18,381 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 10:24:18,397 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 10:24:18,397 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 10:24:18,397 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 10:24:18,397 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 10:24:18,397 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 10:24:18,397 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 10:24:18,398 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 10:24:18,398 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 10:24:18,745 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 10:24:18,745 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 10:24:18,745 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 10:24:18,745 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 10:24:18,745 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x128d98b90> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x128d98ef0> root_client=<openai.OpenAI object at 0x128d83df0> root_async_client=<openai.AsyncOpenAI object at 0x128d98cb0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 10:24:18,745 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 10:24:18,745 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 10:24:25,251 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:24:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:24:39,120 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 10:24:39,124 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2313자
2025-08-20 10:24:39,124 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 10:24:39,124 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 10:24:39,125 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 175자
2025-08-20 10:24:39,126 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 10:24:39,129 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-20 10:24:39,129 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스:수령']
2025-08-20 10:24:39,129 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스:수령')]
2025-08-20 10:24:39,130 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 10:24:39,130 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 10:24:39,130 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-20 10:24:39,132 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 10:24:40,457 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 10:24:40,457 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 10:24:40,457 - mms_extractor - INFO - 🕒 DAG 처리 시간: 21.712초
2025-08-20 10:24:40,457 - mms_extractor - INFO - 📏 DAG 섹션 길이: 175자
2025-08-20 10:24:40,457 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스:수령)...
2025-08-20 10:24:40,457 - mms_extractor - INFO - ============================================================
2025-08-20 10:24:40,457 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 10:24:40,457 - mms_extractor - INFO - ============================================================
2025-08-20 10:24:40,457 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 10:24:40,457 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 10:24:40,457 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 10:24:40,457 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 10:24:40,457 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 10:24:40,458 - mms_extractor - INFO - process_message 실행완료: 36.44초
2025-08-20 10:24:40,458 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 175자
2025-08-20 10:24:40,458 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디...
2025-08-20 10:24:40,458 - __main__ - INFO - 추출 완료: 36.440초
2025-08-20 10:24:40,458 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:24:40] "POST /extract HTTP/1.1" 200 -
2025-08-20 10:24:55,255 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:24:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:25:25,251 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:25:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:25:55,249 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:25:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:26:25,247 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:26:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:26:55,247 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:26:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:27:25,249 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:27:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:27:55,245 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:27:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:28:25,253 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:28:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:28:55,249 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:28:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:29:25,248 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:29:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:29:55,244 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:29:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:30:25,244 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:30:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:30:55,244 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:30:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:31:03,168 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:31:03] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 10:31:03,171 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 10:31:03,171 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 10:31:03,172 - mms_extractor - INFO - ============================================================
2025-08-20 10:31:03,172 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 10:31:03,172 - mms_extractor - INFO - ============================================================
2025-08-20 10:31:03,172 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 10:31:03,172 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 10:31:03,172 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 10:31:03,172 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 10:31:03,172 - mms_extractor - INFO - 상품 정보 추출 모드: rag
2025-08-20 10:31:03,172 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 10:31:03,172 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 10:31:03,172 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 10:31:03,172 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 10:31:03,173 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 10:31:03,174 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 10:31:03,174 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 10:31:03,193 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 10:31:03,209 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 10:31:03,210 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 10:31:03,213 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 10:31:03,213 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 10:31:03,213 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['키즈폰', 'ZEM폰 포켓몬에디션3', '아이']
2025-08-20 10:31:03,213 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 10:31:14,481 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 10:31:14,481 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 10:31:14,482 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 10:31:14,482 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 10:31:14,565 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 10:31:14,565 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 10:31:14,565 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 10:31:14,567 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 10:31:14,571 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 10:31:14,571 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 10:31:14,572 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 10:31:14,576 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 10:31:14,576 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 10:31:14,577 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 11.40초
2025-08-20 10:31:14,577 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 10:31:14,577 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 10:31:14,577 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 10:31:14,731 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 10:31:14,731 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 10:31:14,731 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 10:31:14,731 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 10:31:14,731 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 10:31:14,731 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 10:31:14,731 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 10:31:14,731 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 10:31:14,731 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 10:31:14,731 - mms_extractor - INFO - RAG 모드: 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 10:31:14,731 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 10:31:14,731 - mms_extractor - INFO - 구성된 프롬프트 길이: 5877 문자
2025-08-20 10:31:14,731 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 10:31:20,309 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 10:31:20,313 - mms_extractor - INFO - LLM 응답 길이: 779 문자
2025-08-20 10:31:20,313 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
        },
        {
            "type": "대리점",
            "value": "가까운 T world 매장",
            "action": "추가 정보"
        },
        {
            "type": "URL",
  ...
2025-08-20 10:31:20,313 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 10:31:20,314 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 10:31:20,314 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 10:31:20,314 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '추가 정보'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 10:31:20,314 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 10:31:20,314 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3']
2025-08-20 10:31:20,599 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 10:31:20,599 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 10:31:20,599 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 10:31:20,599 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 10:31:20,599 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x128d98b90> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x128d98ef0> root_client=<openai.OpenAI object at 0x128d83df0> root_async_client=<openai.AsyncOpenAI object at 0x128d98cb0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 10:31:20,599 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 10:31:20,599 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 10:31:25,247 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:31:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:31:42,340 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 10:31:42,342 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2418자
2025-08-20 10:31:42,343 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 10:31:42,343 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 10:31:42,344 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-20 10:31:42,344 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 10:31:42,344 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 7, 엣지 수: 6
2025-08-20 10:31:42,344 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM 앱:사용']
2025-08-20 10:31:42,345 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 앱:사용'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매')]
2025-08-20 10:31:42,345 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 10:31:42,345 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 10:31:42,345 - utils - INFO - 📊 입력 그래프 - 노드 수: 7, 엣지 수: 6
2025-08-20 10:31:42,346 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 10:31:42,679 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 10:31:42,680 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 10:31:42,680 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.081초
2025-08-20 10:31:42,680 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-20 10:31:42,680 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-20 10:31:42,680 - mms_extractor - INFO - ============================================================
2025-08-20 10:31:42,680 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 10:31:42,680 - mms_extractor - INFO - ============================================================
2025-08-20 10:31:42,680 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 10:31:42,680 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 10:31:42,680 - mms_extractor - INFO - 상품 수: 1개
2025-08-20 10:31:42,680 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 10:31:42,680 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 10:31:42,680 - mms_extractor - INFO - process_message 실행완료: 39.51초
2025-08-20 10:31:42,680 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 270자
2025-08-20 10:31:42,680 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 ...
2025-08-20 10:31:42,680 - __main__ - INFO - 추출 완료: 39.509초
2025-08-20 10:31:42,681 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:31:42] "POST /extract HTTP/1.1" 200 -
2025-08-20 10:31:55,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:31:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:32:25,247 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:32:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:32:55,243 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:32:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:33:25,244 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:33:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:33:55,246 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:33:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:34:25,245 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:34:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:34:55,242 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:34:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:35:25,245 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:35:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:35:55,243 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:35:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:36:25,243 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:36:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:36:55,242 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:36:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:37:25,242 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:37:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:37:55,244 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:37:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:38:25,242 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:38:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:38:55,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:38:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:39:25,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:39:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:39:55,240 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:39:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:40:25,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:40:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:40:55,240 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:40:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:41:25,238 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:41:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:41:55,240 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:41:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:42:25,236 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:42:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:42:55,234 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:42:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:43:59,189 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-20 10:43:59,189 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-20 10:43:59,189 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-20 10:43:59,190 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-20 10:43:59,190 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-20 10:43:59,225 - mms_extractor - INFO - Using device: mps
2025-08-20 10:43:59,226 - mms_extractor - INFO - _initialize_device 실행완료: 0.03초
2025-08-20 10:43:59,226 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 10:43:59,226 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 10:43:59,226 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-20 10:43:59,226 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-20 10:43:59,226 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-20 10:44:08,151 - mms_extractor - INFO - Model loaded on mps
2025-08-20 10:44:08,151 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 8.93초
2025-08-20 10:44:08,598 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-20 10:44:08,598 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.45초
2025-08-20 10:44:08,598 - mms_extractor - INFO - ============================================================
2025-08-20 10:44:08,598 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-20 10:44:08,598 - mms_extractor - INFO - ============================================================
2025-08-20 10:44:08,598 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-20 10:44:08,598 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-20 10:44:08,598 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-20 10:44:08,598 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-20 10:44:08,598 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-20 10:44:08,709 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-20 10:44:08,709 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-20 10:44:08,717 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-20 10:44:08,721 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-20 10:44:08,722 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 10:44:08,724 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-20 10:44:08,724 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-20 10:44:08,724 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-20 10:44:08,724 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-20 10:44:08,725 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-20 10:44:08,725 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-20 10:44:08,725 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-20 10:44:08,733 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-20 10:44:08,734 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-20 10:44:08,734 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-20 10:44:09,071 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-20 10:44:09,073 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-20 10:44:09,073 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-20 10:44:09,073 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-20 10:44:09,073 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-20 10:44:09,074 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-20 10:44:09,074 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-20 10:44:09,074 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-20 10:44:09,074 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-20 10:44:09,081 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-20 10:44:09,083 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-20 10:44:09,084 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 10:44:09,127 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-20 10:44:09,127 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-20 10:44:09,127 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-20 10:44:09,143 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-20 10:44:09,143 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-20 10:44:09,314 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-20 10:44:09,314 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-20 10:44:09,314 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-20 10:44:09,784 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-20 10:44:09,784 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-20 10:44:09,784 - mms_extractor - INFO - ============================================================
2025-08-20 10:44:09,785 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-20 10:44:09,785 - mms_extractor - INFO - ============================================================
2025-08-20 10:44:09,785 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-20 10:44:09,785 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-20 10:44:09,785 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-20 10:44:09,785 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-20 10:44:09,785 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-20 10:44:09,789 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-20 10:44:09,796 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-20 10:44:09,799 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-20 10:44:09,799 - mms_extractor - INFO - _load_data 실행완료: 1.20초
2025-08-20 10:44:09,799 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-20 10:44:09,799 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-20 10:44:09,799 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-20 10:44:09,799 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-20 10:44:09,799 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-20 10:44:09,799 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-20 10:44:09,799 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-20 10:44:09,799 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-20 10:44:09,799 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-20 10:44:09,799 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-20 10:44:09,799 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-20 10:44:09,839 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.24.218:8000
2025-08-20 10:44:09,839 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-20 10:44:25,242 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:44:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:44:55,239 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:44:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:45:25,237 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:45:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:45:55,237 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:45:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:46:25,236 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:46:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:46:55,237 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:46:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:47:25,238 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:47:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:47:55,820 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:47:55] "GET /health HTTP/1.1" 200 -
2025-08-20 10:48:25,824 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:48:25] "GET /health HTTP/1.1" 200 -
2025-08-20 10:49:02,158 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:49:02] "GET /health HTTP/1.1" 200 -
2025-08-20 10:49:06,211 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:49:06] "GET /health HTTP/1.1" 200 -
2025-08-20 10:49:07,841 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:49:07] "GET /health HTTP/1.1" 200 -
2025-08-20 10:49:09,792 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:49:09] "GET /health HTTP/1.1" 200 -
2025-08-20 10:49:13,512 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:49:13] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 10:49:13,515 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 10:49:13,516 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 10:49:13,516 - mms_extractor - INFO - ============================================================
2025-08-20 10:49:13,516 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 10:49:13,516 - mms_extractor - INFO - ============================================================
2025-08-20 10:49:13,516 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 10:49:13,517 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 10:49:13,517 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 10:49:13,517 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 10:49:13,517 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 10:49:13,517 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 10:49:13,517 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 10:49:13,517 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 10:49:13,517 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 10:49:13,517 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 10:49:13,517 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 10:49:13,517 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 10:49:13,536 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 10:49:14,046 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 10:49:14,046 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 10:49:14,047 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 10:49:14,047 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 10:49:14,047 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['아이', 'ZEM폰 포켓몬에디션3', '키즈폰']
2025-08-20 10:49:14,047 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 10:49:20,672 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 10:49:20,672 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 10:49:20,682 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 10:49:20,682 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 10:49:20,778 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 10:49:20,779 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 10:49:20,779 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 10:49:20,781 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 10:49:20,786 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 10:49:20,787 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 10:49:20,788 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 10:49:20,791 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 10:49:20,792 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 10:49:20,792 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.27초
2025-08-20 10:49:20,792 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 10:49:20,792 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 10:49:20,792 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 10:49:21,104 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 10:49:21,104 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 10:49:21,104 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 10:49:21,104 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 10:49:21,104 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 10:49:21,104 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 10:49:21,104 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 10:49:21,104 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 10:49:21,104 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 10:49:21,105 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 10:49:21,106 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 10:49:21,106 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 10:49:21,106 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 10:49:21,106 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 10:49:27,655 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 10:49:27,666 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 10:49:27,666 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 10:49:27,666 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 10:49:27,667 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 10:49:27,667 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 10:49:27,667 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 10:49:27,667 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 10:49:27,668 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 10:49:28,015 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 10:49:28,015 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 10:49:28,015 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 10:49:28,015 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 10:49:28,015 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x124d98a70> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x124d98dd0> root_client=<openai.OpenAI object at 0x124c7c5a0> root_async_client=<openai.AsyncOpenAI object at 0x124d98b90> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 10:49:28,015 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 10:49:28,015 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 10:49:39,788 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:49:39] "GET /health HTTP/1.1" 200 -
2025-08-20 10:49:49,809 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 10:49:49,812 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2404자
2025-08-20 10:49:49,812 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 다양한 특별 혜택을 강조합니다. 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 등의 혜택을 통해 구매를 유도하고 있습니다.

[식별된 가치 제안 목록]
...
2025-08-20 10:49:49,813 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 10:49:49,814 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-20 10:49:49,814 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 10:49:49,815 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 7, 엣지 수: 6
2025-08-20 10:49:49,816 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM 앱:사용']
2025-08-20 10:49:49,816 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 앱:사용'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매')]
2025-08-20 10:49:49,816 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 10:49:49,817 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 10:49:49,817 - utils - INFO - 📊 입력 그래프 - 노드 수: 7, 엣지 수: 6
2025-08-20 10:49:49,819 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 10:49:50,535 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 10:49:50,536 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 10:49:50,536 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.521초
2025-08-20 10:49:50,536 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-20 10:49:50,536 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-20 10:49:50,536 - mms_extractor - INFO - ============================================================
2025-08-20 10:49:50,536 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 10:49:50,536 - mms_extractor - INFO - ============================================================
2025-08-20 10:49:50,536 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 10:49:50,536 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 10:49:50,536 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 10:49:50,536 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 10:49:50,536 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 10:49:50,536 - mms_extractor - INFO - process_message 실행완료: 37.02초
2025-08-20 10:49:50,536 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 270자
2025-08-20 10:49:50,536 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 ...
2025-08-20 10:49:50,537 - __main__ - INFO - 추출 완료: 37.021초
2025-08-20 10:49:50,537 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:49:50] "POST /extract HTTP/1.1" 200 -
2025-08-20 10:50:09,786 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:50:09] "GET /health HTTP/1.1" 200 -
2025-08-20 10:50:39,785 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:50:39] "GET /health HTTP/1.1" 200 -
2025-08-20 10:56:08,836 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-20 10:56:08,836 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-20 10:56:08,836 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-20 10:56:08,836 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-20 10:56:08,836 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-20 10:56:08,859 - mms_extractor - INFO - Using device: mps
2025-08-20 10:56:08,859 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-20 10:56:08,860 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 10:56:08,860 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 10:56:08,860 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-20 10:56:08,860 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-20 10:56:08,860 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-20 10:56:09,931 - mms_extractor - INFO - Model loaded on mps
2025-08-20 10:56:09,931 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 1.07초
2025-08-20 10:56:10,341 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-20 10:56:10,341 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.41초
2025-08-20 10:56:10,342 - mms_extractor - INFO - ============================================================
2025-08-20 10:56:10,342 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-20 10:56:10,342 - mms_extractor - INFO - ============================================================
2025-08-20 10:56:10,342 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-20 10:56:10,342 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-20 10:56:10,342 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-20 10:56:10,342 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-20 10:56:10,342 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-20 10:56:10,450 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-20 10:56:10,450 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-20 10:56:10,458 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-20 10:56:10,462 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-20 10:56:10,463 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 10:56:10,465 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-20 10:56:10,465 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-20 10:56:10,466 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-20 10:56:10,466 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-20 10:56:10,466 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-20 10:56:10,466 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-20 10:56:10,466 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-20 10:56:10,468 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-20 10:56:10,468 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-20 10:56:10,468 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-20 10:56:10,826 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-20 10:56:10,828 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-20 10:56:10,828 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-20 10:56:10,828 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-20 10:56:10,828 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-20 10:56:10,830 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-20 10:56:10,830 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-20 10:56:10,830 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-20 10:56:10,830 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-20 10:56:10,839 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-20 10:56:10,843 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-20 10:56:10,843 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 10:56:10,901 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-20 10:56:10,901 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-20 10:56:10,901 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-20 10:56:10,903 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-20 10:56:10,903 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-20 10:56:11,045 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-20 10:56:11,045 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-20 10:56:11,045 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-20 10:56:11,516 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-20 10:56:11,516 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-20 10:56:11,516 - mms_extractor - INFO - ============================================================
2025-08-20 10:56:11,516 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-20 10:56:11,516 - mms_extractor - INFO - ============================================================
2025-08-20 10:56:11,516 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-20 10:56:11,516 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-20 10:56:11,516 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-20 10:56:11,516 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-20 10:56:11,516 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-20 10:56:11,521 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-20 10:56:11,527 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-20 10:56:11,531 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-20 10:56:11,531 - mms_extractor - INFO - _load_data 실행완료: 1.19초
2025-08-20 10:56:11,531 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-20 10:56:11,531 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-20 10:56:11,531 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-20 10:56:11,531 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-20 10:56:11,531 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-20 10:56:11,531 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-20 10:56:11,531 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-20 10:56:11,531 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-20 10:56:11,531 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-20 10:56:11,531 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-20 10:56:11,531 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-20 10:56:11,541 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.24.218:8000
2025-08-20 10:56:11,541 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-20 10:56:11,877 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:56:11] "GET /health HTTP/1.1" 200 -
2025-08-20 10:56:27,554 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:56:27] "GET /health HTTP/1.1" 200 -
2025-08-20 10:56:57,553 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:56:57] "GET /health HTTP/1.1" 200 -
2025-08-20 10:57:04,567 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:57:04] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 10:57:04,571 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 10:57:04,571 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 10:57:04,571 - mms_extractor - INFO - ============================================================
2025-08-20 10:57:04,571 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 10:57:04,571 - mms_extractor - INFO - ============================================================
2025-08-20 10:57:04,571 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 10:57:04,571 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 10:57:04,571 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 10:57:04,571 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 10:57:04,571 - mms_extractor - INFO - 상품 정보 추출 모드: rag
2025-08-20 10:57:04,571 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 10:57:04,571 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 10:57:04,571 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 10:57:04,572 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 10:57:04,572 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 10:57:04,572 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 10:57:04,572 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 10:57:04,589 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 10:57:05,094 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 10:57:05,094 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 10:57:05,096 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 10:57:05,096 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 10:57:05,096 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['아이', 'ZEM폰 포켓몬에디션3', '키즈폰']
2025-08-20 10:57:05,096 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 10:57:11,038 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 10:57:11,039 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 10:57:11,041 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 10:57:11,041 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 10:57:11,122 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 10:57:11,123 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 10:57:11,123 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 10:57:11,125 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 10:57:11,130 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 10:57:11,130 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 10:57:11,132 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 10:57:11,135 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 10:57:11,135 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 10:57:11,136 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 6.56초
2025-08-20 10:57:11,136 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 10:57:11,136 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 10:57:11,136 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 10:57:11,246 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 10:57:11,246 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 10:57:11,246 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 10:57:11,246 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 10:57:11,246 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 10:57:11,246 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 10:57:11,246 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 10:57:11,246 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 10:57:11,246 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 10:57:11,247 - mms_extractor - INFO - RAG 모드: 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 10:57:11,247 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 10:57:11,247 - mms_extractor - INFO - 구성된 프롬프트 길이: 5877 문자
2025-08-20 10:57:11,247 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 10:57:17,238 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 10:57:17,253 - mms_extractor - INFO - LLM 응답 길이: 779 문자
2025-08-20 10:57:17,253 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
        },
        {
            "type": "대리점",
            "value": "가까운 T world 매장",
            "action": "추가 정보"
        },
        {
            "type": "URL",
  ...
2025-08-20 10:57:17,253 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 10:57:17,253 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 10:57:17,253 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 10:57:17,253 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '추가 정보'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 10:57:17,253 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 10:57:17,254 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3']
2025-08-20 10:57:17,540 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 10:57:17,540 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 10:57:17,540 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 10:57:17,540 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 10:57:17,540 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x124e20a70> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x124e20dd0> root_client=<openai.OpenAI object at 0x124d005a0> root_async_client=<openai.AsyncOpenAI object at 0x124e20b90> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 10:57:17,540 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 10:57:17,540 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 10:57:27,557 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:57:27] "GET /health HTTP/1.1" 200 -
2025-08-20 10:57:37,593 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 10:57:37,597 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2227자
2025-08-20 10:57:37,597 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 10:57:37,597 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 10:57:37,598 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 182자
2025-08-20 10:57:37,599 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 10:57:37,600 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-20 10:57:37,601 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령']
2025-08-20 10:57:37,601 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령')]
2025-08-20 10:57:37,601 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 10:57:37,602 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 10:57:37,602 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-20 10:57:37,603 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 10:57:37,901 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 10:57:37,902 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 10:57:37,902 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.362초
2025-08-20 10:57:37,902 - mms_extractor - INFO - 📏 DAG 섹션 길이: 182자
2025-08-20 10:57:37,902 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)...
2025-08-20 10:57:37,902 - mms_extractor - INFO - ============================================================
2025-08-20 10:57:37,902 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 10:57:37,902 - mms_extractor - INFO - ============================================================
2025-08-20 10:57:37,902 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 10:57:37,902 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 10:57:37,902 - mms_extractor - INFO - 상품 수: 1개
2025-08-20 10:57:37,902 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 10:57:37,902 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 10:57:37,902 - mms_extractor - INFO - process_message 실행완료: 33.33초
2025-08-20 10:57:37,902 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 182자
2025-08-20 10:57:37,902 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디...
2025-08-20 10:57:37,902 - __main__ - INFO - 추출 완료: 33.332초
2025-08-20 10:57:37,903 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:57:37] "POST /extract HTTP/1.1" 200 -
2025-08-20 10:57:57,552 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:57:57] "GET /health HTTP/1.1" 200 -
2025-08-20 10:58:27,552 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:58:27] "GET /health HTTP/1.1" 200 -
2025-08-20 10:58:57,555 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:58:57] "GET /health HTTP/1.1" 200 -
2025-08-20 10:59:27,552 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:59:27] "GET /health HTTP/1.1" 200 -
2025-08-20 10:59:57,553 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 10:59:57] "GET /health HTTP/1.1" 200 -
2025-08-20 11:00:27,552 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:00:27] "GET /health HTTP/1.1" 200 -
2025-08-20 11:00:57,551 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:00:57] "GET /health HTTP/1.1" 200 -
2025-08-20 11:01:27,560 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:01:27] "GET /health HTTP/1.1" 200 -
2025-08-20 11:02:04,148 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-20 11:02:04,148 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-20 11:02:04,148 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-20 11:02:04,148 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-20 11:02:04,148 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-20 11:02:04,222 - mms_extractor - INFO - Using device: mps
2025-08-20 11:02:04,222 - mms_extractor - INFO - _initialize_device 실행완료: 0.07초
2025-08-20 11:02:04,222 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 11:02:04,222 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 11:02:04,222 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-20 11:02:04,223 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-20 11:02:04,223 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-20 11:02:11,498 - mms_extractor - INFO - Model loaded on mps
2025-08-20 11:02:11,498 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 7.28초
2025-08-20 11:02:11,971 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-20 11:02:11,971 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.47초
2025-08-20 11:02:11,971 - mms_extractor - INFO - ============================================================
2025-08-20 11:02:11,971 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-20 11:02:11,971 - mms_extractor - INFO - ============================================================
2025-08-20 11:02:11,971 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-20 11:02:11,971 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-20 11:02:11,971 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-20 11:02:11,971 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-20 11:02:11,971 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-20 11:02:12,083 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-20 11:02:12,083 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-20 11:02:12,092 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-20 11:02:12,096 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-20 11:02:12,097 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 11:02:12,100 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-20 11:02:12,100 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-20 11:02:12,100 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-20 11:02:12,100 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-20 11:02:12,100 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-20 11:02:12,100 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-20 11:02:12,100 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-20 11:02:12,108 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-20 11:02:12,109 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-20 11:02:12,109 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-20 11:02:12,461 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-20 11:02:12,463 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-20 11:02:12,463 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-20 11:02:12,463 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-20 11:02:12,463 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-20 11:02:12,471 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-20 11:02:12,472 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-20 11:02:12,472 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-20 11:02:12,472 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-20 11:02:12,479 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-20 11:02:12,483 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-20 11:02:12,483 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 11:02:12,539 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-20 11:02:12,539 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-20 11:02:12,539 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-20 11:02:12,549 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-20 11:02:12,549 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-20 11:02:12,731 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-20 11:02:12,731 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-20 11:02:12,731 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-20 11:02:13,239 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-20 11:02:13,239 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-20 11:02:13,239 - mms_extractor - INFO - ============================================================
2025-08-20 11:02:13,239 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-20 11:02:13,239 - mms_extractor - INFO - ============================================================
2025-08-20 11:02:13,239 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-20 11:02:13,239 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-20 11:02:13,239 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-20 11:02:13,239 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-20 11:02:13,239 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-20 11:02:13,244 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-20 11:02:13,251 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-20 11:02:13,255 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-20 11:02:13,255 - mms_extractor - INFO - _load_data 실행완료: 1.28초
2025-08-20 11:02:13,255 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-20 11:02:13,255 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-20 11:02:13,256 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-20 11:02:13,256 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-20 11:02:13,256 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-20 11:02:13,256 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-20 11:02:13,256 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-20 11:02:13,256 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-20 11:02:13,256 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-20 11:02:13,256 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-20 11:02:13,256 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-20 11:02:13,269 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.24.218:8000
2025-08-20 11:02:13,269 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-20 11:02:18,472 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:02:18] "GET /health HTTP/1.1" 200 -
2025-08-20 11:02:27,556 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:02:27] "GET /health HTTP/1.1" 200 -
2025-08-20 11:02:57,553 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:02:57] "GET /health HTTP/1.1" 200 -
2025-08-20 11:03:27,555 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:03:27] "GET /health HTTP/1.1" 200 -
2025-08-20 11:03:57,827 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:03:57] "GET /health HTTP/1.1" 200 -
2025-08-20 11:04:27,825 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:04:27] "GET /health HTTP/1.1" 200 -
2025-08-20 11:04:48,974 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:04:48] "GET /health HTTP/1.1" 200 -
2025-08-20 11:04:49,601 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:04:49] "GET /health HTTP/1.1" 200 -
2025-08-20 11:04:50,053 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:04:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:04:52,206 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:04:52] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:04:52,209 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 11:04:52,209 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:04:52,209 - mms_extractor - INFO - ============================================================
2025-08-20 11:04:52,209 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:04:52,209 - mms_extractor - INFO - ============================================================
2025-08-20 11:04:52,209 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 11:04:52,210 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 11:04:52,210 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:04:52,210 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:04:52,210 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 11:04:52,210 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 11:04:52,210 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 11:04:52,210 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:04:52,210 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:04:52,211 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:04:52,211 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:04:52,211 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 11:04:52,226 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:04:52,735 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 11:04:52,735 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 11:04:52,737 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 11:04:52,737 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 11:04:52,737 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['아이', '키즈폰', 'ZEM폰 포켓몬에디션3']
2025-08-20 11:04:52,737 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:05:06,655 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 11:05:06,656 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 11:05:06,665 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 11:05:06,665 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:05:06,748 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 11:05:06,748 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 11:05:06,748 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:05:06,751 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 11:05:06,756 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 11:05:06,756 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 11:05:06,758 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 11:05:06,761 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 11:05:06,761 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 11:05:06,761 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 14.55초
2025-08-20 11:05:06,761 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 11:05:06,761 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 11:05:06,762 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:05:06,864 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:05:06,864 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:05:06,864 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 11:05:06,864 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:05:06,864 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 11:05:06,864 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 11:05:06,864 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 11:05:06,864 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:05:06,864 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 11:05:06,865 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 11:05:06,865 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 11:05:06,865 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:05:06,865 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 11:05:06,865 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 11:05:13,540 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:05:13,554 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 11:05:13,554 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 11:05:13,554 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:05:13,555 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:05:13,555 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:05:13,555 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 11:05:13,555 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:05:13,555 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 11:05:13,900 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:05:13,900 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:05:13,900 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:05:13,900 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 11:05:13,900 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x128a50a70> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x128a50dd0> root_client=<openai.OpenAI object at 0x1289345a0> root_async_client=<openai.AsyncOpenAI object at 0x128a50b90> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:05:13,900 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:05:13,900 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 11:05:20,054 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:05:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:05:33,590 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:05:33,593 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2227자
2025-08-20 11:05:33,594 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 11:05:33,594 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:05:33,596 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 182자
2025-08-20 11:05:33,596 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:05:33,598 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-20 11:05:33,598 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령']
2025-08-20 11:05:33,599 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령')]
2025-08-20 11:05:33,599 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:05:33,599 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 11:05:33,599 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-20 11:05:33,601 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:05:34,354 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 11:05:34,355 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 11:05:34,355 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.455초
2025-08-20 11:05:34,355 - mms_extractor - INFO - 📏 DAG 섹션 길이: 182자
2025-08-20 11:05:34,355 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)...
2025-08-20 11:05:34,355 - mms_extractor - INFO - ============================================================
2025-08-20 11:05:34,355 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:05:34,355 - mms_extractor - INFO - ============================================================
2025-08-20 11:05:34,355 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 11:05:34,355 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 11:05:34,355 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 11:05:34,355 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:05:34,355 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:05:34,355 - mms_extractor - INFO - process_message 실행완료: 42.15초
2025-08-20 11:05:34,355 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 182자
2025-08-20 11:05:34,355 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디...
2025-08-20 11:05:34,355 - __main__ - INFO - 추출 완료: 42.147초
2025-08-20 11:05:34,356 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:05:34] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:05:50,052 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:05:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:06:20,050 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:06:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:06:50,049 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:06:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:07:20,050 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:07:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:07:50,050 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:07:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:08:20,050 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:08:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:08:50,045 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:08:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:09:13,951 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-20 11:09:13,951 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-20 11:09:13,951 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-20 11:09:13,951 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-20 11:09:13,951 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-20 11:09:13,976 - mms_extractor - INFO - Using device: mps
2025-08-20 11:09:13,976 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-20 11:09:13,976 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 11:09:13,976 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 11:09:13,976 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-20 11:09:13,977 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-20 11:09:13,977 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-20 11:09:15,173 - mms_extractor - INFO - Model loaded on mps
2025-08-20 11:09:15,173 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 1.20초
2025-08-20 11:09:15,642 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-20 11:09:15,642 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.47초
2025-08-20 11:09:15,642 - mms_extractor - INFO - ============================================================
2025-08-20 11:09:15,642 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-20 11:09:15,642 - mms_extractor - INFO - ============================================================
2025-08-20 11:09:15,642 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-20 11:09:15,642 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-20 11:09:15,642 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-20 11:09:15,642 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-20 11:09:15,642 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-20 11:09:15,755 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-20 11:09:15,755 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-20 11:09:15,764 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-20 11:09:15,768 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-20 11:09:15,770 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 11:09:15,772 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-20 11:09:15,772 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-20 11:09:15,772 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-20 11:09:15,772 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-20 11:09:15,773 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-20 11:09:15,773 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-20 11:09:15,773 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-20 11:09:15,775 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-20 11:09:15,776 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-20 11:09:15,776 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-20 11:09:16,125 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-20 11:09:16,127 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-20 11:09:16,127 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-20 11:09:16,127 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-20 11:09:16,127 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-20 11:09:16,128 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-20 11:09:16,128 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-20 11:09:16,128 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-20 11:09:16,128 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-20 11:09:16,136 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-20 11:09:16,139 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-20 11:09:16,139 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 11:09:16,189 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-20 11:09:16,190 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-20 11:09:16,190 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-20 11:09:16,192 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-20 11:09:16,192 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-20 11:09:16,347 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-20 11:09:16,347 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-20 11:09:16,347 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-20 11:09:16,848 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-20 11:09:16,848 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-20 11:09:16,848 - mms_extractor - INFO - ============================================================
2025-08-20 11:09:16,848 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-20 11:09:16,848 - mms_extractor - INFO - ============================================================
2025-08-20 11:09:16,848 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-20 11:09:16,848 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-20 11:09:16,848 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-20 11:09:16,848 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-20 11:09:16,848 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-20 11:09:16,853 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-20 11:09:16,860 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-20 11:09:16,864 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-20 11:09:16,864 - mms_extractor - INFO - _load_data 실행완료: 1.22초
2025-08-20 11:09:16,864 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-20 11:09:16,864 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-20 11:09:16,864 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-20 11:09:16,864 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-20 11:09:16,864 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-20 11:09:16,864 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-20 11:09:16,864 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-20 11:09:16,864 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-20 11:09:16,864 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-20 11:09:16,864 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-20 11:09:16,864 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-20 11:09:16,875 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.24.218:8000
2025-08-20 11:09:16,876 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-20 11:09:20,051 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:09:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:09:50,045 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:09:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:10:20,049 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:10:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:10:50,047 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:10:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:11:08,137 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:11:08] "GET /health HTTP/1.1" 200 -
2025-08-20 11:11:19,445 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:11:19] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:11:19,448 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 11:11:19,448 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:11:19,448 - mms_extractor - INFO - ============================================================
2025-08-20 11:11:19,448 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:11:19,448 - mms_extractor - INFO - ============================================================
2025-08-20 11:11:19,448 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 11:11:19,449 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 11:11:19,449 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:11:19,449 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:11:19,449 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 11:11:19,449 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 11:11:19,449 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 11:11:19,449 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:11:19,449 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:11:19,450 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:11:19,450 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:11:19,450 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 11:11:19,468 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:11:19,978 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 11:11:19,978 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 11:11:19,979 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 11:11:19,979 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 11:11:19,979 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '아이', '키즈폰']
2025-08-20 11:11:19,979 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:11:20,816 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:11:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:11:25,923 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 11:11:25,923 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 11:11:25,925 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 11:11:25,925 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:11:26,008 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 11:11:26,009 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 11:11:26,009 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:11:26,011 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 11:11:26,016 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 11:11:26,016 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 11:11:26,018 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 11:11:26,021 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 11:11:26,021 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 11:11:26,021 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 6.57초
2025-08-20 11:11:26,021 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 11:11:26,021 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 11:11:26,021 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:11:26,123 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:11:26,123 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:11:26,123 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 11:11:26,123 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:11:26,123 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 11:11:26,123 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 11:11:26,123 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 11:11:26,123 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:11:26,124 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 11:11:26,124 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 11:11:26,125 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 11:11:26,125 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:11:26,125 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 11:11:26,125 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 11:11:32,750 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:11:32,764 - mms_extractor - INFO - LLM 응답 길이: 935 문자
2025-08-20 11:11:32,764 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 11:11:32,764 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:11:32,765 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:11:32,765 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:11:32,765 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': 'T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 11:11:32,765 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:11:32,765 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 11:11:33,107 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:11:33,107 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:11:33,107 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:11:33,107 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 11:11:33,107 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x11b740a70> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x11b740dd0> root_client=<openai.OpenAI object at 0x11b6205a0> root_async_client=<openai.AsyncOpenAI object at 0x11b740b90> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:11:33,107 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:11:33,107 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 11:11:38,147 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:11:38] "GET /health HTTP/1.1" 200 -
2025-08-20 11:11:50,823 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:11:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:11:53,259 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:11:53,262 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2227자
2025-08-20 11:11:53,262 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 11:11:53,263 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:11:53,263 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 182자
2025-08-20 11:11:53,264 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:11:53,267 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-20 11:11:53,267 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령']
2025-08-20 11:11:53,268 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령')]
2025-08-20 11:11:53,268 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:11:53,268 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 11:11:53,268 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-20 11:11:53,270 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:11:53,611 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 11:11:53,611 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 11:11:53,611 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.504초
2025-08-20 11:11:53,611 - mms_extractor - INFO - 📏 DAG 섹션 길이: 182자
2025-08-20 11:11:53,611 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)...
2025-08-20 11:11:53,611 - mms_extractor - INFO - ============================================================
2025-08-20 11:11:53,611 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:11:53,611 - mms_extractor - INFO - ============================================================
2025-08-20 11:11:53,611 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 11:11:53,611 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 11:11:53,611 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 11:11:53,611 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:11:53,611 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:11:53,612 - mms_extractor - INFO - process_message 실행완료: 34.16초
2025-08-20 11:11:53,612 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 182자
2025-08-20 11:11:53,612 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디...
2025-08-20 11:11:53,612 - __main__ - INFO - 추출 완료: 34.164초
2025-08-20 11:11:53,612 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:11:53] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:12:08,145 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:12:08] "GET /health HTTP/1.1" 200 -
2025-08-20 11:12:38,143 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:12:38] "GET /health HTTP/1.1" 200 -
2025-08-20 11:13:08,143 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:13:08] "GET /health HTTP/1.1" 200 -
2025-08-20 11:13:18,824 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:13:18] "GET /health HTTP/1.1" 200 -
2025-08-20 11:13:38,138 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:13:38] "GET /health HTTP/1.1" 200 -
2025-08-20 11:13:50,650 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:13:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:14:08,137 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:14:08] "GET /health HTTP/1.1" 200 -
2025-08-20 11:14:38,135 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:14:38] "GET /health HTTP/1.1" 200 -
2025-08-20 11:15:08,137 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:15:08] "GET /health HTTP/1.1" 200 -
2025-08-20 11:15:38,136 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:15:38] "GET /health HTTP/1.1" 200 -
2025-08-20 11:15:55,673 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:15:55] "GET /health HTTP/1.1" 200 -
2025-08-20 11:16:01,900 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:16:01] "GET /health HTTP/1.1" 200 -
2025-08-20 11:16:30,081 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:16:30] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:16:30,084 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 11:16:30,084 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:16:30,084 - mms_extractor - INFO - ============================================================
2025-08-20 11:16:30,085 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:16:30,085 - mms_extractor - INFO - ============================================================
2025-08-20 11:16:30,085 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 11:16:30,085 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 11:16:30,085 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:16:30,085 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:16:30,085 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 11:16:30,085 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 11:16:30,085 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 11:16:30,085 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:16:30,085 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:16:30,085 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:16:30,086 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:16:30,086 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 11:16:30,103 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:16:30,115 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 11:16:30,115 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 11:16:30,119 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 11:16:30,119 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 11:16:30,119 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '아이', '키즈폰']
2025-08-20 11:16:30,119 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:16:30,556 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 11:16:30,556 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 11:16:30,556 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 11:16:30,556 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:16:30,640 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 11:16:30,640 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 11:16:30,640 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:16:30,642 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 11:16:30,646 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 11:16:30,646 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 11:16:30,647 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 11:16:30,651 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 11:16:30,651 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 11:16:30,651 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.57초
2025-08-20 11:16:30,651 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 11:16:30,651 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 11:16:30,651 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:16:30,758 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:16:30,758 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:16:30,758 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 11:16:30,758 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:16:30,758 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 11:16:30,758 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 11:16:30,758 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 11:16:30,758 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:16:30,758 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 11:16:30,759 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 11:16:30,759 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 11:16:30,759 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:16:30,759 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 11:16:30,759 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 11:16:31,905 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:16:31] "GET /health HTTP/1.1" 200 -
2025-08-20 11:16:37,091 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:16:37,099 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 11:16:37,099 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 11:16:37,099 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:16:37,100 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:16:37,100 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:16:37,101 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 11:16:37,101 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:16:37,101 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 11:16:37,438 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:16:37,438 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:16:37,438 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:16:37,438 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 11:16:37,438 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x11b740a70> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x11b740dd0> root_client=<openai.OpenAI object at 0x11b6205a0> root_async_client=<openai.AsyncOpenAI object at 0x11b740b90> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:16:37,438 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:16:37,438 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 11:16:59,711 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:16:59,713 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-20 11:16:59,713 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 11:16:59,714 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:16:59,714 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-20 11:16:59,715 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:16:59,717 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-20 11:16:59,717 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-20 11:16:59,718 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-20 11:16:59,718 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:16:59,719 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 11:16:59,719 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-20 11:16:59,720 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:17:00,028 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 11:17:00,028 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 11:17:00,028 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.590초
2025-08-20 11:17:00,028 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-20 11:17:00,028 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-20 11:17:00,028 - mms_extractor - INFO - ============================================================
2025-08-20 11:17:00,028 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:17:00,028 - mms_extractor - INFO - ============================================================
2025-08-20 11:17:00,028 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 11:17:00,028 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 11:17:00,028 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 11:17:00,028 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:17:00,028 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:17:00,028 - mms_extractor - INFO - process_message 실행완료: 29.94초
2025-08-20 11:17:00,028 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 275자
2025-08-20 11:17:00,028 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 ...
2025-08-20 11:17:00,028 - __main__ - INFO - 추출 완료: 29.944초
2025-08-20 11:17:00,029 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:17:00] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:17:01,907 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:17:01] "GET /health HTTP/1.1" 200 -
2025-08-20 11:17:31,906 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:17:31] "GET /health HTTP/1.1" 200 -
2025-08-20 11:18:01,899 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:18:01] "GET /health HTTP/1.1" 200 -
2025-08-20 11:18:31,902 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:18:31] "GET /health HTTP/1.1" 200 -
2025-08-20 11:19:01,899 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:19:01] "GET /health HTTP/1.1" 200 -
2025-08-20 11:19:31,902 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:19:31] "GET /health HTTP/1.1" 200 -
2025-08-20 11:20:01,901 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:20:01] "GET /health HTTP/1.1" 200 -
2025-08-20 11:20:31,899 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:20:31] "GET /health HTTP/1.1" 200 -
2025-08-20 11:21:01,901 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:21:01] "GET /health HTTP/1.1" 200 -
2025-08-20 11:21:31,900 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:21:31] "GET /health HTTP/1.1" 200 -
2025-08-20 11:22:01,902 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:22:01] "GET /health HTTP/1.1" 200 -
2025-08-20 11:22:07,701 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:22:07] "GET /health HTTP/1.1" 200 -
2025-08-20 11:22:19,251 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:22:19] "GET /health HTTP/1.1" 200 -
2025-08-20 11:22:20,876 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:22:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:22:24,491 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:22:24] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:22:24,494 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 11:22:24,494 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:22:24,494 - mms_extractor - INFO - ============================================================
2025-08-20 11:22:24,494 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:22:24,494 - mms_extractor - INFO - ============================================================
2025-08-20 11:22:24,494 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 11:22:24,494 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 11:22:24,494 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:22:24,494 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:22:24,494 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 11:22:24,495 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 11:22:24,495 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 11:22:24,495 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:22:24,495 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:22:24,495 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:22:24,495 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:22:24,495 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 11:22:24,511 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:22:24,513 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 11:22:24,513 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 11:22:24,515 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 11:22:24,515 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 11:22:24,515 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '아이', '키즈폰']
2025-08-20 11:22:24,515 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:22:42,984 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 11:22:42,985 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 11:22:42,985 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 11:22:42,986 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:22:43,068 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 11:22:43,068 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 11:22:43,068 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:22:43,071 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 11:22:43,074 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 11:22:43,074 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 11:22:43,075 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 11:22:43,079 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 11:22:43,079 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 11:22:43,080 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 18.58초
2025-08-20 11:22:43,080 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 11:22:43,080 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 11:22:43,080 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:22:43,337 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:22:43,337 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:22:43,337 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 11:22:43,337 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:22:43,337 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 11:22:43,337 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 11:22:43,337 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 11:22:43,337 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:22:43,337 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 11:22:43,338 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 11:22:43,338 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 11:22:43,338 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:22:43,338 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 11:22:43,338 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 11:22:49,713 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:22:49,717 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 11:22:49,717 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 11:22:49,717 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:22:49,717 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:22:49,718 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:22:49,718 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 11:22:49,718 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:22:49,718 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 11:22:50,078 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:22:50,078 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:22:50,078 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:22:50,078 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 11:22:50,079 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x11b740a70> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x11b740dd0> root_client=<openai.OpenAI object at 0x11b6205a0> root_async_client=<openai.AsyncOpenAI object at 0x11b740b90> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:22:50,079 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:22:50,079 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 11:22:50,882 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:22:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:23:12,332 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:23:12,335 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-20 11:23:12,335 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 11:23:12,336 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:23:12,336 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-20 11:23:12,336 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:23:12,337 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-20 11:23:12,338 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-20 11:23:12,338 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-20 11:23:12,338 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:23:12,339 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 11:23:12,339 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-20 11:23:12,340 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:23:12,993 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 11:23:12,994 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 11:23:12,994 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.915초
2025-08-20 11:23:12,994 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-20 11:23:12,994 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-20 11:23:12,994 - mms_extractor - INFO - ============================================================
2025-08-20 11:23:12,994 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:23:12,994 - mms_extractor - INFO - ============================================================
2025-08-20 11:23:12,994 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 11:23:12,994 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 11:23:12,994 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 11:23:12,994 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:23:12,994 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:23:12,995 - mms_extractor - INFO - process_message 실행완료: 48.50초
2025-08-20 11:23:12,995 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 275자
2025-08-20 11:23:12,995 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 ...
2025-08-20 11:23:12,995 - __main__ - INFO - 추출 완료: 48.501초
2025-08-20 11:23:12,995 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:23:12] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:23:20,882 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:23:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:23:26,480 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:23:26] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:23:26,483 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 284자
2025-08-20 11:23:26,484 - __main__ - INFO - LLM 모델이 ax -> claude로 변경됨. 재초기화 중...
2025-08-20 11:23:26,486 - mms_extractor - INFO - LLM 초기화 완료: claude (amazon/anthropic/claude-sonnet-4-20250514)
2025-08-20 11:23:26,486 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 11:23:26,486 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:23:26,486 - mms_extractor - INFO - ============================================================
2025-08-20 11:23:26,486 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:23:26,486 - mms_extractor - INFO - ============================================================
2025-08-20 11:23:26,486 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 11:23:26,486 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 11:23:26,487 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:23:26,487 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:23:26,487 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 11:23:26,487 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 11:23:26,487 - mms_extractor - INFO - LLM 모델: claude
2025-08-20 11:23:26,487 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:23:26,487 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:23:26,487 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:23:26,487 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:23:26,487 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 11:23:26,504 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:23:26,513 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 11:23:26,513 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 11:23:26,516 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 11:23:26,516 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 11:23:26,516 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['갤럭시', '버즈', 'YouTube Premium']
2025-08-20 11:23:26,516 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:23:26,915 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 11:23:26,915 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 11:23:26,915 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 11:23:26,915 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:23:27,036 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 11:23:27,037 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 11:23:27,037 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:23:27,039 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 11:23:27,042 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 11:23:27,043 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 11:23:27,043 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 11:23:27,048 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 11:23:27,048 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 11:23:27,048 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.56초
2025-08-20 11:23:27,048 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 11:23:27,048 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 11:23:27,048 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:23:27,092 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:23:27,093 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:23:27,093 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 11:23:27,093 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:23:27,093 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 11:23:27,093 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 11:23:27,093 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 11:23:27,093 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:23:27,093 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 11:23:27,093 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 11:23:27,093 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:23:27,093 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 11:23:27,093 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 11:23:35,436 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:23:35,439 - mms_extractor - INFO - LLM 응답 길이: 602 문자
2025-08-20 11:23:35,440 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "5G 요금제 특가 혜택",
    "purpose": ["상품 가입 유도", "혜택 안내", "대리점/매장 방문 유도"],
    "product": [
        {"name": "5G 슈퍼플랜", "action": "가입"},
        {"name": "YouTube Premium", "action": "사용"},
        {"name": "갤럭시 버즈", "action": "기타"}
    ],
    "channel": [
        {"type": "URL", "value": "m.tworld.co.kr", "action": "가입"},
        {"type": "대리점", "value": "전국 T world 매장", "action": "가입"},
        {"type": "전화번호", "value": "114", "action": "문의"},
        {"type": "전화번호", "value"...
2025-08-20 11:23:35,440 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:23:35,441 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:23:35,441 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:23:35,441 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도'], 'product': [{'name': '5G 슈퍼플랜', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '타사회선(가망)_win-back']}
2025-08-20 11:23:35,442 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:23:35,442 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 11:23:35,804 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:23:35,804 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:23:35,804 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:23:35,804 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 11:23:35,805 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1371916a0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x137192be0> root_client=<openai.OpenAI object at 0x1371918c0> root_async_client=<openai.AsyncOpenAI object at 0x137191bf0> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:23:35,805 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:23:35,805 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 11:23:50,883 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:23:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:23:55,674 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:23:55,675 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1759자
2025-08-20 11:23:55,676 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
T world에서 5G 슈퍼플랜 요금제 가입을 유도하는 광고로, 50% 할인된 특가와 다양한 부가 혜택(YouTube Premium, 갤럭시 버즈)을 제공하여 신규 고객 확보를 목표로 함. 온라인과 오프라인 두 가지 가입 경로를 제시.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 50% 할...
2025-08-20 11:23:55,676 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:23:55,676 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 754자
2025-08-20 11:23:55,677 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:23:55,677 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 7, 엣지 수: 6
2025-08-20 11:23:55,677 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world매장:방문', '5G슈퍼플랜:가입', 'm.tworld.co.kr:접속', '50%할인혜택:수령', '갤럭시버즈:수령', '5G슈퍼플랜서비스:사용', '가족추가회선:가입']
2025-08-20 11:23:55,678 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world매장:방문', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '50%할인혜택:수령'), ('5G슈퍼플랜:가입', '갤럭시버즈:수령'), ('5G슈퍼플랜:가입', '5G슈퍼플랜서비스:사용'), ('5G슈퍼플랜:가입', '가족추가회선:가입'), ('m.tworld.co.kr:접속', '5G슈퍼플랜:가입')]
2025-08-20 11:23:55,678 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:23:55,678 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 11:23:55,678 - utils - INFO - 📊 입력 그래프 - 노드 수: 7, 엣지 수: 6
2025-08-20 11:23:55,680 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:23:55,935 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 11:23:55,935 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 11:23:55,935 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.131초
2025-08-20 11:23:55,935 - mms_extractor - INFO - 📏 DAG 섹션 길이: 754자
2025-08-20 11:23:55,935 - mms_extractor - INFO - 📄 DAG 내용 미리보기: 
```
(T world매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(m.tworld.co.kr:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면]-> (50%할인혜택:수령)
(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)
(5G슈퍼플랜:가입) -[가입후]-> (5G슈퍼플랜서비스:사용)
(5G슈퍼플랜:가입) ...
2025-08-20 11:23:55,935 - mms_extractor - INFO - ============================================================
2025-08-20 11:23:55,935 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:23:55,935 - mms_extractor - INFO - ============================================================
2025-08-20 11:23:55,935 - mms_extractor - INFO - 제목: 5G 요금제 특가 혜택
2025-08-20 11:23:55,935 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도']
2025-08-20 11:23:55,935 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 11:23:55,935 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:23:55,935 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:23:55,936 - mms_extractor - INFO - process_message 실행완료: 29.45초
2025-08-20 11:23:55,936 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 754자
2025-08-20 11:23:55,936 - __main__ - INFO - DAG 내용 미리보기: 
```
(T world매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(m.tworld.co.kr:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입...
2025-08-20 11:23:55,936 - __main__ - INFO - 추출 완료: 29.452초
2025-08-20 11:23:55,936 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:23:55] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:24:20,881 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:24:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:24:50,880 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:24:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:25:20,880 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:25:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:25:50,877 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:25:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:26:20,879 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:26:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:26:50,878 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:26:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:27:20,880 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:27:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:27:50,879 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:27:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:28:20,876 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:28:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:28:50,875 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:28:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:29:20,878 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:29:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:29:31,224 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:29:31] "GET /health HTTP/1.1" 200 -
2025-08-20 11:29:37,487 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:29:37] "GET /health HTTP/1.1" 200 -
2025-08-20 11:29:38,294 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:29:38] "GET /health HTTP/1.1" 200 -
2025-08-20 11:29:38,998 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:29:38] "GET /health HTTP/1.1" 200 -
2025-08-20 11:29:43,569 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:29:43] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:29:43,571 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 11:29:43,571 - __main__ - INFO - LLM 모델이 claude -> ax로 변경됨. 재초기화 중...
2025-08-20 11:29:43,571 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 11:29:43,571 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 11:29:43,571 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:29:43,571 - mms_extractor - INFO - ============================================================
2025-08-20 11:29:43,571 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:29:43,571 - mms_extractor - INFO - ============================================================
2025-08-20 11:29:43,571 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 11:29:43,571 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 11:29:43,571 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:29:43,571 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:29:43,571 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 11:29:43,572 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 11:29:43,572 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 11:29:43,572 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:29:43,572 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:29:43,572 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:29:43,572 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:29:43,572 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 11:29:43,580 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:29:43,584 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 11:29:43,584 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 11:29:43,586 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 11:29:43,586 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 11:29:43,586 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 11:29:43,586 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:29:50,052 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 11:29:50,052 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 11:29:50,053 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 11:29:50,053 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:29:50,221 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 11:29:50,221 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 11:29:50,221 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:29:50,224 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 11:29:50,227 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 11:29:50,228 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 11:29:50,229 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 11:29:50,233 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 11:29:50,233 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 11:29:50,234 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 6.66초
2025-08-20 11:29:50,234 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 11:29:50,234 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 11:29:50,234 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:29:50,357 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:29:50,357 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:29:50,357 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 11:29:50,357 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:29:50,357 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 11:29:50,357 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 11:29:50,357 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 11:29:50,357 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:29:50,357 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 11:29:50,358 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 11:29:50,358 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 11:29:50,358 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:29:50,358 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 11:29:50,358 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 11:29:58,502 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:29:58,505 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-20 11:29:58,505 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-20 11:29:58,505 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:29:58,506 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:29:58,506 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:29:58,506 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 제공'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 11:29:58,506 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:29:58,506 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 11:29:59,566 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:30:00,398 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.89초
2025-08-20 11:30:00,406 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:30:00,406 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:30:00,406 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:30:00,406 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 11:30:00,406 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x137193130> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x137191ae0> root_client=<openai.OpenAI object at 0x113125550> root_async_client=<openai.AsyncOpenAI object at 0x137192140> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:30:00,406 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:30:00,406 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 11:30:09,007 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:30:09] "GET /health HTTP/1.1" 200 -
2025-08-20 11:30:22,959 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:30:22,961 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2526자
2025-08-20 11:30:22,961 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고 있다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택 (U...
2025-08-20 11:30:22,961 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:30:22,961 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 290자
2025-08-20 11:30:22,961 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:30:22,961 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 4, 엣지 수: 2
2025-08-20 11:30:22,961 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약', '추가혜택:수령']
2025-08-20 11:30:22,961 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 11:30:22,961 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:30:22,961 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 11:30:22,961 - utils - INFO - 📊 입력 그래프 - 노드 수: 4, 엣지 수: 2
2025-08-20 11:30:22,962 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:30:23,280 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 11:30:23,280 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 11:30:23,280 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.874초
2025-08-20 11:30:23,280 - mms_extractor - INFO - 📏 DAG 섹션 길이: 290자
2025-08-20 11:30:23,280 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약하면]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약하면]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (추가혜택:수령)

(매장:예약) -[예약하면]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(매장:예약) -[예약하면]-> (갤럭시 S...
2025-08-20 11:30:23,280 - mms_extractor - INFO - ============================================================
2025-08-20 11:30:23,280 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:30:23,280 - mms_extractor - INFO - ============================================================
2025-08-20 11:30:23,280 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-20 11:30:23,280 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 11:30:23,280 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 11:30:23,280 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:30:23,280 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:30:23,281 - mms_extractor - INFO - process_message 실행완료: 39.71초
2025-08-20 11:30:23,281 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 290자
2025-08-20 11:30:23,281 - __main__ - INFO - DAG 내용 미리보기: (T world 앱:예약) -[예약하면]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약하면]-> (갤럭시 S24 시리즈:구매...
2025-08-20 11:30:23,281 - __main__ - INFO - 추출 완료: 39.710초
2025-08-20 11:30:23,282 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:30:23] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:30:33,433 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:30:33] "GET /health HTTP/1.1" 200 -
2025-08-20 11:30:42,151 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:30:42] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:30:42,154 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 11:30:42,154 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:30:42,154 - mms_extractor - INFO - ============================================================
2025-08-20 11:30:42,154 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:30:42,155 - mms_extractor - INFO - ============================================================
2025-08-20 11:30:42,155 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 11:30:42,155 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 11:30:42,155 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:30:42,155 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:30:42,155 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 11:30:42,155 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 11:30:42,155 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 11:30:42,155 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:30:42,155 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:30:42,155 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:30:42,155 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:30:42,155 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 11:30:42,169 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:30:42,172 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 11:30:42,173 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 11:30:42,174 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 11:30:42,174 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 11:30:42,174 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 11:30:42,174 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:30:42,652 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 11:30:42,652 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 11:30:42,653 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 11:30:42,653 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:30:42,803 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 11:30:42,803 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 11:30:42,803 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:30:42,806 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 11:30:42,809 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 11:30:42,809 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 11:30:42,810 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 11:30:42,814 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 11:30:42,814 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 11:30:42,814 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.66초
2025-08-20 11:30:42,815 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 11:30:42,815 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 11:30:42,815 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:30:42,857 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:30:42,857 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:30:42,857 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 11:30:42,857 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:30:42,857 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 11:30:42,857 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 11:30:42,858 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 11:30:42,858 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:30:42,858 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 11:30:42,859 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 11:30:42,859 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 11:30:42,859 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:30:42,859 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 11:30:42,859 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 11:30:51,321 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:30:51,323 - mms_extractor - INFO - LLM 응답 길이: 1179 문자
2025-08-20 11:30:51,323 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24+",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 워치6",
            "action": "할인"
        },
        {
            "name": "무선충전기",
        ...
2025-08-20 11:30:51,323 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:30:51,324 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:30:51,324 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:30:51,324 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 11:30:51,324 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:30:51,324 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 11:30:52,323 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:30:53,168 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.84초
2025-08-20 11:30:53,175 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:30:53,175 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:30:53,175 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:30:53,175 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 11:30:53,175 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x137193130> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x137191ae0> root_client=<openai.OpenAI object at 0x113125550> root_async_client=<openai.AsyncOpenAI object at 0x137192140> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:30:53,175 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:30:53,175 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 11:31:03,440 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:31:03] "GET /health HTTP/1.1" 200 -
2025-08-20 11:31:22,260 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:31:22,261 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3231자
2025-08-20 11:31:22,261 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 11:31:22,261 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:31:22,261 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 504자
2025-08-20 11:31:22,261 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:31:22,262 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-20 11:31:22,262 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장 예약 링크:예약']
2025-08-20 11:31:22,262 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장 예약 링크:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 11:31:22,262 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:31:22,262 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 11:31:22,262 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-20 11:31:22,262 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:31:22,496 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 11:31:22,496 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 11:31:22,496 - mms_extractor - INFO - 🕒 DAG 처리 시간: 29.321초
2025-08-20 11:31:22,496 - mms_extractor - INFO - 📏 DAG 섹션 길이: 504자
2025-08-20 11:31:22,497 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-20 11:31:22,497 - mms_extractor - INFO - ============================================================
2025-08-20 11:31:22,497 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:31:22,497 - mms_extractor - INFO - ============================================================
2025-08-20 11:31:22,497 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-20 11:31:22,497 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 11:31:22,497 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 11:31:22,497 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:31:22,497 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:31:22,497 - mms_extractor - INFO - process_message 실행완료: 40.34초
2025-08-20 11:31:22,497 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 504자
2025-08-20 11:31:22,497 - __main__ - INFO - DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) ...
2025-08-20 11:31:22,497 - __main__ - INFO - 추출 완료: 40.343초
2025-08-20 11:31:22,498 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:31:22] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:31:33,439 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:31:33] "GET /health HTTP/1.1" 200 -
2025-08-20 11:32:03,816 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:32:03] "GET /health HTTP/1.1" 200 -
2025-08-20 11:32:33,439 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:32:33] "GET /health HTTP/1.1" 200 -
2025-08-20 11:33:03,434 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:33:03] "GET /health HTTP/1.1" 200 -
2025-08-20 11:33:33,440 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:33:33] "GET /health HTTP/1.1" 200 -
2025-08-20 11:34:03,433 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:34:03] "GET /health HTTP/1.1" 200 -
2025-08-20 11:34:33,807 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:34:33] "GET /health HTTP/1.1" 200 -
2025-08-20 11:35:03,811 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:35:03] "GET /health HTTP/1.1" 200 -
2025-08-20 11:35:33,432 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:35:33] "GET /health HTTP/1.1" 200 -
2025-08-20 11:36:03,432 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:36:03] "GET /health HTTP/1.1" 200 -
2025-08-20 11:36:33,432 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:36:33] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:02,883 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:02] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:03,432 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:03] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:32,146 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:32] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:33,435 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:33] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:37,678 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:37] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:40,500 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:40] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:41,039 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:41] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:41,539 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:41] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:41,767 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:41] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:41,961 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:41] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:42,126 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:42] "GET /health HTTP/1.1" 200 -
2025-08-20 11:37:45,059 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:37:45] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:37:45,062 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 11:37:45,062 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:37:45,062 - mms_extractor - INFO - ============================================================
2025-08-20 11:37:45,062 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:37:45,062 - mms_extractor - INFO - ============================================================
2025-08-20 11:37:45,062 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 11:37:45,062 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 11:37:45,062 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:37:45,063 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:37:45,063 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 11:37:45,063 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 11:37:45,063 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 11:37:45,063 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:37:45,063 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:37:45,063 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:37:45,063 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:37:45,063 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 11:37:45,086 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:37:45,090 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 11:37:45,091 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 11:37:45,092 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 11:37:45,092 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 11:37:45,093 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 11:37:45,093 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:38:02,356 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 11:38:02,357 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 11:38:02,357 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 11:38:02,357 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:38:02,503 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 11:38:02,504 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 11:38:02,504 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:38:02,507 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 11:38:02,510 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 11:38:02,510 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 11:38:02,511 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 11:38:02,515 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 11:38:02,515 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 11:38:02,515 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 17.45초
2025-08-20 11:38:02,516 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 11:38:02,516 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 11:38:02,516 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:38:02,669 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:38:02,669 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:38:02,669 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 11:38:02,669 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:38:02,669 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 11:38:02,669 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 11:38:02,670 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 11:38:02,670 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:38:02,670 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 11:38:02,671 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 11:38:02,671 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 11:38:02,671 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:38:02,671 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 11:38:02,671 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 11:38:10,506 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:38:10,514 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-20 11:38:10,515 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-20 11:38:10,515 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:38:10,516 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:38:10,516 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:38:10,516 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 11:38:10,516 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:38:10,517 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 11:38:11,496 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:38:12,147 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:38:12] "GET /health HTTP/1.1" 200 -
2025-08-20 11:38:12,367 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.85초
2025-08-20 11:38:12,374 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:38:12,374 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:38:12,374 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:38:12,374 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 11:38:12,374 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x137193130> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x137191ae0> root_client=<openai.OpenAI object at 0x113125550> root_async_client=<openai.AsyncOpenAI object at 0x137192140> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:38:12,374 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:38:12,375 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 11:38:40,397 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:38:40,401 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-20 11:38:40,402 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 11:38:40,402 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:38:40,403 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-20 11:38:40,403 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:38:40,404 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-20 11:38:40,405 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-20 11:38:40,405 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 11:38:40,405 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:38:40,405 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 11:38:40,405 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-20 11:38:40,405 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:38:41,096 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 11:38:41,096 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 11:38:41,096 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.722초
2025-08-20 11:38:41,096 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-20 11:38:41,097 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-20 11:38:41,097 - mms_extractor - INFO - ============================================================
2025-08-20 11:38:41,097 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:38:41,097 - mms_extractor - INFO - ============================================================
2025-08-20 11:38:41,097 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-20 11:38:41,097 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 11:38:41,097 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 11:38:41,097 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:38:41,097 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:38:41,098 - mms_extractor - INFO - process_message 실행완료: 56.04초
2025-08-20 11:38:41,098 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 480자
2025-08-20 11:38:41,098 - __main__ - INFO - DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) ...
2025-08-20 11:38:41,098 - __main__ - INFO - 추출 완료: 56.036초
2025-08-20 11:38:41,099 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:38:41] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:38:42,128 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:38:42] "GET /health HTTP/1.1" 200 -
2025-08-20 11:39:12,124 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:39:12] "GET /health HTTP/1.1" 200 -
2025-08-20 11:39:42,126 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:39:42] "GET /health HTTP/1.1" 200 -
2025-08-20 11:40:12,123 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:40:12] "GET /health HTTP/1.1" 200 -
2025-08-20 11:40:42,123 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:40:42] "GET /health HTTP/1.1" 200 -
2025-08-20 11:41:12,120 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:41:12] "GET /health HTTP/1.1" 200 -
2025-08-20 11:41:42,123 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:41:42] "GET /health HTTP/1.1" 200 -
2025-08-20 11:42:12,123 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:42:12] "GET /health HTTP/1.1" 200 -
2025-08-20 11:42:42,123 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:42:42] "GET /health HTTP/1.1" 200 -
2025-08-20 11:43:12,120 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:43:12] "GET /health HTTP/1.1" 200 -
2025-08-20 11:43:42,119 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:43:42] "GET /health HTTP/1.1" 200 -
2025-08-20 11:44:12,119 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:44:12] "GET /health HTTP/1.1" 200 -
2025-08-20 11:44:30,447 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:44:30] "GET /health HTTP/1.1" 200 -
2025-08-20 11:44:36,970 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:44:36] "GET /health HTTP/1.1" 200 -
2025-08-20 11:44:41,249 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:44:41] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:44:41,252 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 11:44:41,252 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:44:41,252 - mms_extractor - INFO - ============================================================
2025-08-20 11:44:41,252 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:44:41,252 - mms_extractor - INFO - ============================================================
2025-08-20 11:44:41,252 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 11:44:41,252 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 11:44:41,253 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:44:41,253 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:44:41,253 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 11:44:41,254 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 11:44:41,254 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 11:44:41,254 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:44:41,254 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:44:41,254 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:44:41,255 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:44:41,255 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 11:44:41,274 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:44:41,278 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 11:44:41,278 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 11:44:41,280 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 11:44:41,280 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 11:44:41,280 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 11:44:41,280 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:44:47,821 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 11:44:47,821 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 11:44:47,822 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 11:44:47,822 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:44:47,982 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 11:44:47,983 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 11:44:47,983 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:44:47,985 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 11:44:47,988 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 11:44:47,989 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 11:44:47,990 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 11:44:47,993 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 11:44:47,993 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 11:44:47,994 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 6.74초
2025-08-20 11:44:47,994 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 11:44:47,994 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 11:44:47,994 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:44:48,053 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:44:48,053 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:44:48,053 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 11:44:48,053 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:44:48,053 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 11:44:48,053 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 11:44:48,054 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 11:44:48,054 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:44:48,054 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 11:44:48,055 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 11:44:48,055 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 11:44:48,055 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:44:48,056 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 11:44:48,056 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 11:44:55,892 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:44:55,897 - mms_extractor - INFO - LLM 응답 길이: 1182 문자
2025-08-20 11:44:55,898 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24+",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 워치6",
            "action": "할인"
        },
        {
            "name": "무선충전기",
        ...
2025-08-20 11:44:55,898 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:44:55,900 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:44:55,900 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:44:55,900 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 제공'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 11:44:55,901 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:44:55,901 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 11:44:57,013 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:44:57,875 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.97초
2025-08-20 11:44:57,882 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:44:57,882 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:44:57,882 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:44:57,882 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 11:44:57,882 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x137193130> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x137191ae0> root_client=<openai.OpenAI object at 0x113125550> root_async_client=<openai.AsyncOpenAI object at 0x137192140> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:44:57,882 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:44:57,882 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 11:45:06,970 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:45:06] "GET /health HTTP/1.1" 200 -
2025-08-20 11:45:27,215 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:45:27,216 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3265자
2025-08-20 11:45:27,216 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 11:45:27,216 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:45:27,217 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 508자
2025-08-20 11:45:27,217 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:45:27,217 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-20 11:45:27,217 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '온라인 매장 링크:예약']
2025-08-20 11:45:27,217 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('온라인 매장 링크:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 11:45:27,217 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:45:27,217 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 11:45:27,217 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-20 11:45:27,217 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:45:27,466 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 11:45:27,467 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 11:45:27,467 - mms_extractor - INFO - 🕒 DAG 처리 시간: 29.585초
2025-08-20 11:45:27,467 - mms_extractor - INFO - 📏 DAG 섹션 길이: 508자
2025-08-20 11:45:27,467 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-20 11:45:27,467 - mms_extractor - INFO - ============================================================
2025-08-20 11:45:27,467 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:45:27,467 - mms_extractor - INFO - ============================================================
2025-08-20 11:45:27,467 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-20 11:45:27,467 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 11:45:27,467 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 11:45:27,467 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:45:27,467 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:45:27,467 - mms_extractor - INFO - process_message 실행완료: 46.22초
2025-08-20 11:45:27,467 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 508자
2025-08-20 11:45:27,467 - __main__ - INFO - DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) ...
2025-08-20 11:45:27,467 - __main__ - INFO - 추출 완료: 46.215초
2025-08-20 11:45:27,468 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:45:27] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:45:36,968 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:45:36] "GET /health HTTP/1.1" 200 -
2025-08-20 11:46:06,963 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:46:06] "GET /health HTTP/1.1" 200 -
2025-08-20 11:46:23,654 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:46:23] "GET /health HTTP/1.1" 200 -
2025-08-20 11:46:42,309 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:46:42] "GET /health HTTP/1.1" 200 -
2025-08-20 11:46:42,611 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:46:42] "GET /health HTTP/1.1" 200 -
2025-08-20 11:46:47,768 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:46:47] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:46:47,771 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 11:46:47,771 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:46:47,771 - mms_extractor - INFO - ============================================================
2025-08-20 11:46:47,771 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:46:47,771 - mms_extractor - INFO - ============================================================
2025-08-20 11:46:47,771 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 11:46:47,771 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 11:46:47,771 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:46:47,771 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:46:47,771 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 11:46:47,771 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 11:46:47,771 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 11:46:47,771 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:46:47,771 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:46:47,772 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:46:47,772 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:46:47,772 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 11:46:47,786 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:46:47,790 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 11:46:47,790 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 11:46:47,792 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 11:46:47,792 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 11:46:47,792 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 11:46:47,792 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:46:48,273 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 11:46:48,273 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 11:46:48,273 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 11:46:48,273 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:46:48,440 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 11:46:48,441 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 11:46:48,441 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:46:48,443 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 11:46:48,446 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 11:46:48,446 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 11:46:48,447 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 11:46:48,451 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 11:46:48,451 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 11:46:48,452 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.68초
2025-08-20 11:46:48,452 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 11:46:48,452 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 11:46:48,452 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:46:48,501 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:46:48,501 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:46:48,501 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 11:46:48,501 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:46:48,501 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 11:46:48,501 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 11:46:48,501 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 11:46:48,501 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:46:48,502 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 11:46:48,503 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 11:46:48,503 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 11:46:48,503 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:46:48,503 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 11:46:48,503 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 11:46:53,658 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:46:53] "GET /health HTTP/1.1" 200 -
2025-08-20 11:46:56,308 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:46:56,312 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-20 11:46:56,312 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-20 11:46:56,312 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:46:56,314 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:46:56,314 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:46:56,314 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 11:46:56,314 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:46:56,314 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 11:46:57,263 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:46:58,108 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.79초
2025-08-20 11:46:58,116 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:46:58,116 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:46:58,116 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:46:58,116 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 11:46:58,116 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x137193130> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x137191ae0> root_client=<openai.OpenAI object at 0x113125550> root_async_client=<openai.AsyncOpenAI object at 0x137192140> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:46:58,116 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:46:58,116 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 11:47:12,616 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:47:12] "GET /health HTTP/1.1" 200 -
2025-08-20 11:47:20,883 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:47:20,885 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2563자
2025-08-20 11:47:20,886 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고 있다. 고객은 T world 앱 또는 지정된 웹사이트를 통해 사전예약을 할 수 있다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택 (Ul...
2025-08-20 11:47:20,886 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:47:20,886 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-20 11:47:20,886 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:47:20,887 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 2, 엣지 수: 1
2025-08-20 11:47:20,887 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매']
2025-08-20 11:47:20,887 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 11:47:20,887 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:47:20,888 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 11:47:20,888 - utils - INFO - 📊 입력 그래프 - 노드 수: 2, 엣지 수: 1
2025-08-20 11:47:20,889 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:47:21,494 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 11:47:21,494 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 11:47:21,494 - mms_extractor - INFO - 🕒 DAG 처리 시간: 23.378초
2025-08-20 11:47:21,494 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-20 11:47:21,494 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정...
2025-08-20 11:47:21,494 - mms_extractor - INFO - ============================================================
2025-08-20 11:47:21,494 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:47:21,494 - mms_extractor - INFO - ============================================================
2025-08-20 11:47:21,494 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-20 11:47:21,494 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 11:47:21,494 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 11:47:21,494 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:47:21,494 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:47:21,495 - mms_extractor - INFO - process_message 실행완료: 33.72초
2025-08-20 11:47:21,495 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 270자
2025-08-20 11:47:21,495 - __main__ - INFO - DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S2...
2025-08-20 11:47:21,495 - __main__ - INFO - 추출 완료: 33.724초
2025-08-20 11:47:21,496 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:47:21] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:47:23,660 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:47:23] "GET /health HTTP/1.1" 200 -
2025-08-20 11:47:53,658 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:47:53] "GET /health HTTP/1.1" 200 -
2025-08-20 11:47:56,148 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:47:56] "GET /health HTTP/1.1" 200 -
2025-08-20 11:48:23,663 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:48:23] "GET /health HTTP/1.1" 200 -
2025-08-20 11:48:45,495 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:48:45] "GET /health HTTP/1.1" 200 -
2025-08-20 11:48:50,366 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:48:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:49:20,368 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:49:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:49:50,370 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:49:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:50:20,368 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:50:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:50:50,367 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:50:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:51:20,371 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:51:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:51:50,370 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:51:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:52:20,367 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:52:20] "GET /health HTTP/1.1" 200 -
2025-08-20 11:52:50,367 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:52:50] "GET /health HTTP/1.1" 200 -
2025-08-20 11:52:55,589 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:52:55] "GET /health HTTP/1.1" 200 -
2025-08-20 11:53:25,593 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:53:25] "GET /health HTTP/1.1" 200 -
2025-08-20 11:53:26,524 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:53:26] "GET /health HTTP/1.1" 200 -
2025-08-20 11:53:27,283 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:53:27] "GET /health HTTP/1.1" 200 -
2025-08-20 11:53:28,044 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:53:28] "GET /health HTTP/1.1" 200 -
2025-08-20 11:53:58,045 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:53:58] "GET /health HTTP/1.1" 200 -
2025-08-20 11:55:35,520 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:55:35] "GET /health HTTP/1.1" 200 -
2025-08-20 11:56:03,324 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:56:03] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 11:56:03,327 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 11:56:03,327 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 11:56:03,328 - mms_extractor - INFO - ============================================================
2025-08-20 11:56:03,328 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 11:56:03,328 - mms_extractor - INFO - ============================================================
2025-08-20 11:56:03,328 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 11:56:03,328 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 11:56:03,328 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 11:56:03,328 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 11:56:03,328 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 11:56:03,328 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 11:56:03,328 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 11:56:03,328 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 11:56:03,328 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 11:56:03,328 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 11:56:03,328 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 11:56:03,328 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 11:56:03,347 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 11:56:03,350 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 11:56:03,350 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 11:56:03,353 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 11:56:03,353 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 11:56:03,353 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '아이', '키즈폰']
2025-08-20 11:56:03,353 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 11:56:05,519 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:56:05] "GET /health HTTP/1.1" 200 -
2025-08-20 11:56:21,368 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 11:56:21,368 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 11:56:21,369 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 11:56:21,369 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 11:56:21,454 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 11:56:21,455 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 11:56:21,455 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 11:56:21,457 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 11:56:21,460 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 11:56:21,460 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 11:56:21,461 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 11:56:21,464 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 11:56:21,465 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 11:56:21,465 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 18.14초
2025-08-20 11:56:21,465 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 11:56:21,465 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 11:56:21,465 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 11:56:21,630 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 11:56:21,630 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 11:56:21,630 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 11:56:21,630 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 11:56:21,630 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 11:56:21,630 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 11:56:21,630 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 11:56:21,630 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 11:56:21,630 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 11:56:21,631 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 11:56:21,631 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 11:56:21,631 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 11:56:21,631 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 11:56:21,631 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 11:56:27,945 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:56:27,948 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 11:56:27,949 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 11:56:27,949 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 11:56:27,950 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 11:56:27,952 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 11:56:27,952 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 11:56:27,952 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 11:56:27,952 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 11:56:28,291 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 11:56:28,291 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 11:56:28,291 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 11:56:28,291 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 11:56:28,291 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x137193130> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x137191ae0> root_client=<openai.OpenAI object at 0x113125550> root_async_client=<openai.AsyncOpenAI object at 0x137192140> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 11:56:28,291 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 11:56:28,291 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 11:56:35,524 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:56:35] "GET /health HTTP/1.1" 200 -
2025-08-20 11:56:50,551 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 11:56:50,555 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-20 11:56:50,555 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 11:56:50,555 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 11:56:50,556 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-20 11:56:50,556 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 11:56:50,556 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-20 11:56:50,557 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-20 11:56:50,557 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-20 11:56:50,558 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 11:56:50,558 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 11:56:50,558 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-20 11:56:50,559 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 11:56:50,835 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 11:56:50,835 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 11:56:50,835 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.545초
2025-08-20 11:56:50,835 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-20 11:56:50,835 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-20 11:56:50,835 - mms_extractor - INFO - ============================================================
2025-08-20 11:56:50,836 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 11:56:50,836 - mms_extractor - INFO - ============================================================
2025-08-20 11:56:50,836 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 11:56:50,836 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 11:56:50,836 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 11:56:50,836 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 11:56:50,836 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 11:56:50,836 - mms_extractor - INFO - process_message 실행완료: 47.51초
2025-08-20 11:56:50,836 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 275자
2025-08-20 11:56:50,837 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 ...
2025-08-20 11:56:50,837 - __main__ - INFO - 추출 완료: 47.509초
2025-08-20 11:56:50,837 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:56:50] "POST /extract HTTP/1.1" 200 -
2025-08-20 11:57:05,522 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:57:05] "GET /health HTTP/1.1" 200 -
2025-08-20 11:57:35,524 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:57:35] "GET /health HTTP/1.1" 200 -
2025-08-20 11:58:05,521 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:58:05] "GET /health HTTP/1.1" 200 -
2025-08-20 11:58:35,520 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:58:35] "GET /health HTTP/1.1" 200 -
2025-08-20 11:59:05,518 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:59:05] "GET /health HTTP/1.1" 200 -
2025-08-20 11:59:35,520 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 11:59:35] "GET /health HTTP/1.1" 200 -
2025-08-20 12:00:05,520 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:00:05] "GET /health HTTP/1.1" 200 -
2025-08-20 12:00:41,986 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:00:41] "GET /health HTTP/1.1" 200 -
2025-08-20 12:00:49,269 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:00:49] "GET /health HTTP/1.1" 200 -
2025-08-20 12:00:52,862 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:00:52] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:00:52,866 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 12:00:52,866 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:00:52,866 - mms_extractor - INFO - ============================================================
2025-08-20 12:00:52,867 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:00:52,867 - mms_extractor - INFO - ============================================================
2025-08-20 12:00:52,867 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 12:00:52,867 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 12:00:52,867 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:00:52,867 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:00:52,867 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:00:52,867 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:00:52,867 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:00:52,867 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:00:52,868 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:00:52,868 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:00:52,868 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:00:52,868 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 12:00:52,881 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:00:52,884 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 12:00:52,885 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 12:00:52,887 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 12:00:52,887 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 12:00:52,888 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '아이', '키즈폰']
2025-08-20 12:00:52,888 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:00:53,322 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 12:00:53,322 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 12:00:53,323 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 12:00:53,323 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:00:53,407 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 12:00:53,408 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 12:00:53,408 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:00:53,410 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 12:00:53,413 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 12:00:53,414 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 12:00:53,414 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 12:00:53,418 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 12:00:53,418 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 12:00:53,418 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.55초
2025-08-20 12:00:53,418 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:00:53,418 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 12:00:53,418 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:00:53,479 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:00:53,479 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:00:53,480 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 12:00:53,480 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:00:53,480 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 12:00:53,480 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:00:53,480 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 12:00:53,480 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:00:53,480 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 12:00:53,481 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 12:00:53,481 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 12:00:53,481 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:00:53,481 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 12:00:53,481 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:00:59,884 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:00:59,886 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 12:00:59,886 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 12:00:59,886 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:00:59,887 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:00:59,887 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:00:59,887 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:00:59,887 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:00:59,887 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 12:01:00,216 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:01:00,216 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:01:00,216 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:01:00,216 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 12:01:00,217 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x137193130> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x137191ae0> root_client=<openai.OpenAI object at 0x113125550> root_async_client=<openai.AsyncOpenAI object at 0x137192140> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:01:00,217 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:01:00,217 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 12:01:19,272 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:01:19] "GET /health HTTP/1.1" 200 -
2025-08-20 12:01:20,037 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:01:20,041 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2227자
2025-08-20 12:01:20,041 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 12:01:20,045 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:01:20,046 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 182자
2025-08-20 12:01:20,046 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:01:20,047 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-20 12:01:20,047 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령']
2025-08-20 12:01:20,048 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령')]
2025-08-20 12:01:20,048 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:01:20,048 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:01:20,048 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-20 12:01:20,049 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:01:20,351 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 12:01:20,351 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:01:20,351 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.135초
2025-08-20 12:01:20,351 - mms_extractor - INFO - 📏 DAG 섹션 길이: 182자
2025-08-20 12:01:20,351 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)...
2025-08-20 12:01:20,351 - mms_extractor - INFO - ============================================================
2025-08-20 12:01:20,351 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:01:20,352 - mms_extractor - INFO - ============================================================
2025-08-20 12:01:20,352 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 12:01:20,352 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:01:20,352 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:01:20,352 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:01:20,352 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:01:20,352 - mms_extractor - INFO - process_message 실행완료: 27.49초
2025-08-20 12:01:20,352 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 182자
2025-08-20 12:01:20,352 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디...
2025-08-20 12:01:20,352 - __main__ - INFO - 추출 완료: 27.486초
2025-08-20 12:01:20,353 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:01:20] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:01:49,276 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:01:49] "GET /health HTTP/1.1" 200 -
2025-08-20 12:02:19,274 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:02:19] "GET /health HTTP/1.1" 200 -
2025-08-20 12:02:49,274 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:02:49] "GET /health HTTP/1.1" 200 -
2025-08-20 12:03:19,272 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:03:19] "GET /health HTTP/1.1" 200 -
2025-08-20 12:03:49,270 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:03:49] "GET /health HTTP/1.1" 200 -
2025-08-20 12:04:19,271 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:04:19] "GET /health HTTP/1.1" 200 -
2025-08-20 12:04:49,270 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:04:49] "GET /health HTTP/1.1" 200 -
2025-08-20 12:05:39,081 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-20 12:05:39,081 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-20 12:05:39,081 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-20 12:05:39,081 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-20 12:05:39,081 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-20 12:05:39,104 - mms_extractor - INFO - Using device: mps
2025-08-20 12:05:39,104 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-20 12:05:39,104 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 12:05:39,104 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 12:05:39,104 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-20 12:05:39,104 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-20 12:05:39,104 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-20 12:05:44,875 - mms_extractor - INFO - Model loaded on mps
2025-08-20 12:05:44,875 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 5.77초
2025-08-20 12:05:45,321 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-20 12:05:45,322 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.45초
2025-08-20 12:05:45,322 - mms_extractor - INFO - ============================================================
2025-08-20 12:05:45,322 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-20 12:05:45,322 - mms_extractor - INFO - ============================================================
2025-08-20 12:05:45,322 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-20 12:05:45,322 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-20 12:05:45,322 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-20 12:05:45,322 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-20 12:05:45,322 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-20 12:05:45,433 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-20 12:05:45,433 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-20 12:05:45,442 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-20 12:05:45,445 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-20 12:05:45,446 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 12:05:45,449 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-20 12:05:45,449 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-20 12:05:45,449 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-20 12:05:45,449 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-20 12:05:45,449 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-20 12:05:45,449 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-20 12:05:45,449 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-20 12:05:45,457 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-20 12:05:45,457 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-20 12:05:45,457 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-20 12:05:45,795 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-20 12:05:45,797 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-20 12:05:45,797 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-20 12:05:45,797 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-20 12:05:45,797 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-20 12:05:45,798 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-20 12:05:45,798 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-20 12:05:45,798 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-20 12:05:45,799 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-20 12:05:45,805 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-20 12:05:45,808 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-20 12:05:45,808 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 12:05:45,853 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-20 12:05:45,854 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-20 12:05:45,854 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-20 12:05:45,867 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-20 12:05:45,868 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-20 12:05:46,027 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-20 12:05:46,028 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-20 12:05:46,028 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-20 12:05:46,508 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-20 12:05:46,508 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-20 12:05:46,508 - mms_extractor - INFO - ============================================================
2025-08-20 12:05:46,508 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-20 12:05:46,508 - mms_extractor - INFO - ============================================================
2025-08-20 12:05:46,508 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-20 12:05:46,508 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-20 12:05:46,508 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-20 12:05:46,508 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-20 12:05:46,508 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-20 12:05:46,513 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-20 12:05:46,519 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-20 12:05:46,523 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-20 12:05:46,523 - mms_extractor - INFO - _load_data 실행완료: 1.20초
2025-08-20 12:05:46,523 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-20 12:05:46,523 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-20 12:05:46,523 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-20 12:05:46,523 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-20 12:05:46,523 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-20 12:05:46,523 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-20 12:05:46,523 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-20 12:05:46,523 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-20 12:05:46,523 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-20 12:05:46,523 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-20 12:05:46,523 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-20 12:05:46,547 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.24.218:8000
2025-08-20 12:05:46,547 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-20 12:05:49,278 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:05:49] "GET /health HTTP/1.1" 200 -
2025-08-20 12:05:55,600 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:05:55] "GET /health HTTP/1.1" 200 -
2025-08-20 12:06:01,512 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:06:01] "GET /health HTTP/1.1" 200 -
2025-08-20 12:06:01,895 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:06:01] "GET /health HTTP/1.1" 200 -
2025-08-20 12:06:02,522 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:06:02] "GET /health HTTP/1.1" 200 -
2025-08-20 12:06:05,631 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:06:05] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:06:05,634 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 12:06:05,634 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:06:05,635 - mms_extractor - INFO - ============================================================
2025-08-20 12:06:05,635 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:06:05,635 - mms_extractor - INFO - ============================================================
2025-08-20 12:06:05,635 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 12:06:05,635 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 12:06:05,635 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:06:05,635 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:06:05,635 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:06:05,635 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 12:06:05,635 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:06:05,635 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:06:05,635 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:06:05,635 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:06:05,636 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:06:05,636 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 12:06:05,652 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:06:06,155 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 12:06:06,155 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 12:06:06,156 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 12:06:06,156 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 12:06:06,156 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 12:06:06,156 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:06:12,124 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 12:06:12,125 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 12:06:12,133 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 12:06:12,133 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:06:12,285 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 12:06:12,286 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 12:06:12,286 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:06:12,289 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 12:06:12,294 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 12:06:12,294 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 12:06:12,296 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 12:06:12,300 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 12:06:12,300 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 12:06:12,300 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 6.66초
2025-08-20 12:06:12,301 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 12:06:12,301 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 12:06:12,301 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:06:12,398 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:06:12,398 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:06:12,399 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 12:06:12,399 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:06:12,399 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 12:06:12,399 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 12:06:12,399 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 12:06:12,399 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:06:12,399 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 12:06:12,400 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 12:06:12,400 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 12:06:12,400 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:06:12,400 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 12:06:12,400 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:06:20,332 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:06:20,347 - mms_extractor - INFO - LLM 응답 길이: 1182 문자
2025-08-20 12:06:20,347 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24+",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 워치6",
            "action": "할인"
        },
        {
            "name": "무선충전기",
        ...
2025-08-20 12:06:20,347 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:06:20,348 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:06:20,348 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:06:20,348 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 제공'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:06:20,348 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:06:20,348 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 12:06:21,285 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:06:22,123 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.77초
2025-08-20 12:06:22,130 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:06:22,130 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:06:22,130 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:06:22,130 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 12:06:22,130 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1274e4a70> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x1274e4dd0> root_client=<openai.OpenAI object at 0x1273c45a0> root_async_client=<openai.AsyncOpenAI object at 0x1274e4b90> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:06:22,130 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:06:22,130 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 12:06:32,530 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:06:32] "GET /health HTTP/1.1" 200 -
2025-08-20 12:06:50,191 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:06:50,193 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-20 12:06:50,193 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 12:06:50,194 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:06:50,195 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-20 12:06:50,195 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:06:50,196 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-20 12:06:50,196 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-20 12:06:50,198 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 12:06:50,198 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:06:50,199 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 12:06:50,199 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-20 12:06:50,200 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:06:50,932 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 12:06:50,932 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 12:06:50,932 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.802초
2025-08-20 12:06:50,932 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-20 12:06:50,932 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-20 12:06:50,933 - mms_extractor - INFO - ============================================================
2025-08-20 12:06:50,933 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:06:50,933 - mms_extractor - INFO - ============================================================
2025-08-20 12:06:50,933 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-20 12:06:50,933 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:06:50,933 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 12:06:50,933 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:06:50,933 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:06:50,933 - mms_extractor - INFO - process_message 실행완료: 45.30초
2025-08-20 12:06:50,934 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 480자
2025-08-20 12:06:50,934 - __main__ - INFO - DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) ...
2025-08-20 12:06:50,934 - __main__ - INFO - 추출 완료: 45.299초
2025-08-20 12:06:50,934 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:06:50] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:07:02,532 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:07:02] "GET /health HTTP/1.1" 200 -
2025-08-20 12:07:32,529 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:07:32] "GET /health HTTP/1.1" 200 -
2025-08-20 12:08:02,526 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:08:02] "GET /health HTTP/1.1" 200 -
2025-08-20 12:08:32,799 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:08:32] "GET /health HTTP/1.1" 200 -
2025-08-20 12:09:02,799 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:09:02] "GET /health HTTP/1.1" 200 -
2025-08-20 12:09:32,530 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:09:32] "GET /health HTTP/1.1" 200 -
2025-08-20 12:10:02,523 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:10:02] "GET /health HTTP/1.1" 200 -
2025-08-20 12:10:32,524 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:10:32] "GET /health HTTP/1.1" 200 -
2025-08-20 12:11:02,521 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:11:02] "GET /health HTTP/1.1" 200 -
2025-08-20 12:11:32,532 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:11:32] "GET /health HTTP/1.1" 200 -
2025-08-20 12:11:53,831 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:11:53] "GET /health HTTP/1.1" 200 -
2025-08-20 12:11:57,452 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:11:57] "GET /health HTTP/1.1" 200 -
2025-08-20 12:12:02,457 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:12:02] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:12:02,461 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 284자
2025-08-20 12:12:02,461 - __main__ - INFO - LLM 모델이 ax -> claude로 변경됨. 재초기화 중...
2025-08-20 12:12:02,463 - mms_extractor - INFO - LLM 초기화 완료: claude (amazon/anthropic/claude-sonnet-4-20250514)
2025-08-20 12:12:02,464 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 12:12:02,464 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:12:02,465 - mms_extractor - INFO - ============================================================
2025-08-20 12:12:02,465 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:12:02,465 - mms_extractor - INFO - ============================================================
2025-08-20 12:12:02,465 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 12:12:02,465 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 12:12:02,465 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:12:02,465 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:12:02,465 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 12:12:02,465 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 12:12:02,465 - mms_extractor - INFO - LLM 모델: claude
2025-08-20 12:12:02,465 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:12:02,465 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:12:02,466 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:12:02,466 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:12:02,466 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 12:12:02,484 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:12:02,496 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 12:12:02,496 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 12:12:02,499 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 12:12:02,499 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 12:12:02,499 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['버즈', '갤럭시', 'YouTube Premium']
2025-08-20 12:12:02,499 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:12:08,985 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 12:12:08,985 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 12:12:08,986 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 12:12:08,986 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:12:09,095 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 12:12:09,096 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 12:12:09,096 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:12:09,098 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 12:12:09,101 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 12:12:09,102 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 12:12:09,103 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 12:12:09,107 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 12:12:09,107 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 12:12:09,107 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 6.64초
2025-08-20 12:12:09,108 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 12:12:09,108 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 12:12:09,108 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:12:09,225 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:12:09,226 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:12:09,226 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 12:12:09,226 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:12:09,226 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 12:12:09,226 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 12:12:09,226 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 12:12:09,226 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:12:09,226 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 12:12:09,226 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 12:12:09,226 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:12:09,226 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 12:12:09,226 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 12:12:14,327 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:12:14,332 - mms_extractor - INFO - LLM 응답 길이: 615 문자
2025-08-20 12:12:14,332 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "5G 요금제 특가 혜택",
    "purpose": ["상품 가입 유도", "혜택 안내", "대리점/매장 방문 유도", "웹/앱 접속 유도"],
    "product": [
        {"name": "5G 슈퍼플랜", "action": "가입"},
        {"name": "YouTube Premium", "action": "사용"},
        {"name": "갤럭시 버즈", "action": "기타"}
    ],
    "channel": [
        {"type": "URL", "value": "m.tworld.co.kr", "action": "가입"},
        {"type": "대리점", "value": "전국 T world 매장", "action": "가입"},
        {"type": "전화번호", "value": "114", "action": "문의"},
        {"type": "전...
2025-08-20 12:12:14,333 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:12:14,334 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:12:14,335 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:12:14,335 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도'], 'product': [{'name': '5G 슈퍼플랜', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '타사회선(가망)_win-back']}
2025-08-20 12:12:14,335 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:12:14,336 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 12:12:16,503 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:12:16,892 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 2.56초
2025-08-20 12:12:17,079 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:12:17,079 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:12:17,079 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:12:17,079 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 12:12:17,079 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1293957b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x129395e10> root_client=<openai.OpenAI object at 0x129395480> root_async_client=<openai.AsyncOpenAI object at 0x1293956a0> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:12:17,079 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:12:17,079 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 12:12:27,461 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:12:27] "GET /health HTTP/1.1" 200 -
2025-08-20 12:12:39,573 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:12:39,576 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1736자
2025-08-20 12:12:39,576 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
T world에서 5G 슈퍼플랜 요금제 가입을 유도하는 광고로, 50% 할인된 특가와 다양한 부가 혜택(YouTube Premium, 갤럭시 버즈)을 제공하여 신규 고객 확보를 목표로 함. 온라인과 오프라인 두 가지 가입 경로를 제시.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 50% 할...
2025-08-20 12:12:39,576 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:12:39,577 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 706자
2025-08-20 12:12:39,578 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:12:39,578 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 6, 엣지 수: 5
2025-08-20 12:12:39,578 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 온라인:접속', '5G슈퍼플랜:가입', 'T world 매장:방문', '50%할인혜택:수령', '갤럭시버즈:수령', '5G프리미엄서비스:사용']
2025-08-20 12:12:39,579 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 온라인:접속', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '50%할인혜택:수령'), ('5G슈퍼플랜:가입', '갤럭시버즈:수령'), ('5G슈퍼플랜:가입', '5G프리미엄서비스:사용'), ('T world 매장:방문', '5G슈퍼플랜:가입')]
2025-08-20 12:12:39,579 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:12:39,579 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 12:12:39,580 - utils - INFO - 📊 입력 그래프 - 노드 수: 6, 엣지 수: 5
2025-08-20 12:12:39,581 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:12:39,894 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 12:12:39,895 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 12:12:39,895 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.816초
2025-08-20 12:12:39,895 - mms_extractor - INFO - 📏 DAG 섹션 길이: 706자
2025-08-20 12:12:39,895 - mms_extractor - INFO - 📄 DAG 내용 미리보기: 
```
(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면]-> (50%할인혜택:수령)
(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)
(5G슈퍼플랜:가입) -[가입후]-> (5G프리미엄서비스:사용)
```

## 5. 최종 ...
2025-08-20 12:12:39,895 - mms_extractor - INFO - ============================================================
2025-08-20 12:12:39,895 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:12:39,895 - mms_extractor - INFO - ============================================================
2025-08-20 12:12:39,895 - mms_extractor - INFO - 제목: 5G 요금제 특가 혜택
2025-08-20 12:12:39,895 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도']
2025-08-20 12:12:39,895 - mms_extractor - INFO - 상품 수: 3개
2025-08-20 12:12:39,895 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:12:39,895 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:12:39,895 - mms_extractor - INFO - process_message 실행완료: 37.43초
2025-08-20 12:12:39,895 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 706자
2025-08-20 12:12:39,895 - __main__ - INFO - DAG 내용 미리보기: 
```
(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면...
2025-08-20 12:12:39,895 - __main__ - INFO - 추출 완료: 37.434초
2025-08-20 12:12:39,896 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:12:39] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:12:57,460 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:12:57] "GET /health HTTP/1.1" 200 -
2025-08-20 12:13:27,461 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:13:27] "GET /health HTTP/1.1" 200 -
2025-08-20 12:13:57,459 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:13:57] "GET /health HTTP/1.1" 200 -
2025-08-20 12:14:27,453 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:14:27] "GET /health HTTP/1.1" 200 -
2025-08-20 12:14:57,454 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:14:57] "GET /health HTTP/1.1" 200 -
2025-08-20 12:15:27,452 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:15:27] "GET /health HTTP/1.1" 200 -
2025-08-20 12:15:43,523 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:15:43] "GET /health HTTP/1.1" 200 -
2025-08-20 12:15:48,526 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:15:48] "GET /health HTTP/1.1" 200 -
2025-08-20 12:15:49,502 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:15:49] "GET /health HTTP/1.1" 200 -
2025-08-20 12:15:50,086 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:15:50] "GET /health HTTP/1.1" 200 -
2025-08-20 12:15:53,419 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:15:53] "GET /health HTTP/1.1" 200 -
2025-08-20 12:16:05,185 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:16:05] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:16:05,187 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 12:16:05,188 - __main__ - INFO - LLM 모델이 claude -> ax로 변경됨. 재초기화 중...
2025-08-20 12:16:05,189 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 12:16:05,190 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 12:16:05,190 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:16:05,190 - mms_extractor - INFO - ============================================================
2025-08-20 12:16:05,190 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:16:05,190 - mms_extractor - INFO - ============================================================
2025-08-20 12:16:05,190 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 12:16:05,190 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 12:16:05,190 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:16:05,190 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:16:05,190 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:16:05,190 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:16:05,191 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:16:05,191 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:16:05,191 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:16:05,191 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:16:05,192 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:16:05,192 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 12:16:05,204 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:16:05,211 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 12:16:05,212 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 12:16:05,214 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 12:16:05,214 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 12:16:05,214 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-20 12:16:05,215 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:16:05,651 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 12:16:05,651 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 12:16:05,652 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 12:16:05,652 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:16:05,745 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 12:16:05,745 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 12:16:05,745 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:16:05,747 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 12:16:05,750 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 12:16:05,751 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 12:16:05,752 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 12:16:05,755 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 12:16:05,755 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 12:16:05,756 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.56초
2025-08-20 12:16:05,756 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:16:05,756 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 12:16:05,756 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:16:05,804 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:16:05,804 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:16:05,804 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 12:16:05,804 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:16:05,804 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 12:16:05,804 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:16:05,804 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 12:16:05,804 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:16:05,805 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 12:16:05,806 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 12:16:05,806 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 12:16:05,806 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:16:05,806 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 12:16:05,806 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:16:12,130 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:16:12,133 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 12:16:12,133 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 12:16:12,133 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:16:12,134 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:16:12,134 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:16:12,134 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:16:12,134 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:16:12,134 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 12:16:12,467 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:16:12,467 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:16:12,467 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:16:12,467 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 12:16:12,467 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x129395ae0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x129397680> root_client=<openai.OpenAI object at 0x1293c2950> root_async_client=<openai.AsyncOpenAI object at 0x1293979b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:16:12,467 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:16:12,467 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 12:16:23,426 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:16:23] "GET /health HTTP/1.1" 200 -
2025-08-20 12:16:32,326 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:16:32,327 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2227자
2025-08-20 12:16:32,328 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 12:16:32,328 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:16:32,328 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 182자
2025-08-20 12:16:32,328 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:16:32,329 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-20 12:16:32,329 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령']
2025-08-20 12:16:32,329 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령')]
2025-08-20 12:16:32,329 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:16:32,329 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:16:32,329 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-20 12:16:32,330 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:16:32,586 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 12:16:32,586 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:16:32,586 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.119초
2025-08-20 12:16:32,586 - mms_extractor - INFO - 📏 DAG 섹션 길이: 182자
2025-08-20 12:16:32,586 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)...
2025-08-20 12:16:32,586 - mms_extractor - INFO - ============================================================
2025-08-20 12:16:32,586 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:16:32,586 - mms_extractor - INFO - ============================================================
2025-08-20 12:16:32,586 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 12:16:32,586 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:16:32,586 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:16:32,586 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:16:32,586 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:16:32,586 - mms_extractor - INFO - process_message 실행완료: 27.40초
2025-08-20 12:16:32,586 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 182자
2025-08-20 12:16:32,586 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디...
2025-08-20 12:16:32,586 - __main__ - INFO - 추출 완료: 27.399초
2025-08-20 12:16:32,587 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:16:32] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:16:53,423 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:16:53] "GET /health HTTP/1.1" 200 -
2025-08-20 12:17:23,421 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:17:23] "GET /health HTTP/1.1" 200 -
2025-08-20 12:17:53,422 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:17:53] "GET /health HTTP/1.1" 200 -
2025-08-20 12:18:12,759 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:18:12] "GET /health HTTP/1.1" 200 -
2025-08-20 12:18:16,045 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:18:16] "GET /health HTTP/1.1" 200 -
2025-08-20 12:18:17,001 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:18:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:18:20,247 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:18:20] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:18:20,249 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 12:18:20,249 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:18:20,249 - mms_extractor - INFO - ============================================================
2025-08-20 12:18:20,249 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:18:20,250 - mms_extractor - INFO - ============================================================
2025-08-20 12:18:20,250 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 12:18:20,250 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 12:18:20,250 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:18:20,250 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:18:20,250 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:18:20,250 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:18:20,250 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:18:20,250 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:18:20,250 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:18:20,250 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:18:20,250 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:18:20,250 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 12:18:20,266 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:18:20,270 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 12:18:20,272 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 12:18:20,275 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 12:18:20,275 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 12:18:20,275 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-20 12:18:20,275 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:18:20,711 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 12:18:20,711 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 12:18:20,712 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 12:18:20,712 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:18:20,794 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 12:18:20,795 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 12:18:20,795 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:18:20,797 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 12:18:20,800 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 12:18:20,800 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 12:18:20,801 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 12:18:20,804 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 12:18:20,805 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 12:18:20,805 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.55초
2025-08-20 12:18:20,805 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:18:20,805 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 12:18:20,805 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:18:20,851 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:18:20,851 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:18:20,851 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 12:18:20,851 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:18:20,851 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 12:18:20,851 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:18:20,851 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 12:18:20,851 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:18:20,851 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 12:18:20,852 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 12:18:20,852 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 12:18:20,852 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:18:20,852 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 12:18:20,852 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:18:27,210 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:18:27,212 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 12:18:27,212 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 12:18:27,212 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:18:27,213 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:18:27,213 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:18:27,213 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:18:27,213 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:18:27,213 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 12:18:27,555 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:18:27,555 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:18:27,555 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:18:27,555 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 12:18:27,555 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x129395ae0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x129397680> root_client=<openai.OpenAI object at 0x1293c2950> root_async_client=<openai.AsyncOpenAI object at 0x1293979b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:18:27,555 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:18:27,555 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 12:18:46,998 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:18:46] "GET /health HTTP/1.1" 200 -
2025-08-20 12:18:47,321 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:18:47,323 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2227자
2025-08-20 12:18:47,323 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 12:18:47,323 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:18:47,324 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 182자
2025-08-20 12:18:47,324 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:18:47,324 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-20 12:18:47,324 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령']
2025-08-20 12:18:47,324 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령')]
2025-08-20 12:18:47,325 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:18:47,325 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:18:47,325 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-20 12:18:47,326 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:18:47,963 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 12:18:47,964 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:18:47,964 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.409초
2025-08-20 12:18:47,964 - mms_extractor - INFO - 📏 DAG 섹션 길이: 182자
2025-08-20 12:18:47,964 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)...
2025-08-20 12:18:47,964 - mms_extractor - INFO - ============================================================
2025-08-20 12:18:47,964 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:18:47,964 - mms_extractor - INFO - ============================================================
2025-08-20 12:18:47,964 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 12:18:47,964 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:18:47,964 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:18:47,964 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:18:47,964 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:18:47,964 - mms_extractor - INFO - process_message 실행완료: 27.71초
2025-08-20 12:18:47,964 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 182자
2025-08-20 12:18:47,964 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디...
2025-08-20 12:18:47,964 - __main__ - INFO - 추출 완료: 27.715초
2025-08-20 12:18:47,965 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:18:47] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:19:16,487 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:19:16] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:19:16,490 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 305자
2025-08-20 12:19:16,490 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:19:16,490 - mms_extractor - INFO - ============================================================
2025-08-20 12:19:16,490 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:19:16,490 - mms_extractor - INFO - ============================================================
2025-08-20 12:19:16,490 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 12:19:16,490 - mms_extractor - INFO - 메시지 길이: 305 문자
2025-08-20 12:19:16,490 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:19:16,490 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:19:16,490 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:19:16,490 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:19:16,491 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:19:16,491 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:19:16,491 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:19:16,491 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:19:16,491 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:19:16,491 - mms_extractor - INFO - 처리할 메시지 길이: 304 문자
2025-08-20 12:19:16,510 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:19:16,514 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 12:19:16,514 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 12:19:16,517 - mms_extractor - INFO - 전체 토큰 수: 117개
2025-08-20 12:19:16,517 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장']
2025-08-20 12:19:16,518 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-20 12:19:16,518 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:19:16,941 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4085, 3)
2025-08-20 12:19:16,941 - mms_extractor - INFO - 퍼지 매칭 성공: 4085개 결과
2025-08-20 12:19:16,942 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 12:19:16,942 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:19:16,997 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:19:16] "GET /health HTTP/1.1" 200 -
2025-08-20 12:19:17,022 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4085, 3)
2025-08-20 12:19:17,023 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 12:19:17,023 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:19:17,025 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 12:19:17,028 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 12:19:17,028 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 12:19:17,029 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 12:19:17,032 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 12:19:17,032 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 12:19:17,033 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.54초
2025-08-20 12:19:17,033 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:19:17,033 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 12:19:17,033 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:19:17,076 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:19:17,076 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:19:17,076 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 12:19:17,077 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:19:17,077 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 12:19:17,077 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:19:17,077 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 12:19:17,077 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:19:17,077 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 12:19:17,078 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 12:19:17,078 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 12:19:17,078 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:19:17,078 - mms_extractor - INFO - 구성된 프롬프트 길이: 6332 문자
2025-08-20 12:19:17,078 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:19:22,933 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:19:22,936 - mms_extractor - INFO - LLM 응답 길이: 823 문자
2025-08-20 12:19:22,936 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 12:19:22,936 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:19:22,937 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:19:22,937 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:19:22,937 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:19:22,937 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:19:22,937 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 12:19:23,267 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:19:23,267 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:19:23,267 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:19:23,267 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 304자
2025-08-20 12:19:23,267 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x129395ae0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x129397680> root_client=<openai.OpenAI object at 0x1293c2950> root_async_client=<openai.AsyncOpenAI object at 0x1293979b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:19:23,267 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:19:23,267 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3249자
2025-08-20 12:19:42,001 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:19:42,003 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2130자
2025-08-20 12:19:42,003 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 함께 다양한 특별 혜택을 제공합니다. 이 광고는 ZEM폰 포켓몬에디션3의 구매를 유도하고, 구매 시 제공되는 할인, 무료 케이스, 프리미엄 서비스 무료 체험 등의 혜택을 강조합니다.

[식별된 가치 제안 ...
2025-08-20 12:19:42,003 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:19:42,003 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 227자
2025-08-20 12:19:42,003 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:19:42,004 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 6, 엣지 수: 5
2025-08-20 12:19:42,004 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM 프리미엄 서비스:사용']
2025-08-20 12:19:42,004 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스:사용')]
2025-08-20 12:19:42,004 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:19:42,005 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_9219954643f1abc197e79e36e0e994c49ba2a4ad48b4fb39c31e8ffe46fb9940
2025-08-20 12:19:42,005 - utils - INFO - 📊 입력 그래프 - 노드 수: 6, 엣지 수: 5
2025-08-20 12:19:42,006 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:19:42,301 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_9219954643f1abc197e79e36e0e994c49ba2a4ad48b4fb39c31e8ffe46fb9940.png
2025-08-20 12:19:42,301 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_9219954643f1abc197e79e36e0e994c49ba2a4ad48b4fb39c31e8ffe46fb9940
2025-08-20 12:19:42,301 - mms_extractor - INFO - 🕒 DAG 처리 시간: 19.034초
2025-08-20 12:19:42,301 - mms_extractor - INFO - 📏 DAG 섹션 길이: 227자
2025-08-20 12:19:42,301 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)
(ZEM폰 포켓몬에디션3:구매)...
2025-08-20 12:19:42,301 - mms_extractor - INFO - ============================================================
2025-08-20 12:19:42,301 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:19:42,301 - mms_extractor - INFO - ============================================================
2025-08-20 12:19:42,301 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 12:19:42,301 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:19:42,301 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:19:42,301 - mms_extractor - INFO - 채널 수: 3개
2025-08-20 12:19:42,301 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:19:42,302 - mms_extractor - INFO - process_message 실행완료: 25.81초
2025-08-20 12:19:42,302 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 227자
2025-08-20 12:19:42,302 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디...
2025-08-20 12:19:42,302 - __main__ - INFO - 추출 완료: 25.812초
2025-08-20 12:19:42,302 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:19:42] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:19:47,021 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:19:47] "GET /health HTTP/1.1" 200 -
2025-08-20 12:20:17,040 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:20:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:20:47,038 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:20:47] "GET /health HTTP/1.1" 200 -
2025-08-20 12:21:10,559 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:21:10] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:21:10,562 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 12:21:10,562 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:21:10,562 - mms_extractor - INFO - ============================================================
2025-08-20 12:21:10,562 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:21:10,563 - mms_extractor - INFO - ============================================================
2025-08-20 12:21:10,563 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 12:21:10,563 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 12:21:10,563 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:21:10,563 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:21:10,563 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:21:10,563 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:21:10,563 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:21:10,563 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:21:10,563 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:21:10,563 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:21:10,564 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:21:10,564 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 12:21:10,581 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:21:10,586 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 12:21:10,586 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 12:21:10,590 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 12:21:10,591 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 12:21:10,591 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-20 12:21:10,591 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:21:11,023 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 12:21:11,023 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 12:21:11,024 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 12:21:11,024 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:21:11,109 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 12:21:11,109 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 12:21:11,109 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:21:11,111 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 12:21:11,115 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 12:21:11,115 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 12:21:11,116 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 12:21:11,119 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 12:21:11,119 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 12:21:11,119 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.56초
2025-08-20 12:21:11,119 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:21:11,119 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 12:21:11,119 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:21:11,169 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:21:11,169 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:21:11,169 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 12:21:11,169 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:21:11,169 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 12:21:11,170 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:21:11,170 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 12:21:11,170 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:21:11,170 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 12:21:11,171 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 12:21:11,171 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 12:21:11,171 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:21:11,171 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 12:21:11,171 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:21:17,042 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:21:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:21:17,515 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:21:17,520 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 12:21:17,520 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 12:21:17,520 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:21:17,521 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:21:17,522 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:21:17,522 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:21:17,522 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:21:17,522 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 12:21:17,951 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:21:17,951 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:21:17,951 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:21:17,951 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 12:21:17,952 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x129395ae0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x129397680> root_client=<openai.OpenAI object at 0x1293c2950> root_async_client=<openai.AsyncOpenAI object at 0x1293979b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:21:17,952 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:21:17,952 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 12:21:40,293 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:21:40,296 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-20 12:21:40,297 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 12:21:40,297 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:21:40,297 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-20 12:21:40,298 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:21:40,298 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-20 12:21:40,298 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-20 12:21:40,298 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-20 12:21:40,299 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:21:40,299 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:21:40,300 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-20 12:21:40,301 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:21:40,577 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 12:21:40,577 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:21:40,578 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.626초
2025-08-20 12:21:40,578 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-20 12:21:40,578 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-20 12:21:40,578 - mms_extractor - INFO - ============================================================
2025-08-20 12:21:40,578 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:21:40,578 - mms_extractor - INFO - ============================================================
2025-08-20 12:21:40,578 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 12:21:40,578 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:21:40,578 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:21:40,578 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:21:40,578 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:21:40,578 - mms_extractor - INFO - process_message 실행완료: 30.02초
2025-08-20 12:21:40,578 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 275자
2025-08-20 12:21:40,578 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 ...
2025-08-20 12:21:40,578 - __main__ - INFO - 추출 완료: 30.016초
2025-08-20 12:21:40,579 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:21:40] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:21:47,037 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:21:47] "GET /health HTTP/1.1" 200 -
2025-08-20 12:22:17,037 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:22:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:22:47,037 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:22:47] "GET /health HTTP/1.1" 200 -
2025-08-20 12:22:57,466 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:22:57] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:22:57,469 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 12:22:57,469 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:22:57,470 - mms_extractor - INFO - ============================================================
2025-08-20 12:22:57,470 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:22:57,470 - mms_extractor - INFO - ============================================================
2025-08-20 12:22:57,470 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 12:22:57,470 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 12:22:57,470 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:22:57,470 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:22:57,470 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:22:57,470 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:22:57,470 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:22:57,471 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:22:57,471 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:22:57,471 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:22:57,471 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:22:57,471 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 12:22:57,489 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:22:57,493 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 12:22:57,494 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 12:22:57,497 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 12:22:57,498 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 12:22:57,498 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-20 12:22:57,498 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:22:57,933 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 12:22:57,933 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 12:22:57,933 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 12:22:57,934 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:22:58,028 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 12:22:58,028 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 12:22:58,028 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:22:58,030 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 12:22:58,034 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 12:22:58,034 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 12:22:58,035 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 12:22:58,038 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 12:22:58,039 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 12:22:58,039 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.57초
2025-08-20 12:22:58,039 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:22:58,039 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 12:22:58,039 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:22:58,082 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:22:58,082 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:22:58,082 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 12:22:58,082 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:22:58,082 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 12:22:58,082 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:22:58,082 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 12:22:58,082 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:22:58,082 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 12:22:58,083 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 12:22:58,083 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 12:22:58,083 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:22:58,083 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 12:22:58,083 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:23:04,401 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:23:04,407 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 12:23:04,407 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 12:23:04,408 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:23:04,409 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:23:04,409 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:23:04,410 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:23:04,410 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:23:04,410 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 12:23:04,745 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:23:04,745 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:23:04,745 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:23:04,745 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 12:23:04,746 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x129395ae0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x129397680> root_client=<openai.OpenAI object at 0x1293c2950> root_async_client=<openai.AsyncOpenAI object at 0x1293979b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:23:04,746 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:23:04,746 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 12:23:17,039 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:23:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:23:27,096 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:23:27,098 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-20 12:23:27,102 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 12:23:27,102 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:23:27,103 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-20 12:23:27,103 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:23:27,103 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-20 12:23:27,104 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-20 12:23:27,105 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-20 12:23:27,107 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:23:27,107 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:23:27,108 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-20 12:23:27,110 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:23:27,352 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 12:23:27,353 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:23:27,353 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.607초
2025-08-20 12:23:27,353 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-20 12:23:27,353 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-20 12:23:27,353 - mms_extractor - INFO - ============================================================
2025-08-20 12:23:27,353 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:23:27,353 - mms_extractor - INFO - ============================================================
2025-08-20 12:23:27,353 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 12:23:27,353 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:23:27,353 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:23:27,353 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:23:27,353 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:23:27,353 - mms_extractor - INFO - process_message 실행완료: 29.88초
2025-08-20 12:23:27,353 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 275자
2025-08-20 12:23:27,353 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 ...
2025-08-20 12:23:27,353 - __main__ - INFO - 추출 완료: 29.884초
2025-08-20 12:23:27,354 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:23:27] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:23:38,092 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:23:38] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:23:38,094 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 12:23:38,094 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:23:38,094 - mms_extractor - INFO - ============================================================
2025-08-20 12:23:38,094 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:23:38,094 - mms_extractor - INFO - ============================================================
2025-08-20 12:23:38,094 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 12:23:38,094 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 12:23:38,094 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:23:38,094 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:23:38,094 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:23:38,095 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 12:23:38,095 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:23:38,095 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:23:38,095 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:23:38,095 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:23:38,095 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:23:38,095 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 12:23:38,105 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:23:38,111 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 12:23:38,112 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 12:23:38,114 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 12:23:38,114 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 12:23:38,114 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 12:23:38,114 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:23:38,605 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 12:23:38,605 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 12:23:38,606 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 12:23:38,606 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:23:38,773 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 12:23:38,773 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 12:23:38,773 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:23:38,776 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 12:23:38,779 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 12:23:38,780 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 12:23:38,781 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 12:23:38,785 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 12:23:38,786 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 12:23:38,786 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.69초
2025-08-20 12:23:38,786 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 12:23:38,786 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 12:23:38,786 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:23:38,831 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:23:38,832 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:23:38,832 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 12:23:38,832 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:23:38,832 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 12:23:38,832 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 12:23:38,832 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 12:23:38,832 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:23:38,832 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 12:23:38,833 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 12:23:38,833 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 12:23:38,833 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:23:38,833 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 12:23:38,833 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:23:46,522 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:23:46,528 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-20 12:23:46,528 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-20 12:23:46,528 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:23:46,530 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:23:46,530 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:23:46,531 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:23:46,531 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:23:46,531 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 12:23:47,044 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:23:47] "GET /health HTTP/1.1" 200 -
2025-08-20 12:23:47,521 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:23:48,384 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.85초
2025-08-20 12:23:48,392 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:23:48,392 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:23:48,392 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:23:48,392 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 12:23:48,392 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x129395ae0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x129397680> root_client=<openai.OpenAI object at 0x1293c2950> root_async_client=<openai.AsyncOpenAI object at 0x1293979b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:23:48,392 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:23:48,392 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 12:24:16,377 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:24:16,379 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-20 12:24:16,379 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 12:24:16,380 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:24:16,380 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-20 12:24:16,380 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:24:16,381 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-20 12:24:16,381 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-20 12:24:16,382 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 12:24:16,382 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:24:16,382 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 12:24:16,383 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-20 12:24:16,385 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:24:16,637 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 12:24:16,637 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 12:24:16,637 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.246초
2025-08-20 12:24:16,637 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-20 12:24:16,637 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-20 12:24:16,637 - mms_extractor - INFO - ============================================================
2025-08-20 12:24:16,638 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:24:16,638 - mms_extractor - INFO - ============================================================
2025-08-20 12:24:16,638 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-20 12:24:16,638 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:24:16,638 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 12:24:16,638 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:24:16,638 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:24:16,638 - mms_extractor - INFO - process_message 실행완료: 38.54초
2025-08-20 12:24:16,638 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 480자
2025-08-20 12:24:16,638 - __main__ - INFO - DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) ...
2025-08-20 12:24:16,638 - __main__ - INFO - 추출 완료: 38.544초
2025-08-20 12:24:16,639 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:24:16] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:24:17,041 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:24:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:24:34,132 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:24:34] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:24:34,136 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 284자
2025-08-20 12:24:34,136 - __main__ - INFO - LLM 모델이 ax -> claude로 변경됨. 재초기화 중...
2025-08-20 12:24:34,137 - mms_extractor - INFO - LLM 초기화 완료: claude (amazon/anthropic/claude-sonnet-4-20250514)
2025-08-20 12:24:34,138 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 12:24:34,138 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:24:34,138 - mms_extractor - INFO - ============================================================
2025-08-20 12:24:34,142 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:24:34,142 - mms_extractor - INFO - ============================================================
2025-08-20 12:24:34,142 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 12:24:34,143 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 12:24:34,143 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:24:34,143 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:24:34,143 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 12:24:34,143 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 12:24:34,143 - mms_extractor - INFO - LLM 모델: claude
2025-08-20 12:24:34,144 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:24:34,144 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:24:34,144 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:24:34,144 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:24:34,144 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 12:24:34,158 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:24:34,161 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 12:24:34,162 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 12:24:34,164 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 12:24:34,164 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 12:24:34,164 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['버즈', '갤럭시', 'YouTube Premium']
2025-08-20 12:24:34,164 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:24:34,540 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 12:24:34,540 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 12:24:34,541 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 12:24:34,541 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:24:34,666 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 12:24:34,666 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 12:24:34,666 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:24:34,668 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 12:24:34,672 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 12:24:34,672 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 12:24:34,673 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 12:24:34,677 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 12:24:34,677 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 12:24:34,677 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.53초
2025-08-20 12:24:34,677 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 12:24:34,677 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 12:24:34,677 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:24:34,723 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:24:34,723 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:24:34,723 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 12:24:34,723 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:24:34,723 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 12:24:34,723 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 12:24:34,723 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 12:24:34,723 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:24:34,724 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 12:24:34,724 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 12:24:34,724 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:24:34,724 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 12:24:34,724 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 12:24:38,388 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:24:38,394 - mms_extractor - INFO - LLM 응답 길이: 615 문자
2025-08-20 12:24:38,394 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "5G 요금제 특가 혜택",
    "purpose": ["상품 가입 유도", "혜택 안내", "대리점/매장 방문 유도", "웹/앱 접속 유도"],
    "product": [
        {"name": "5G 슈퍼플랜", "action": "가입"},
        {"name": "YouTube Premium", "action": "사용"},
        {"name": "갤럭시 버즈", "action": "기타"}
    ],
    "channel": [
        {"type": "URL", "value": "m.tworld.co.kr", "action": "가입"},
        {"type": "대리점", "value": "전국 T world 매장", "action": "가입"},
        {"type": "전화번호", "value": "114", "action": "문의"},
        {"type": "전...
2025-08-20 12:24:38,394 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:24:38,395 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:24:38,396 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:24:38,396 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도'], 'product': [{'name': '5G 슈퍼플랜', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '타사회선(가망)_win-back']}
2025-08-20 12:24:38,396 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:24:38,396 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 12:24:40,188 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:24:40,574 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 2.18초
2025-08-20 12:24:40,742 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:24:40,742 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:24:40,742 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:24:40,743 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 12:24:40,743 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1293c3550> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x1293c2150> root_client=<openai.OpenAI object at 0x1293c1350> root_async_client=<openai.AsyncOpenAI object at 0x1293c2750> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:24:40,743 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:24:40,743 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 12:24:47,039 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:24:47] "GET /health HTTP/1.1" 200 -
2025-08-20 12:25:15,392 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:25:15,392 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1722자
2025-08-20 12:25:15,392 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
T world에서 5G 슈퍼플랜 요금제 가입을 유도하는 광고로, 50% 할인된 특가와 다양한 부가 혜택(YouTube Premium, 갤럭시 버즈)을 제공하여 신규 고객 확보를 목표로 함. 온라인과 오프라인 모든 채널에서 가입 가능.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 50% 할인...
2025-08-20 12:25:15,392 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:25:15,392 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 737자
2025-08-20 12:25:15,392 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:25:15,392 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-20 12:25:15,392 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 온라인:접속', '5G슈퍼플랜:가입', 'T world 매장:방문', '50%할인+데이터무제한:사용', '갤럭시버즈:수령', 'YouTube Premium:사용', '가족추가회선:가입', '월29000원요금:적용']
2025-08-20 12:25:15,393 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 온라인:접속', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '50%할인+데이터무제한:사용'), ('5G슈퍼플랜:가입', '갤럭시버즈:수령'), ('5G슈퍼플랜:가입', 'YouTube Premium:사용'), ('T world 매장:방문', '5G슈퍼플랜:가입'), ('가족추가회선:가입', '월29000원요금:적용')]
2025-08-20 12:25:15,393 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:25:15,393 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 12:25:15,393 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-20 12:25:15,393 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:25:15,594 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 12:25:15,594 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 12:25:15,595 - mms_extractor - INFO - 🕒 DAG 처리 시간: 34.852초
2025-08-20 12:25:15,595 - mms_extractor - INFO - 📏 DAG 섹션 길이: 737자
2025-08-20 12:25:15,595 - mms_extractor - INFO - 📄 DAG 내용 미리보기: 
```
(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면]-> (50%할인+데이터무제한:사용)
(5G슈퍼플랜:가입) -[가입시]-> (갤럭시버즈:수령)
(5G슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:사용)
(가족...
2025-08-20 12:25:15,595 - mms_extractor - INFO - ============================================================
2025-08-20 12:25:15,595 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:25:15,595 - mms_extractor - INFO - ============================================================
2025-08-20 12:25:15,595 - mms_extractor - INFO - 제목: 5G 요금제 특가 혜택
2025-08-20 12:25:15,595 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도']
2025-08-20 12:25:15,595 - mms_extractor - INFO - 상품 수: 3개
2025-08-20 12:25:15,595 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:25:15,595 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:25:15,595 - mms_extractor - INFO - process_message 실행완료: 41.46초
2025-08-20 12:25:15,595 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 737자
2025-08-20 12:25:15,595 - __main__ - INFO - DAG 내용 미리보기: 
```
(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면...
2025-08-20 12:25:15,595 - __main__ - INFO - 추출 완료: 41.459초
2025-08-20 12:25:15,596 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:25:15] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:25:17,041 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:25:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:25:47,042 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:25:47] "GET /health HTTP/1.1" 200 -
2025-08-20 12:26:17,040 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:26:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:26:47,039 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:26:47] "GET /health HTTP/1.1" 200 -
2025-08-20 12:27:17,038 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:27:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:27:47,038 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:27:47] "GET /health HTTP/1.1" 200 -
2025-08-20 12:28:09,518 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:28:09] "GET /health HTTP/1.1" 200 -
2025-08-20 12:28:13,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:28:13] "GET /health HTTP/1.1" 200 -
2025-08-20 12:28:18,881 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:28:18] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:28:18,883 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 12:28:18,883 - __main__ - INFO - LLM 모델이 claude -> ax로 변경됨. 재초기화 중...
2025-08-20 12:28:18,884 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 12:28:18,884 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 12:28:18,884 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:28:18,884 - mms_extractor - INFO - ============================================================
2025-08-20 12:28:18,885 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:28:18,885 - mms_extractor - INFO - ============================================================
2025-08-20 12:28:18,885 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 12:28:18,885 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 12:28:18,885 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:28:18,885 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:28:18,885 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:28:18,885 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 12:28:18,885 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:28:18,885 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:28:18,885 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:28:18,885 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:28:18,885 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:28:18,885 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 12:28:18,897 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:28:18,899 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 12:28:18,899 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 12:28:18,901 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 12:28:18,901 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 12:28:18,901 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 12:28:18,901 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:28:19,377 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 12:28:19,377 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 12:28:19,378 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 12:28:19,378 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:28:19,539 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 12:28:19,539 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 12:28:19,539 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:28:19,542 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 12:28:19,545 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 12:28:19,545 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 12:28:19,546 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 12:28:19,550 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 12:28:19,550 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 12:28:19,551 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.67초
2025-08-20 12:28:19,551 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 12:28:19,551 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 12:28:19,551 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:28:19,597 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:28:19,597 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:28:19,597 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 12:28:19,597 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:28:19,597 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 12:28:19,597 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 12:28:19,597 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 12:28:19,597 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:28:19,598 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 12:28:19,598 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 12:28:19,599 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 12:28:19,599 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:28:19,599 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 12:28:19,599 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:28:27,337 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:28:27,348 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-20 12:28:27,348 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-20 12:28:27,348 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:28:27,349 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:28:27,349 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:28:27,349 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:28:27,349 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:28:27,349 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 12:28:28,312 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:28:29,152 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.80초
2025-08-20 12:28:29,159 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:28:29,159 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:28:29,159 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:28:29,159 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 12:28:29,159 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1293c3950> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x1293c1b50> root_client=<openai.OpenAI object at 0x13f525d60> root_async_client=<openai.AsyncOpenAI object at 0x1293c1550> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:28:29,159 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:28:29,159 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 12:28:43,248 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:28:43] "GET /health HTTP/1.1" 200 -
2025-08-20 12:28:51,248 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:28:51,251 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2502자
2025-08-20 12:28:51,252 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 웹사이트를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 12:28:51,253 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:28:51,253 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-20 12:28:51,253 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:28:51,254 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 2, 엣지 수: 1
2025-08-20 12:28:51,254 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매']
2025-08-20 12:28:51,255 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 12:28:51,255 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:28:51,255 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 12:28:51,255 - utils - INFO - 📊 입력 그래프 - 노드 수: 2, 엣지 수: 1
2025-08-20 12:28:51,256 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:28:51,496 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 12:28:51,496 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 12:28:51,496 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.337초
2025-08-20 12:28:51,496 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-20 12:28:51,496 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정...
2025-08-20 12:28:51,496 - mms_extractor - INFO - ============================================================
2025-08-20 12:28:51,496 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:28:51,496 - mms_extractor - INFO - ============================================================
2025-08-20 12:28:51,496 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-20 12:28:51,496 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:28:51,496 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 12:28:51,496 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:28:51,496 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:28:51,497 - mms_extractor - INFO - process_message 실행완료: 32.61초
2025-08-20 12:28:51,497 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 270자
2025-08-20 12:28:51,497 - __main__ - INFO - DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S2...
2025-08-20 12:28:51,497 - __main__ - INFO - 추출 완료: 32.614초
2025-08-20 12:28:51,498 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:28:51] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:29:13,244 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:29:13] "GET /health HTTP/1.1" 200 -
2025-08-20 12:29:43,245 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:29:43] "GET /health HTTP/1.1" 200 -
2025-08-20 12:30:13,239 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:30:13] "GET /health HTTP/1.1" 200 -
2025-08-20 12:30:43,240 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:30:43] "GET /health HTTP/1.1" 200 -
2025-08-20 12:31:13,245 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:31:13] "GET /health HTTP/1.1" 200 -
2025-08-20 12:31:43,244 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:31:43] "GET /health HTTP/1.1" 200 -
2025-08-20 12:32:13,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:32:13] "GET /health HTTP/1.1" 200 -
2025-08-20 12:32:43,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:32:43] "GET /health HTTP/1.1" 200 -
2025-08-20 12:33:13,240 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:33:13] "GET /health HTTP/1.1" 200 -
2025-08-20 12:33:43,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:33:43] "GET /health HTTP/1.1" 200 -
2025-08-20 12:34:13,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:34:13] "GET /health HTTP/1.1" 200 -
2025-08-20 12:34:43,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:34:43] "GET /health HTTP/1.1" 200 -
2025-08-20 12:35:13,240 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:35:13] "GET /health HTTP/1.1" 200 -
2025-08-20 12:35:43,241 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:35:43] "GET /health HTTP/1.1" 200 -
2025-08-20 12:35:44,237 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:35:44] "GET /health HTTP/1.1" 200 -
2025-08-20 12:35:48,769 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:35:48] "GET /health HTTP/1.1" 200 -
2025-08-20 12:35:52,929 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:35:52] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:35:52,931 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 12:35:52,931 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:35:52,931 - mms_extractor - INFO - ============================================================
2025-08-20 12:35:52,931 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:35:52,931 - mms_extractor - INFO - ============================================================
2025-08-20 12:35:52,931 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 12:35:52,931 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 12:35:52,931 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:35:52,931 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:35:52,932 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:35:52,932 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 12:35:52,932 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:35:52,932 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:35:52,932 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:35:52,932 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:35:52,932 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:35:52,932 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 12:35:52,946 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:35:52,948 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 12:35:52,948 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 12:35:52,949 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 12:35:52,950 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 12:35:52,950 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 12:35:52,950 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:36:14,489 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 12:36:14,489 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 12:36:14,490 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 12:36:14,490 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:36:14,641 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 12:36:14,642 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 12:36:14,642 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:36:14,645 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 12:36:14,648 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 12:36:14,648 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 12:36:14,649 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 12:36:14,653 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 12:36:14,653 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 12:36:14,654 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 21.72초
2025-08-20 12:36:14,654 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 12:36:14,654 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 12:36:14,654 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:36:14,880 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:36:14,880 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:36:14,880 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 12:36:14,880 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:36:14,880 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 12:36:14,880 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 12:36:14,880 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 12:36:14,880 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:36:14,881 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 12:36:14,882 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 12:36:14,882 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 12:36:14,882 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:36:14,882 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 12:36:14,882 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:36:18,770 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:36:18] "GET /health HTTP/1.1" 200 -
2025-08-20 12:36:22,681 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:36:22,685 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-20 12:36:22,685 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-20 12:36:22,685 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:36:22,688 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:36:22,688 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:36:22,688 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:36:22,688 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:36:22,688 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 12:36:23,652 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:36:24,501 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.81초
2025-08-20 12:36:24,508 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:36:24,508 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:36:24,508 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:36:24,508 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 12:36:24,508 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1293c3950> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x1293c1b50> root_client=<openai.OpenAI object at 0x13f525d60> root_async_client=<openai.AsyncOpenAI object at 0x1293c1550> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:36:24,508 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:36:24,508 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 12:36:48,768 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:36:48] "GET /health HTTP/1.1" 200 -
2025-08-20 12:36:52,524 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:36:52,527 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-20 12:36:52,527 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 12:36:52,527 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:36:52,528 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-20 12:36:52,528 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:36:52,529 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-20 12:36:52,529 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-20 12:36:52,529 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 12:36:52,529 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:36:52,530 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 12:36:52,530 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-20 12:36:52,531 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:36:53,764 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 12:36:53,764 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 12:36:53,764 - mms_extractor - INFO - 🕒 DAG 처리 시간: 29.256초
2025-08-20 12:36:53,764 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-20 12:36:53,764 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-20 12:36:53,764 - mms_extractor - INFO - ============================================================
2025-08-20 12:36:53,764 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:36:53,764 - mms_extractor - INFO - ============================================================
2025-08-20 12:36:53,764 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-20 12:36:53,764 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:36:53,764 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 12:36:53,765 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:36:53,765 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:36:53,765 - mms_extractor - INFO - process_message 실행완료: 60.83초
2025-08-20 12:36:53,765 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 480자
2025-08-20 12:36:53,765 - __main__ - INFO - DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) ...
2025-08-20 12:36:53,765 - __main__ - INFO - 추출 완료: 60.834초
2025-08-20 12:36:53,766 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:36:53] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:37:18,769 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:37:18] "GET /health HTTP/1.1" 200 -
2025-08-20 12:37:48,768 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:37:48] "GET /health HTTP/1.1" 200 -
2025-08-20 12:38:18,768 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:38:18] "GET /health HTTP/1.1" 200 -
2025-08-20 12:38:34,965 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:38:34] "GET /health HTTP/1.1" 200 -
2025-08-20 12:38:37,955 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:38:37] "GET /health HTTP/1.1" 200 -
2025-08-20 12:38:41,441 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:38:41] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:38:41,443 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 284자
2025-08-20 12:38:41,443 - __main__ - INFO - LLM 모델이 ax -> claude로 변경됨. 재초기화 중...
2025-08-20 12:38:41,444 - mms_extractor - INFO - LLM 초기화 완료: claude (amazon/anthropic/claude-sonnet-4-20250514)
2025-08-20 12:38:41,444 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 12:38:41,444 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:38:41,444 - mms_extractor - INFO - ============================================================
2025-08-20 12:38:41,444 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:38:41,444 - mms_extractor - INFO - ============================================================
2025-08-20 12:38:41,444 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 12:38:41,444 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 12:38:41,444 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:38:41,444 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:38:41,444 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 12:38:41,444 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:38:41,444 - mms_extractor - INFO - LLM 모델: claude
2025-08-20 12:38:41,445 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:38:41,445 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:38:41,445 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:38:41,445 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:38:41,445 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 12:38:41,452 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:38:41,455 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 12:38:41,455 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 12:38:41,456 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 12:38:41,456 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 12:38:41,456 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['버즈', '갤럭시', 'YouTube Premium']
2025-08-20 12:38:41,456 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:38:41,857 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 12:38:41,858 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 12:38:41,858 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 12:38:41,858 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:38:42,022 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 12:38:42,023 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 12:38:42,023 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:38:42,025 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 12:38:42,028 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 12:38:42,029 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 12:38:42,030 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 12:38:42,034 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 12:38:42,034 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 12:38:42,035 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.59초
2025-08-20 12:38:42,035 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 12:38:42,035 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 12:38:42,035 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:38:42,100 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:38:42,100 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:38:42,100 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 12:38:42,100 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:38:42,100 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 12:38:42,100 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 12:38:42,100 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 12:38:42,100 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:38:42,100 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 12:38:42,100 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 12:38:42,100 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:38:42,100 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 12:38:42,100 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 12:38:46,783 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:38:46,787 - mms_extractor - INFO - LLM 응답 길이: 615 문자
2025-08-20 12:38:46,788 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "5G 요금제 특가 혜택",
    "purpose": ["상품 가입 유도", "혜택 안내", "대리점/매장 방문 유도", "웹/앱 접속 유도"],
    "product": [
        {"name": "5G 슈퍼플랜", "action": "가입"},
        {"name": "YouTube Premium", "action": "사용"},
        {"name": "갤럭시 버즈", "action": "기타"}
    ],
    "channel": [
        {"type": "URL", "value": "m.tworld.co.kr", "action": "가입"},
        {"type": "대리점", "value": "전국 T world 매장", "action": "가입"},
        {"type": "전화번호", "value": "114", "action": "문의"},
        {"type": "전...
2025-08-20 12:38:46,788 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:38:46,789 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:38:46,790 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:38:46,790 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도'], 'product': [{'name': '5G 슈퍼플랜', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '타사회선(가망)_win-back']}
2025-08-20 12:38:46,790 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:38:46,790 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 12:38:47,151 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:38:47,151 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:38:47,151 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:38:47,151 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 12:38:47,152 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x13f525b80> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x13f525e50> root_client=<openai.OpenAI object at 0x13f526990> root_async_client=<openai.AsyncOpenAI object at 0x13f527e30> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:38:47,152 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:38:47,152 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 12:39:07,428 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:39:07,431 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1759자
2025-08-20 12:39:07,431 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
T world에서 5G 슈퍼플랜 요금제 가입을 유도하는 광고로, 50% 할인된 특가와 다양한 부가 혜택(YouTube Premium, 갤럭시 버즈)을 제공하여 신규 고객 확보를 목표로 함. 온라인과 오프라인 두 가지 가입 경로를 제시.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 50% 할...
2025-08-20 12:39:07,431 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:39:07,432 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 754자
2025-08-20 12:39:07,432 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:39:07,432 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 7, 엣지 수: 6
2025-08-20 12:39:07,432 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world매장:방문', '5G슈퍼플랜:가입', 'm.tworld.co.kr:접속', '50%할인혜택:수령', '갤럭시버즈:수령', '5G슈퍼플랜서비스:사용', '가족추가회선:가입']
2025-08-20 12:39:07,432 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world매장:방문', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '50%할인혜택:수령'), ('5G슈퍼플랜:가입', '갤럭시버즈:수령'), ('5G슈퍼플랜:가입', '5G슈퍼플랜서비스:사용'), ('5G슈퍼플랜:가입', '가족추가회선:가입'), ('m.tworld.co.kr:접속', '5G슈퍼플랜:가입')]
2025-08-20 12:39:07,432 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:39:07,432 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 12:39:07,432 - utils - INFO - 📊 입력 그래프 - 노드 수: 7, 엣지 수: 6
2025-08-20 12:39:07,433 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:39:07,958 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:39:07] "GET /health HTTP/1.1" 200 -
2025-08-20 12:39:08,023 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 12:39:08,023 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 12:39:08,023 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.872초
2025-08-20 12:39:08,023 - mms_extractor - INFO - 📏 DAG 섹션 길이: 754자
2025-08-20 12:39:08,023 - mms_extractor - INFO - 📄 DAG 내용 미리보기: 
```
(T world매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(m.tworld.co.kr:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면]-> (50%할인혜택:수령)
(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)
(5G슈퍼플랜:가입) -[가입후]-> (5G슈퍼플랜서비스:사용)
(5G슈퍼플랜:가입) ...
2025-08-20 12:39:08,023 - mms_extractor - INFO - ============================================================
2025-08-20 12:39:08,023 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:39:08,023 - mms_extractor - INFO - ============================================================
2025-08-20 12:39:08,023 - mms_extractor - INFO - 제목: 5G 요금제 특가 혜택
2025-08-20 12:39:08,023 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도']
2025-08-20 12:39:08,023 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:39:08,023 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:39:08,023 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:39:08,024 - mms_extractor - INFO - process_message 실행완료: 26.58초
2025-08-20 12:39:08,024 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 754자
2025-08-20 12:39:08,024 - __main__ - INFO - DAG 내용 미리보기: 
```
(T world매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(m.tworld.co.kr:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입...
2025-08-20 12:39:08,024 - __main__ - INFO - 추출 완료: 26.581초
2025-08-20 12:39:08,024 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:39:08] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:39:37,957 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:39:37] "GET /health HTTP/1.1" 200 -
2025-08-20 12:40:07,958 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:40:07] "GET /health HTTP/1.1" 200 -
2025-08-20 12:40:37,960 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:40:37] "GET /health HTTP/1.1" 200 -
2025-08-20 12:41:07,957 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:41:07] "GET /health HTTP/1.1" 200 -
2025-08-20 12:41:37,956 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:41:37] "GET /health HTTP/1.1" 200 -
2025-08-20 12:42:07,966 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:42:07] "GET /health HTTP/1.1" 200 -
2025-08-20 12:42:37,964 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:42:37] "GET /health HTTP/1.1" 200 -
2025-08-20 12:43:07,960 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:43:07] "GET /health HTTP/1.1" 200 -
2025-08-20 12:43:37,964 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:43:37] "GET /health HTTP/1.1" 200 -
2025-08-20 12:44:07,962 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:44:07] "GET /health HTTP/1.1" 200 -
2025-08-20 12:44:37,963 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:44:37] "GET /health HTTP/1.1" 200 -
2025-08-20 12:44:54,880 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:44:54] "GET /health HTTP/1.1" 200 -
2025-08-20 12:44:57,115 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:44:57] "GET /health HTTP/1.1" 200 -
2025-08-20 12:44:57,368 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:44:57] "GET /health HTTP/1.1" 200 -
2025-08-20 12:45:00,448 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:45:00] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:45:00,451 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 284자
2025-08-20 12:45:00,451 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:45:00,451 - mms_extractor - INFO - ============================================================
2025-08-20 12:45:00,452 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:45:00,452 - mms_extractor - INFO - ============================================================
2025-08-20 12:45:00,452 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 12:45:00,452 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 12:45:00,452 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:45:00,452 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:45:00,452 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 12:45:00,452 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:45:00,452 - mms_extractor - INFO - LLM 모델: claude
2025-08-20 12:45:00,452 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:45:00,452 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:45:00,452 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:45:00,453 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:45:00,453 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 12:45:00,466 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:45:00,469 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 12:45:00,470 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 12:45:00,472 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 12:45:00,472 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 12:45:00,472 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['버즈', '갤럭시', 'YouTube Premium']
2025-08-20 12:45:00,472 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:45:06,711 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 12:45:06,711 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 12:45:06,712 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 12:45:06,712 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:45:06,826 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 12:45:06,827 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 12:45:06,827 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:45:06,829 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 12:45:06,832 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 12:45:06,833 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 12:45:06,834 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 12:45:06,837 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 12:45:06,838 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 12:45:06,838 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 6.39초
2025-08-20 12:45:06,838 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 12:45:06,838 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 12:45:06,838 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:45:06,896 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:45:06,897 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:45:06,897 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 12:45:06,897 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:45:06,897 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 12:45:06,897 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 12:45:06,897 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 12:45:06,897 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:45:06,897 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 12:45:06,897 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 12:45:06,897 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:45:06,897 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 12:45:06,897 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 12:45:13,039 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:45:13,042 - mms_extractor - INFO - LLM 응답 길이: 581 문자
2025-08-20 12:45:13,042 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "5G 요금제 특가 혜택",
    "purpose": ["상품 가입 유도", "혜택 안내", "대리점/매장 방문 유도"],
    "product": [
        {"name": "5G 슈퍼플랜", "action": "가입"},
        {"name": "YouTube Premium", "action": "사용"},
        {"name": "갤럭시 버즈", "action": "기타"}
    ],
    "channel": [
        {"type": "URL", "value": "m.tworld.co.kr", "action": "가입"},
        {"type": "대리점", "value": "전국 T world 매장", "action": "가입"},
        {"type": "전화번호", "value": "114", "action": "문의"},
        {"type": "전화번호", "value"...
2025-08-20 12:45:13,042 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:45:13,043 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:45:13,043 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:45:13,043 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도'], 'product': [{'name': '5G 슈퍼플랜', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제']}
2025-08-20 12:45:13,044 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:45:13,044 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 12:45:13,403 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:45:13,404 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:45:13,404 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:45:13,404 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 12:45:13,404 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x13f525b80> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x13f525e50> root_client=<openai.OpenAI object at 0x13f526990> root_async_client=<openai.AsyncOpenAI object at 0x13f527e30> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:45:13,404 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:45:13,404 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 12:45:27,366 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:45:27] "GET /health HTTP/1.1" 200 -
2025-08-20 12:45:34,211 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:45:34,215 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1736자
2025-08-20 12:45:34,215 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
T world에서 5G 슈퍼플랜 요금제 가입을 유도하는 광고로, 50% 할인된 특가와 다양한 부가 혜택(YouTube Premium, 갤럭시 버즈)을 제공하여 신규 고객 확보를 목표로 함. 온라인과 오프라인 두 가지 가입 경로를 제시.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 50% 할...
2025-08-20 12:45:34,215 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:45:34,216 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 706자
2025-08-20 12:45:34,216 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:45:34,217 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 6, 엣지 수: 5
2025-08-20 12:45:34,217 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 온라인:접속', '5G슈퍼플랜:가입', 'T world 매장:방문', '50%할인혜택:수령', '갤럭시버즈:수령', '5G프리미엄서비스:사용']
2025-08-20 12:45:34,218 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 온라인:접속', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '50%할인혜택:수령'), ('5G슈퍼플랜:가입', '갤럭시버즈:수령'), ('5G슈퍼플랜:가입', '5G프리미엄서비스:사용'), ('T world 매장:방문', '5G슈퍼플랜:가입')]
2025-08-20 12:45:34,219 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:45:34,219 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 12:45:34,220 - utils - INFO - 📊 입력 그래프 - 노드 수: 6, 엣지 수: 5
2025-08-20 12:45:34,221 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:45:34,545 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 12:45:34,545 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 12:45:34,545 - mms_extractor - INFO - 🕒 DAG 처리 시간: 21.141초
2025-08-20 12:45:34,545 - mms_extractor - INFO - 📏 DAG 섹션 길이: 706자
2025-08-20 12:45:34,545 - mms_extractor - INFO - 📄 DAG 내용 미리보기: 
```
(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면]-> (50%할인혜택:수령)
(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)
(5G슈퍼플랜:가입) -[가입후]-> (5G프리미엄서비스:사용)
```

## 5. 최종 ...
2025-08-20 12:45:34,545 - mms_extractor - INFO - ============================================================
2025-08-20 12:45:34,545 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:45:34,545 - mms_extractor - INFO - ============================================================
2025-08-20 12:45:34,545 - mms_extractor - INFO - 제목: 5G 요금제 특가 혜택
2025-08-20 12:45:34,545 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도']
2025-08-20 12:45:34,545 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:45:34,545 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:45:34,545 - mms_extractor - INFO - 프로그램 수: 1개
2025-08-20 12:45:34,545 - mms_extractor - INFO - process_message 실행완료: 34.09초
2025-08-20 12:45:34,545 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 706자
2025-08-20 12:45:34,546 - __main__ - INFO - DAG 내용 미리보기: 
```
(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면...
2025-08-20 12:45:34,546 - __main__ - INFO - 추출 완료: 34.094초
2025-08-20 12:45:34,546 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:45:34] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:45:57,362 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:45:57] "GET /health HTTP/1.1" 200 -
2025-08-20 12:46:27,361 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:46:27] "GET /health HTTP/1.1" 200 -
2025-08-20 12:46:57,361 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:46:57] "GET /health HTTP/1.1" 200 -
2025-08-20 12:47:27,366 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:47:27] "GET /health HTTP/1.1" 200 -
2025-08-20 12:47:57,360 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:47:57] "GET /health HTTP/1.1" 200 -
2025-08-20 12:48:12,260 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:48:12] "GET /health HTTP/1.1" 200 -
2025-08-20 12:48:14,435 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:48:14] "GET /health HTTP/1.1" 200 -
2025-08-20 12:48:18,319 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:48:18] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:48:18,321 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 12:48:18,321 - __main__ - INFO - LLM 모델이 claude -> ax로 변경됨. 재초기화 중...
2025-08-20 12:48:18,322 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 12:48:18,322 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 12:48:18,322 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:48:18,322 - mms_extractor - INFO - ============================================================
2025-08-20 12:48:18,322 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:48:18,322 - mms_extractor - INFO - ============================================================
2025-08-20 12:48:18,322 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 12:48:18,322 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 12:48:18,322 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:48:18,322 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:48:18,323 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:48:18,323 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:48:18,323 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:48:18,323 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:48:18,323 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:48:18,323 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:48:18,323 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:48:18,323 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 12:48:18,332 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:48:18,336 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 12:48:18,337 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 12:48:18,339 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 12:48:18,339 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 12:48:18,339 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-20 12:48:18,339 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:48:18,778 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 12:48:18,778 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 12:48:18,779 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 12:48:18,779 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:48:18,871 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 12:48:18,872 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 12:48:18,872 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:48:18,875 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 12:48:18,878 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 12:48:18,878 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 12:48:18,879 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 12:48:18,883 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 12:48:18,883 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 12:48:18,884 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.56초
2025-08-20 12:48:18,884 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:48:18,884 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 12:48:18,884 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:48:18,974 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:48:18,974 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:48:18,974 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 12:48:18,974 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:48:18,974 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 12:48:18,974 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:48:18,974 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 12:48:18,974 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:48:18,974 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 12:48:18,975 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 12:48:18,975 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 12:48:18,975 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:48:18,975 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 12:48:18,975 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:48:25,318 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:48:25,321 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 12:48:25,321 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 12:48:25,321 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:48:25,322 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:48:25,322 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:48:25,322 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:48:25,322 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:48:25,322 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 12:48:25,669 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:48:25,669 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:48:25,669 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:48:25,669 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 12:48:25,669 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x13f527890> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x13f527110> root_client=<openai.OpenAI object at 0x13f514f30> root_async_client=<openai.AsyncOpenAI object at 0x13f5254f0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:48:25,669 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:48:25,669 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 12:48:44,435 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:48:44] "GET /health HTTP/1.1" 200 -
2025-08-20 12:48:45,423 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:48:45,425 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2227자
2025-08-20 12:48:45,425 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 12:48:45,425 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:48:45,426 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 182자
2025-08-20 12:48:45,426 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:48:45,427 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-20 12:48:45,427 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령']
2025-08-20 12:48:45,427 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령')]
2025-08-20 12:48:45,427 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:48:45,428 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:48:45,428 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-20 12:48:45,428 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:48:45,912 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 12:48:45,912 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:48:45,912 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.243초
2025-08-20 12:48:45,912 - mms_extractor - INFO - 📏 DAG 섹션 길이: 182자
2025-08-20 12:48:45,912 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)...
2025-08-20 12:48:45,912 - mms_extractor - INFO - ============================================================
2025-08-20 12:48:45,912 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:48:45,912 - mms_extractor - INFO - ============================================================
2025-08-20 12:48:45,912 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 12:48:45,912 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:48:45,912 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:48:45,912 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:48:45,912 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:48:45,912 - mms_extractor - INFO - process_message 실행완료: 27.59초
2025-08-20 12:48:45,912 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 182자
2025-08-20 12:48:45,912 - __main__ - INFO - DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디...
2025-08-20 12:48:45,912 - __main__ - INFO - 추출 완료: 27.591초
2025-08-20 12:48:45,913 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:48:45] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:49:14,434 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:49:14] "GET /health HTTP/1.1" 200 -
2025-08-20 12:49:44,436 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:49:44] "GET /health HTTP/1.1" 200 -
2025-08-20 12:50:14,434 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:50:14] "GET /health HTTP/1.1" 200 -
2025-08-20 12:50:44,436 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:50:44] "GET /health HTTP/1.1" 200 -
2025-08-20 12:51:02,832 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:51:02] "GET /health HTTP/1.1" 200 -
2025-08-20 12:51:14,435 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:51:14] "GET /health HTTP/1.1" 200 -
2025-08-20 12:51:44,434 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:51:44] "GET /health HTTP/1.1" 200 -
2025-08-20 12:52:47,633 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-20 12:52:47,633 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-20 12:52:47,633 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-20 12:52:47,633 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-20 12:52:47,633 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-20 12:52:47,656 - mms_extractor - INFO - Using device: mps
2025-08-20 12:52:47,656 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-20 12:52:47,656 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 12:52:47,656 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 12:52:47,656 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-20 12:52:47,657 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-20 12:52:47,657 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-20 12:52:52,744 - mms_extractor - INFO - Model loaded on mps
2025-08-20 12:52:52,744 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 5.09초
2025-08-20 12:52:53,217 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-20 12:52:53,218 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.47초
2025-08-20 12:52:53,218 - mms_extractor - INFO - ============================================================
2025-08-20 12:52:53,218 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-20 12:52:53,218 - mms_extractor - INFO - ============================================================
2025-08-20 12:52:53,218 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-20 12:52:53,218 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-20 12:52:53,218 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-20 12:52:53,218 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-20 12:52:53,218 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-20 12:52:53,335 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-20 12:52:53,335 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-20 12:52:53,344 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-20 12:52:53,348 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-20 12:52:53,349 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 12:52:53,352 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-20 12:52:53,352 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-20 12:52:53,352 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-20 12:52:53,352 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-20 12:52:53,352 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-20 12:52:53,352 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-20 12:52:53,352 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-20 12:52:53,360 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-20 12:52:53,361 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-20 12:52:53,361 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-20 12:52:53,707 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-20 12:52:53,709 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-20 12:52:53,709 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-20 12:52:53,709 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-20 12:52:53,710 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-20 12:52:53,711 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-20 12:52:53,711 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-20 12:52:53,711 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-20 12:52:53,711 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-20 12:52:53,718 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-20 12:52:53,721 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-20 12:52:53,721 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 12:52:53,780 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-20 12:52:53,780 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-20 12:52:53,780 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-20 12:52:53,789 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-20 12:52:53,789 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-20 12:52:53,964 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-20 12:52:53,965 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-20 12:52:53,965 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-20 12:52:54,449 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-20 12:52:54,449 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-20 12:52:54,449 - mms_extractor - INFO - ============================================================
2025-08-20 12:52:54,449 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-20 12:52:54,449 - mms_extractor - INFO - ============================================================
2025-08-20 12:52:54,449 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-20 12:52:54,449 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-20 12:52:54,449 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-20 12:52:54,449 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-20 12:52:54,449 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-20 12:52:54,454 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-20 12:52:54,460 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-20 12:52:54,464 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-20 12:52:54,464 - mms_extractor - INFO - _load_data 실행완료: 1.25초
2025-08-20 12:52:54,464 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-20 12:52:54,464 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-20 12:52:54,464 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-20 12:52:54,464 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-20 12:52:54,464 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-20 12:52:54,464 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-20 12:52:54,464 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-20 12:52:54,464 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-20 12:52:54,464 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-20 12:52:54,464 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-20 12:52:54,464 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-20 12:52:54,474 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.24.218:8000
2025-08-20 12:52:54,475 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-20 12:52:59,081 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:52:59] "GET /health HTTP/1.1" 200 -
2025-08-20 12:53:02,472 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:53:02] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:53:02,475 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-20 12:53:02,475 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:53:02,475 - mms_extractor - INFO - ============================================================
2025-08-20 12:53:02,475 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:53:02,475 - mms_extractor - INFO - ============================================================
2025-08-20 12:53:02,475 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-20 12:53:02,476 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-20 12:53:02,476 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:53:02,476 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:53:02,476 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 12:53:02,476 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:53:02,476 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:53:02,476 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:53:02,476 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:53:02,476 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:53:02,476 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:53:02,476 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-20 12:53:02,493 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:53:03,005 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-20 12:53:03,005 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-20 12:53:03,007 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-20 12:53:03,007 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-20 12:53:03,007 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-20 12:53:03,007 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:53:10,411 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-20 12:53:10,411 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-20 12:53:10,483 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-20 12:53:10,483 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:53:10,570 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-20 12:53:10,571 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-20 12:53:10,571 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:53:10,573 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-20 12:53:10,579 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-20 12:53:10,579 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-20 12:53:10,581 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-20 12:53:10,585 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-20 12:53:10,586 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-20 12:53:10,586 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 8.11초
2025-08-20 12:53:10,586 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:53:10,586 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-20 12:53:10,586 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:53:10,794 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:53:10,794 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:53:10,794 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-20 12:53:10,794 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:53:10,794 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-20 12:53:10,794 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-20 12:53:10,794 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-20 12:53:10,794 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:53:10,794 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-20 12:53:10,795 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-20 12:53:10,795 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-20 12:53:10,795 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:53:10,795 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-20 12:53:10,796 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 12:53:17,394 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:53:17,408 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-20 12:53:17,408 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-20 12:53:17,408 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:53:17,409 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:53:17,409 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:53:17,409 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 12:53:17,409 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:53:17,409 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-20 12:53:17,756 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:53:17,756 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:53:17,756 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:53:17,756 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-20 12:53:17,756 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x128924cb0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x128925010> root_client=<openai.OpenAI object at 0x12890bf00> root_async_client=<openai.AsyncOpenAI object at 0x128924dd0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:53:17,756 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:53:17,756 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-20 12:53:29,081 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:53:29] "GET /health HTTP/1.1" 200 -
2025-08-20 12:53:40,104 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:53:40,106 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-20 12:53:40,107 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-20 12:53:40,107 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:53:40,107 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-20 12:53:40,108 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:53:40,108 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-20 12:53:40,108 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-20 12:53:40,109 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-20 12:53:40,109 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:53:40,109 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:53:40,109 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-20 12:53:40,110 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:53:40,370 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-20 12:53:40,370 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-20 12:53:40,371 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.615초
2025-08-20 12:53:40,371 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-20 12:53:40,371 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-20 12:53:40,371 - mms_extractor - INFO - ============================================================
2025-08-20 12:53:40,371 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:53:40,371 - mms_extractor - INFO - ============================================================
2025-08-20 12:53:40,371 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-20 12:53:40,371 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 12:53:40,371 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:53:40,371 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:53:40,371 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:53:40,371 - mms_extractor - INFO - process_message 실행완료: 37.90초
2025-08-20 12:53:40,371 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 6자
2025-08-20 12:53:40,371 - __main__ - INFO - DAG 내용 미리보기: ['(T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)', '(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)', '(ZEM폰 포켓몬에디션3:사용) -[사용하면]-> (안전한 사용 환경:경험)']...
2025-08-20 12:53:40,371 - __main__ - INFO - 추출 완료: 37.896초
2025-08-20 12:53:40,372 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:53:40] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:53:59,087 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:53:59] "GET /health HTTP/1.1" 200 -
2025-08-20 12:54:29,085 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:54:29] "GET /health HTTP/1.1" 200 -
2025-08-20 12:54:59,087 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:54:59] "GET /health HTTP/1.1" 200 -
2025-08-20 12:55:29,086 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:55:29] "GET /health HTTP/1.1" 200 -
2025-08-20 12:55:59,086 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:55:59] "GET /health HTTP/1.1" 200 -
2025-08-20 12:56:29,087 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:56:29] "GET /health HTTP/1.1" 200 -
2025-08-20 12:56:59,086 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:56:59] "GET /health HTTP/1.1" 200 -
2025-08-20 12:57:29,083 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:57:29] "GET /health HTTP/1.1" 200 -
2025-08-20 12:57:59,081 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:57:59] "GET /health HTTP/1.1" 200 -
2025-08-20 12:58:14,070 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:58:14] "GET /health HTTP/1.1" 200 -
2025-08-20 12:58:17,308 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:58:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:58:25,738 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:58:25] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 12:58:25,742 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 284자
2025-08-20 12:58:25,742 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 12:58:25,743 - mms_extractor - INFO - ============================================================
2025-08-20 12:58:25,743 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 12:58:25,743 - mms_extractor - INFO - ============================================================
2025-08-20 12:58:25,743 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 12:58:25,743 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 12:58:25,743 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 12:58:25,744 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 12:58:25,744 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 12:58:25,744 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 12:58:25,744 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 12:58:25,744 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 12:58:25,744 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 12:58:25,744 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 12:58:25,744 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 12:58:25,744 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 12:58:25,760 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 12:58:25,768 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 12:58:25,768 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 12:58:25,770 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 12:58:25,771 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 12:58:25,771 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['버즈', '갤럭시', 'YouTube Premium']
2025-08-20 12:58:25,771 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 12:58:32,321 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 12:58:32,322 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 12:58:32,322 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 12:58:32,323 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 12:58:32,449 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 12:58:32,449 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 12:58:32,450 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 12:58:32,452 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 12:58:32,455 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 12:58:32,456 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 12:58:32,457 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 12:58:32,461 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 12:58:32,461 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 12:58:32,461 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 6.72초
2025-08-20 12:58:32,461 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 12:58:32,461 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 12:58:32,461 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 12:58:32,532 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 12:58:32,532 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 12:58:32,532 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 12:58:32,532 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 12:58:32,532 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 12:58:32,532 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 12:58:32,532 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 12:58:32,532 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 12:58:32,532 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 12:58:32,532 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 12:58:32,532 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 12:58:32,532 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 12:58:32,532 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 12:58:39,612 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:58:39,615 - mms_extractor - INFO - LLM 응답 길이: 1034 문자
2025-08-20 12:58:39,615 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[T world] 5G 요금제 특가 혜택",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내",
        "경품 제공 안내"
    ],
    "product": [
        {
            "name": "5G 슈퍼플랜 (데이터 무제한)",
            "action": "가입"
        },
        {
            "name": "가족 추가 회선",
            "action": "가입"
        },
        {
            "name": "YouTube Premium",
            "action": "사용"
        },
        {
            "name": "갤럭시 버즈",
            "action": "기타"
        }
    ],
    "channel":...
2025-08-20 12:58:39,615 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 12:58:39,616 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 12:58:39,616 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 12:58:39,616 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[T world] 5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '경품 제공 안내'], 'product': [{'name': '5G 슈퍼플랜 (데이터 무제한)', 'action': '가입'}, {'name': '가족 추가 회선', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '상품및부가서비스가입유도_단말']}
2025-08-20 12:58:39,616 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 12:58:39,616 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜 (데이터 무제한)', '가족 추가 회선', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 12:58:40,024 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 12:58:40,024 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 12:58:40,025 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 12:58:40,025 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 12:58:40,025 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x128924cb0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x128925010> root_client=<openai.OpenAI object at 0x12890bf00> root_async_client=<openai.AsyncOpenAI object at 0x128924dd0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 12:58:40,025 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 12:58:40,025 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 12:58:47,318 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:58:47] "GET /health HTTP/1.1" 200 -
2025-08-20 12:59:02,293 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 12:59:02,296 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2584자
2025-08-20 12:59:02,296 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
T world에서 5G 슈퍼플랜 요금제의 특가 이벤트를 진행 중이며, 신규 가입자에게 다양한 혜택을 제공하고자 합니다. 주요 혜택은 50% 할인, 가족 추가 회선 할인, YouTube Premium 6개월 무료, 그리고 갤럭시 버즈 증정입니다. 가입은 온라인, 매장, 고객센터를 통해 가능합니다....
2025-08-20 12:59:02,297 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 12:59:02,297 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 336자
2025-08-20 12:59:02,298 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 12:59:02,299 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 9, 엣지 수: 10
2025-08-20 12:59:02,300 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['온라인:가입', '5G 슈퍼플랜:가입', '가족추가회선:가입', '매장:가입', '고객센터:가입', '50%할인:수령', 'YouTube Premium:무료이용', '갤럭시버즈:수령', '29000원:수령']
2025-08-20 12:59:02,300 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('온라인:가입', '5G 슈퍼플랜:가입'), ('온라인:가입', '가족추가회선:가입'), ('5G 슈퍼플랜:가입', '50%할인:수령'), ('5G 슈퍼플랜:가입', 'YouTube Premium:무료이용'), ('5G 슈퍼플랜:가입', '갤럭시버즈:수령'), ('가족추가회선:가입', '29000원:수령'), ('매장:가입', '5G 슈퍼플랜:가입'), ('매장:가입', '가족추가회선:가입'), ('고객센터:가입', '5G 슈퍼플랜:가입'), ('고객센터:가입', '가족추가회선:가입')]
2025-08-20 12:59:02,300 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 12:59:02,300 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 12:59:02,300 - utils - INFO - 📊 입력 그래프 - 노드 수: 9, 엣지 수: 10
2025-08-20 12:59:02,302 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 12:59:02,590 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 12:59:02,591 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 12:59:02,591 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.566초
2025-08-20 12:59:02,591 - mms_extractor - INFO - 📏 DAG 섹션 길이: 336자
2025-08-20 12:59:02,591 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입)
(온라인:가입) -[가입하면]-> (가족추가회선:가입)
(매장:가입) -[가입하면]-> (5G 슈퍼플랜:가입)
(매장:가입) -[가입하면]-> (가족추가회선:가입)
(고객센터:가입) -[가입하면]-> (5G 슈퍼플랜:가입)
(고객센터:가입) -[가입하면]-> (가족추가회선:가입)
(5G 슈퍼플랜:가입...
2025-08-20 12:59:02,591 - mms_extractor - INFO - ============================================================
2025-08-20 12:59:02,591 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 12:59:02,591 - mms_extractor - INFO - ============================================================
2025-08-20 12:59:02,591 - mms_extractor - INFO - 제목: [T world] 5G 요금제 특가 혜택
2025-08-20 12:59:02,591 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '경품 제공 안내']
2025-08-20 12:59:02,591 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 12:59:02,591 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 12:59:02,591 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 12:59:02,591 - mms_extractor - INFO - process_message 실행완료: 36.85초
2025-08-20 12:59:02,591 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 10자
2025-08-20 12:59:02,591 - __main__ - INFO - DAG 내용 미리보기: ['(온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입)', '(온라인:가입) -[가입하면]-> (가족추가회선:가입)', '(매장:가입) -[가입하면]-> (5G 슈퍼플랜:가입)', '(매장:가입) -[가입하면]-> (가족추가회선:가입)', '(고객센터:가입) -[가입하면]-> (5G 슈퍼플랜:가입)', '(고객센터:가입) -[가입하면]-> (가족추가회선:가입)', '(5G 슈퍼플랜:가입) -[가입하면]-> (50%할인:수령)', '(5G 슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:무료이용)', '(5G 슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)', '(가족추가회선:가입) -[가입하면]-> (29000원:수령)']...
2025-08-20 12:59:02,591 - __main__ - INFO - 추출 완료: 36.849초
2025-08-20 12:59:02,592 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:59:02] "POST /extract HTTP/1.1" 200 -
2025-08-20 12:59:17,313 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:59:17] "GET /health HTTP/1.1" 200 -
2025-08-20 12:59:47,315 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 12:59:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:00:17,315 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:00:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:00:47,315 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:00:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:01:17,316 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:01:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:01:47,315 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:01:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:02:17,313 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:02:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:02:47,313 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:02:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:03:17,316 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:03:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:03:47,312 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:03:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:04:17,314 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:04:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:04:47,314 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:04:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:05:17,314 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:05:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:05:47,317 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:05:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:06:17,316 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:06:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:06:47,318 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:06:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:07:17,319 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:07:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:07:47,317 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:07:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:08:17,319 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:08:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:08:47,318 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:08:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:09:17,320 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:09:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:09:47,316 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:09:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:10:17,318 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:10:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:10:47,316 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:10:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:11:17,317 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:11:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:11:47,315 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:11:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:12:17,315 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:12:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:12:47,314 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:12:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:13:17,320 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:13:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:13:47,319 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:13:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:14:17,324 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:14:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:14:47,315 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:14:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:15:17,320 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:15:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:15:47,319 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:15:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:16:17,320 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:16:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:16:47,320 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:16:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:17:17,320 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:17:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:17:47,321 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:17:47] "GET /health HTTP/1.1" 200 -
2025-08-20 13:18:17,321 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:18:17] "GET /health HTTP/1.1" 200 -
2025-08-20 13:21:55,611 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:21:55] "GET /health HTTP/1.1" 200 -
2025-08-20 13:22:25,617 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:22:25] "GET /health HTTP/1.1" 200 -
2025-08-20 13:23:26,618 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:23:26] "GET /health HTTP/1.1" 200 -
2025-08-20 13:24:26,657 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:24:26] "GET /health HTTP/1.1" 200 -
2025-08-20 13:30:32,436 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:30:32] "GET /health HTTP/1.1" 200 -
2025-08-20 13:47:20,521 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:47:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:48:20,514 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:48:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:49:20,547 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:49:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:50:20,539 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:50:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:51:20,528 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:51:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:52:20,546 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:52:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:53:20,546 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:53:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:54:20,511 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:54:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:55:20,535 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:55:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:56:20,533 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:56:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:57:20,551 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:57:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:58:20,548 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:58:20] "GET /health HTTP/1.1" 200 -
2025-08-20 13:59:20,511 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 13:59:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:00:20,531 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:00:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:01:20,534 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:01:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:02:20,549 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:02:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:03:20,530 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:03:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:04:20,521 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:04:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:05:20,542 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:05:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:06:20,525 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:06:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:07:20,561 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:07:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:08:20,541 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:08:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:09:20,521 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:09:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:10:20,539 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:10:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:11:20,542 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:11:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:12:20,544 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:12:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:13:20,543 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:13:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:14:20,524 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:14:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:15:20,550 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:15:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:16:20,564 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:16:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:17:20,532 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:17:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:18:20,529 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:18:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:19:20,526 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:19:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:20:20,546 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:20:20] "GET /health HTTP/1.1" 200 -
2025-08-20 14:37:11,645 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:37:11] "GET /health HTTP/1.1" 200 -
2025-08-20 14:55:39,947 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:55:39] "GET /health HTTP/1.1" 200 -
2025-08-20 14:56:39,950 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:56:39] "GET /health HTTP/1.1" 200 -
2025-08-20 14:57:39,943 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:57:39] "GET /health HTTP/1.1" 200 -
2025-08-20 14:58:39,952 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:58:39] "GET /health HTTP/1.1" 200 -
2025-08-20 14:59:39,954 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 14:59:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:00:39,953 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:00:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:01:39,960 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:01:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:02:39,953 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:02:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:03:39,962 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:03:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:04:39,952 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:04:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:05:39,951 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:05:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:06:39,959 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:06:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:07:39,951 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:07:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:08:39,956 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:08:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:09:39,952 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:09:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:10:39,952 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:10:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:11:39,945 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:11:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:12:39,955 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:12:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:13:39,961 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:13:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:14:39,950 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:14:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:15:39,952 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:15:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:16:39,969 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:16:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:17:39,999 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:17:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:18:39,967 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:18:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:19:39,973 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:19:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:20:39,986 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:20:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:21:39,966 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:21:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:22:39,986 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:22:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:23:39,950 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:23:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:24:39,976 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:24:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:25:39,987 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:25:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:26:39,972 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:26:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:27:39,987 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:27:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:28:39,969 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:28:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:29:39,977 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:29:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:30:39,973 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:30:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:31:39,926 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:31:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:32:39,937 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:32:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:33:39,944 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:33:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:34:39,934 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:34:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:35:39,934 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:35:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:36:39,941 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:36:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:37:39,910 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:37:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:38:39,927 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:38:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:39:39,910 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:39:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:40:39,936 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:40:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:41:39,912 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:41:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:42:39,909 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:42:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:43:39,937 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:43:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:44:39,919 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:44:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:45:39,927 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:45:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:46:39,902 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:46:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:47:39,953 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:47:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:48:39,935 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:48:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:49:39,936 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:49:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:50:39,921 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:50:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:51:39,927 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:51:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:52:39,897 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:52:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:53:39,917 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:53:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:54:39,914 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:54:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:55:39,936 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:55:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:56:39,920 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:56:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:57:39,898 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:57:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:58:39,931 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:58:39] "GET /health HTTP/1.1" 200 -
2025-08-20 15:59:39,907 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 15:59:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:00:39,894 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:00:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:01:39,911 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:01:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:02:39,932 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:02:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:03:39,910 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:03:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:04:39,928 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:04:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:05:39,933 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:05:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:06:39,932 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:06:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:07:39,951 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:07:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:08:39,917 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:08:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:09:39,935 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:09:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:10:39,930 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:10:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:11:39,932 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:11:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:12:39,917 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:12:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:13:39,944 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:13:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:14:39,926 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:14:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:15:39,925 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:15:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:16:39,926 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:16:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:17:39,941 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:17:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:18:39,905 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:18:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:19:39,932 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:19:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:20:39,968 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:20:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:21:39,956 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:21:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:22:39,939 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:22:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:23:39,958 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:23:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:24:39,940 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:24:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:25:39,944 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:25:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:26:39,945 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:26:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:27:39,971 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:27:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:28:39,937 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:28:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:29:39,942 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:29:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:30:39,950 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:30:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:31:39,968 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:31:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:32:39,938 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:32:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:33:39,973 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:33:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:34:39,940 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:34:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:35:39,967 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:35:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:36:39,956 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:36:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:37:39,978 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:37:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:38:39,955 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:38:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:39:39,945 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:39:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:40:39,954 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:40:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:41:39,950 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:41:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:42:39,976 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:42:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:43:39,988 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:43:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:44:39,953 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:44:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:45:39,938 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:45:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:46:39,951 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:46:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:47:39,940 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:47:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:48:39,938 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:48:39] "GET /health HTTP/1.1" 200 -
2025-08-20 16:49:08,331 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:49:08] "GET /health HTTP/1.1" 200 -
2025-08-20 16:49:38,330 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:49:38] "GET /health HTTP/1.1" 200 -
2025-08-20 16:49:40,296 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:49:40] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 16:49:40,299 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 769자
2025-08-20 16:49:40,304 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 16:49:40,305 - mms_extractor - INFO - ============================================================
2025-08-20 16:49:40,305 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 16:49:40,305 - mms_extractor - INFO - ============================================================
2025-08-20 16:49:40,305 - mms_extractor - INFO - 메시지 내용: FLO 앤 데이터 플러스 100원 프로모션 1차 안내
[SKT] FLO 앤 데이터 플러스 [100원 프로모션] 혜택 기간 안내  고객님께서 이용 중인 FLO 앤 데이터 플러스의 [100원 프로모션] 혜택이 다음 달까지 적용됩니다.   다음다음 달부터는 가입하신 요금제에 따라 아래와 같이 FLO 앤 데이터 플러스 이용요금이 청구될 예정입니다.   ● T플랜 ...
2025-08-20 16:49:40,306 - mms_extractor - INFO - 메시지 길이: 769 문자
2025-08-20 16:49:40,306 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 16:49:40,306 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 16:49:40,306 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 16:49:40,306 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 16:49:40,306 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 16:49:40,307 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 16:49:40,307 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 16:49:40,307 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 16:49:40,307 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 16:49:40,307 - mms_extractor - INFO - 처리할 메시지 길이: 769 문자
2025-08-20 16:49:40,326 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 16:49:40,363 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 16:49:40,364 - mms_extractor - INFO - 필터링된 문장들: ['FLO 앤 데이터 플러스 100원 프로모션 안내 SKT FLO 앤 데이터 플러스 프로모션 혜택 기간 안내 고객님께서 이용 중 FLO 앤 데이터 플러스의 100원 프로모션 혜택이 다음 달까지 적용됩니다 ', '다음다음 달부터는 가입하신 요금제에 아래와 같이 FLO 앤 데이터 플러스 이용요금이 청구될 예정입니다 ', 'T플랜 맥스 요금제에 가입한 고객님은 할인된 이용요금 월 부가세 포함 청구 5GX 프라임 T플랜 스페셜 요금제에 가입한 고객님이 FLO 앤 데이터 플러스만 가입한 경우 할인된 이용요금 월 부가세 포함 청구 5GX 프라임 T플랜 스페셜 요금제 고객님이 POOQ과 FLO 동시에 가입한 경우 둘 중 월 청구금액이 더 큰 서비스 자동으로 무료 할인 제공 ']...
2025-08-20 16:49:40,372 - mms_extractor - INFO - 전체 토큰 수: 322개
2025-08-20 16:49:40,372 - mms_extractor - INFO - NNP 태그 토큰들: ['FLO 앤 데이터 플러스', 'FLO 앤 데이터 플러스', 'FLO 앤 데이터 플러스', 'FLO 앤 데이터 플러스', 'T플랜 맥스', '5GX 프라임', 'T플랜 스페셜', 'FLO 앤 데이터 플러스', '5GX 프라임', 'T플랜 스페셜', '할인', '가입', '후', 'T플랜 에센스', '프라임', 'T플랜 맥스', '스페셜', 'FLO 앤 데이터 플러스', 'FLO 앤 데이터 플러스']
2025-08-20 16:49:40,372 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['5GX 프라임', 'T플랜 스페셜', 'T플랜 에센스', 'T플랜 맥스', 'FLO 앤 데이터 플러스']
2025-08-20 16:49:40,372 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 16:50:03,747 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8766, 3)
2025-08-20 16:50:03,747 - mms_extractor - INFO - 퍼지 매칭 성공: 8766개 결과
2025-08-20 16:50:03,748 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': 'FLO 앤 데이터 플러스 100원 프로모션 안내 SKT FLO 앤 데이터 플러스 프로모션 혜택 기간 안내 고객님께서 이용 중 FLO 앤 데이터 플러스의 100원 프로모션 혜택이 다음 달까지 적용됩니다 ', 'item_nm_alias': '아이패드 10.2', 'sim': 0.4444444444444444}, {'sent': 'FLO 앤 데이터 플러스 100원 프로모션 안내 SKT FLO 앤 데이터 플러스 프로모션 혜택 기간 안내 고객님께서 이용 중 FLO 앤 데이터 플러스의 100원 프로모션 혜택이 다음 달까지 적용됩니다 ', 'item_nm_alias': 'G6 프로', 'sim': 0.6}, {'sent': 'FLO 앤 데이터 플러스 100원 프로모션 안내 SKT FLO 앤 데이터 플러스 프로모션 혜택 기간 안내 고객님께서 이용 중 FLO 앤 데이터 플러스의 100원 프로모션 혜택이 다음 달까지 적용됩니다 ', 'item_nm_alias': '과천-프로', 'sim': 0.4}]
2025-08-20 16:50:03,748 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 16:50:04,140 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8766, 3)
2025-08-20 16:50:04,140 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': 'FLO 앤 데이터 플러스 100원 프로모션 안내 SKT FLO 앤 데이터 플러스 프로모션 혜택 기간 안내 고객님께서 이용 중 FLO 앤 데이터 플러스의 100원 프로모션 혜택이 다음 달까지 적용됩니다 ', 'item_nm_alias': '아이패드 10.2', 'sim': 0.4444444444444445}, {'sent': 'FLO 앤 데이터 플러스 100원 프로모션 안내 SKT FLO 앤 데이터 플러스 프로모션 혜택 기간 안내 고객님께서 이용 중 FLO 앤 데이터 플러스의 100원 프로모션 혜택이 다음 달까지 적용됩니다 ', 'item_nm_alias': 'G6 프로', 'sim': 0.48}, {'sent': 'FLO 앤 데이터 플러스 100원 프로모션 안내 SKT FLO 앤 데이터 플러스 프로모션 혜택 기간 안내 고객님께서 이용 중 FLO 앤 데이터 플러스의 100원 프로모션 혜택이 다음 달까지 적용됩니다 ', 'item_nm_alias': '과천-프로', 'sim': 0.48}]
2025-08-20 16:50:04,140 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 16:50:04,143 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 330개
2025-08-20 16:50:04,146 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 6개
2025-08-20 16:50:04,146 - mms_extractor - INFO - 통합된 후보 아이템 수: 336개
2025-08-20 16:50:04,147 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['FLO 앤 데이터 플러스', 'T플랜 에센스', 'T플랜 맥스', 'T플랜 스페셜', '5GX 프라임', 'FLO 앤 데이터', '문자', '플로 앤 데이터 플러스', 'FLO 앤 데이터 플러스 구독', '프라임 플러스', '프라임(구)', 'FLO 무제한', 'T 서비스', '데이터 100', 'FLO 앤 데이터 구독', '벅스 앤 데이터 플러스', '플로 앤 데이터', '데이터 150 프로모션', 'FLO 앤 데이터③ⓓ', 'FLO 앤 데이터④ⓐ', 'FLO 앤 데이터④ⓑ', 'FLO 앤 데이터③ⓑ', 'FLO 앤 데이터④ⓒ', 'FLO 앤 데이터①ⓐ', 'FLO 앤 데이터④ⓓ', 'FLO 앤 데이터③ⓒ', 'FLO 앤 데이터③ⓐ', 'LTE 혜택 안내', '패스 프라임 (무료)', '플로 앤 데이터 플러스 구독', 'FLO 앤 데이터 plus', 'FLO 앤 데이터 Plus', 'FLO 앤 데이터 PLUS', 'FLO앤데이터+_해지', 'FLO 앤 데이터_할인1', 'FLO 앤 데이터_할인2', 'FLO 앤 데이터_할인3', '웨이브 앤 데이터 플러스', 'FLO 앤 데이터 플러스_할인1', 'FLO 앤 데이터 플러스_할인2', 'FLO 앤 데이터 플러스_인증', 'FLO앤데이터_해지', 'FLO 앤 데이터_인증', 'FLO 앤 데이터 플러스 구독_T', 'FLO 앤 데이터 구독_T', '와플', 'X4', '나우', 'ⓜ상상플러스', '데이터 250 프로모션', '데이터100', '센스요금제', '스페셜할인', '한한', '5GX 프라임(넷플릭스)', '플러스1000', 'G4', 'FLO팩 플러스', 'FLO 플러스 7900', '플러스서비스', '005스페셜', '플로', '1원요금제', '5GX프라임', '프로기', '5GX 프라임플러스(T 우주)', '플로 앤 데이터 구독', '자녀 데이터 프로모션', '데이터 선물 프로모션', '데이터 테스트 서비스', '패스 프라임 플러스', 'FLO 이용권', 'T 링플러스(무료)', '웨이브 앤 데이터 플러스 구독', '패스 프라임 (구)', '바로 요금제', '패스 프라임', '프라임(전용)', '패스 프라임/구', '국제 서비스', '(N)FLO 앤 데이터④ⓐ', '(N)FLO 앤 데이터①ⓐ', '(N)FLO 앤 데이터④ⓓ', '(N)FLO 앤 데이터④ⓒ', 'T1 요금제', 'T 패스 서비스', '(N)FLO 앤 데이터④ⓑ', 'T콜 플러스', 'T플랜 에센스+다이렉트플랜', 'T플랜 스페셜+다이렉트플랜', '5GX 프라임플러스(넷플릭스)', '웨이브 앤 데이터', '엘티이 혜택 안내', '데이터세이프 프로모션', 'T데이터모아 프로모션', '5GX 프라임플러스(디즈니+)', 'x클라우드 앤 데이터', 'FLO 앤 Data 플러스', 'FLO 앤 data 플러스', 'FLO 앤 DATA 플러스', 'T플랜 맥스+다이렉트플랜', '나온 문자', '(N)프라임', '플로앤데이터+_해지', '데이터세이프 플러스', '원스토리 앤 데이터_100원', '플로 앤 데이터 플러스 구독_T', '플로 앤 데이터③ⓐ', '플로 앤 데이터③ⓑ', 'xCloud 앤 데이터', '플로 앤 데이터④ⓐ', '플로 앤 데이터④ⓓ', '플로 앤 데이터①ⓐ', '플로 앤 데이터③ⓒ', '플로 앤 데이터 플러스_인증', '플로 앤 데이터③ⓓ', '원스토리 앤 데이터', '0플랜 라지', '플로 앤 데이터④ⓒ', '플로 앤 데이터④ⓑ', 'FLO 앤 데이터 PLUS 구독', 'FLO 앤 데이터 Plus 구독', 'FLO 앤 데이터 plus 구독', '플로 앤 데이터 플러스_할인2', '플로 앤 데이터 플러스_할인1', '라이트 서비스', '플로팩 플러스', 'T플랜 세이브', '패스 프라임플러스/구', '프로모션 35% 할인 사용', '프로모션 60% 할인 사용', '레터링플러스(무료)', '준500(프로모션)', '플로앤데이터_해지', '노트10 프로모션', '임직원 프로모션(가전)', '벅스 앤 데이터 플러스_인증', '스페셜포스', '데이터요금상한서비스', 'ⓜ스페셜포스', 'NOTE10 프로모션', 'note10 프로모션', 'Note10 프로모션', '벅스 앤 데이터 Plus', '벅스 앤 데이터 PLUS', '벅스 앤 데이터 plus', 'T플랜 시니어 에센스', 'T플랜 시니어 스페셜', 'LTE 플러스 할인', '엘티이 플러스 할인', 'G5 프로모션 할인', '부가-PDS 서비스', '5GX 레귤러플러스', '네오맥스 서비스', '로밍요금제가입자', '바로 5G 라지', '비센프로', '서피스 프로 X', '플로 앤 데이터_할인3', '플로 앤 데이터_할인2', '플로 앤 데이터_할인1', '웨이브 앤 데이터 구독', '인맥관리 플러스', '팅데이터프리 플러스', 'ⓜ정통맞고 플러스']
2025-08-20 16:50:04,152 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (124, 2)
2025-08-20 16:50:04,153 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(N)FLO 앤 데이터①ⓐ', 'item_id': ['NA00008740']}, {'item_nm': '(N)FLO 앤 데이터④ⓐ', 'item_id': ['NA00008744']}, {'item_nm': '(N)FLO 앤 데이터④ⓑ', 'item_id': ['NA00008748']}]
2025-08-20 16:50:04,153 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 23.85초
2025-08-20 16:50:04,153 - mms_extractor - INFO - 추출된 후보 엔티티: ['FLO 앤 데이터 플러스' 'T플랜 에센스' 'T플랜 맥스' 'T플랜 스페셜' '5GX 프라임' 'FLO 앤 데이터' '문자'
 '플로 앤 데이터 플러스' 'FLO 앤 데이터 플러스 구독' '프라임 플러스' '프라임(구)' 'FLO 무제한' 'T 서비스'
 '데이터 100' 'FLO 앤 데이터 구독' '벅스 앤 데이터 플러스' '플로 앤 데이터' '데이터 150 프로모션'
 'FLO 앤 데이터③ⓓ' 'FLO 앤 데이터④ⓐ' 'FLO 앤 데이터④ⓑ' 'FLO 앤 데이터③ⓑ' 'FLO 앤 데이터④ⓒ'
 'FLO 앤 데이터①ⓐ' 'FLO 앤 데이터④ⓓ' 'FLO 앤 데이터③ⓒ' 'FLO 앤 데이터③ⓐ' 'LTE 혜택 안내'
 '패스 프라임 (무료)' '플로 앤 데이터 플러스 구독' 'FLO 앤 데이터 plus' 'FLO 앤 데이터 Plus'
 'FLO 앤 데이터 PLUS' 'FLO앤데이터+_해지' 'FLO 앤 데이터_할인1' 'FLO 앤 데이터_할인2'
 'FLO 앤 데이터_할인3' '웨이브 앤 데이터 플러스' 'FLO 앤 데이터 플러스_할인1' 'FLO 앤 데이터 플러스_할인2'
 'FLO 앤 데이터 플러스_인증' 'FLO앤데이터_해지' 'FLO 앤 데이터_인증' 'FLO 앤 데이터 플러스 구독_T'
 'FLO 앤 데이터 구독_T' '와플' 'X4' '나우' 'ⓜ상상플러스' '데이터 250 프로모션' '데이터100' '센스요금제'
 '스페셜할인' '한한' '5GX 프라임(넷플릭스)' '플러스1000' 'G4' 'FLO팩 플러스' 'FLO 플러스 7900'
 '플러스서비스' '005스페셜' '플로' '1원요금제' '5GX프라임' '프로기' '5GX 프라임플러스(T 우주)'
 '플로 앤 데이터 구독' '자녀 데이터 프로모션' '데이터 선물 프로모션' '데이터 테스트 서비스' '패스 프라임 플러스'
 'FLO 이용권' 'T 링플러스(무료)' '웨이브 앤 데이터 플러스 구독' '패스 프라임 (구)' '바로 요금제' '패스 프라임'
 '프라임(전용)' '패스 프라임/구' '국제 서비스' '(N)FLO 앤 데이터④ⓐ' '(N)FLO 앤 데이터①ⓐ'
 '(N)FLO 앤 데이터④ⓓ' '(N)FLO 앤 데이터④ⓒ' 'T1 요금제' 'T 패스 서비스' '(N)FLO 앤 데이터④ⓑ'
 'T콜 플러스' 'T플랜 에센스+다이렉트플랜' 'T플랜 스페셜+다이렉트플랜' '5GX 프라임플러스(넷플릭스)' '웨이브 앤 데이터'
 '엘티이 혜택 안내' '데이터세이프 프로모션' 'T데이터모아 프로모션' '5GX 프라임플러스(디즈니+)' 'x클라우드 앤 데이터'
 'FLO 앤 Data 플러스' 'FLO 앤 data 플러스' 'FLO 앤 DATA 플러스' 'T플랜 맥스+다이렉트플랜'
 '나온 문자' '(N)프라임' '플로앤데이터+_해지' '데이터세이프 플러스' '원스토리 앤 데이터_100원'
 '플로 앤 데이터 플러스 구독_T' '플로 앤 데이터③ⓐ' '플로 앤 데이터③ⓑ' 'xCloud 앤 데이터' '플로 앤 데이터④ⓐ'
 '플로 앤 데이터④ⓓ' '플로 앤 데이터①ⓐ' '플로 앤 데이터③ⓒ' '플로 앤 데이터 플러스_인증' '플로 앤 데이터③ⓓ'
 '원스토리 앤 데이터' '0플랜 라지' '플로 앤 데이터④ⓒ' '플로 앤 데이터④ⓑ' 'FLO 앤 데이터 PLUS 구독'
 'FLO 앤 데이터 Plus 구독' 'FLO 앤 데이터 plus 구독' '플로 앤 데이터 플러스_할인2'
 '플로 앤 데이터 플러스_할인1' '라이트 서비스' '플로팩 플러스' 'T플랜 세이브' '패스 프라임플러스/구'
 '프로모션 35% 할인 사용' '프로모션 60% 할인 사용' '레터링플러스(무료)' '준500(프로모션)' '플로앤데이터_해지'
 '노트10 프로모션' '임직원 프로모션(가전)' '벅스 앤 데이터 플러스_인증' '스페셜포스' '데이터요금상한서비스'
 'ⓜ스페셜포스' 'NOTE10 프로모션' 'note10 프로모션' 'Note10 프로모션' '벅스 앤 데이터 Plus'
 '벅스 앤 데이터 PLUS' '벅스 앤 데이터 plus' 'T플랜 시니어 에센스' 'T플랜 시니어 스페셜' 'LTE 플러스 할인'
 '엘티이 플러스 할인' 'G5 프로모션 할인' '부가-PDS 서비스' '5GX 레귤러플러스' '네오맥스 서비스' '로밍요금제가입자'
 '바로 5G 라지' '비센프로' '서피스 프로 X' '플로 앤 데이터_할인3' '플로 앤 데이터_할인2' '플로 앤 데이터_할인1'
 '웨이브 앤 데이터 구독' '인맥관리 플러스' '팅데이터프리 플러스' 'ⓜ정통맞고 플러스']
2025-08-20 16:50:04,153 - mms_extractor - INFO - 매칭된 상품 정보: (124, 2)
2025-08-20 16:50:04,154 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 16:50:04,296 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 16:50:04,296 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 16:50:04,296 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 404 문자
2025-08-20 16:50:04,296 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 16:50:04,296 - mms_extractor - INFO - 후보 아이템 리스트 크기: 165개
2025-08-20 16:50:04,296 - mms_extractor - INFO - 후보 아이템 리스트: ['FLO 앤 데이터 플러스' 'T플랜 에센스' 'T플랜 맥스' 'T플랜 스페셜' '5GX 프라임' 'FLO 앤 데이터' '문자'
 '플로 앤 데이터 플러스' 'FLO 앤 데이터 플러스 구독' '프라임 플러스' '프라임(구)' 'FLO 무제한' 'T 서비스'
 '데이터 100' 'FLO 앤 데이터 구독' '벅스 앤 데이터 플러스' '플로 앤 데이터' '데이터 150 프로모션'
 'FLO 앤 데이터③ⓓ' 'FLO 앤 데이터④ⓐ' 'FLO 앤 데이터④ⓑ' 'FLO 앤 데이터③ⓑ' 'FLO 앤 데이터④ⓒ'
 'FLO 앤 데이터①ⓐ' 'FLO 앤 데이터④ⓓ' 'FLO 앤 데이터③ⓒ' 'FLO 앤 데이터③ⓐ' 'LTE 혜택 안내'
 '패스 프라임 (무료)' '플로 앤 데이터 플러스 구독' 'FLO 앤 데이터 plus' 'FLO 앤 데이터 Plus'
 'FLO 앤 데이터 PLUS' 'FLO앤데이터+_해지' 'FLO 앤 데이터_할인1' 'FLO 앤 데이터_할인2'
 'FLO 앤 데이터_할인3' '웨이브 앤 데이터 플러스' 'FLO 앤 데이터 플러스_할인1' 'FLO 앤 데이터 플러스_할인2'
 'FLO 앤 데이터 플러스_인증' 'FLO앤데이터_해지' 'FLO 앤 데이터_인증' 'FLO 앤 데이터 플러스 구독_T'
 'FLO 앤 데이터 구독_T' '와플' 'X4' '나우' 'ⓜ상상플러스' '데이터 250 프로모션' '데이터100' '센스요금제'
 '스페셜할인' '한한' '5GX 프라임(넷플릭스)' '플러스1000' 'G4' 'FLO팩 플러스' 'FLO 플러스 7900'
 '플러스서비스' '005스페셜' '플로' '1원요금제' '5GX프라임' '프로기' '5GX 프라임플러스(T 우주)'
 '플로 앤 데이터 구독' '자녀 데이터 프로모션' '데이터 선물 프로모션' '데이터 테스트 서비스' '패스 프라임 플러스'
 'FLO 이용권' 'T 링플러스(무료)' '웨이브 앤 데이터 플러스 구독' '패스 프라임 (구)' '바로 요금제' '패스 프라임'
 '프라임(전용)' '패스 프라임/구' '국제 서비스' '(N)FLO 앤 데이터④ⓐ' '(N)FLO 앤 데이터①ⓐ'
 '(N)FLO 앤 데이터④ⓓ' '(N)FLO 앤 데이터④ⓒ' 'T1 요금제' 'T 패스 서비스' '(N)FLO 앤 데이터④ⓑ'
 'T콜 플러스' 'T플랜 에센스+다이렉트플랜' 'T플랜 스페셜+다이렉트플랜' '5GX 프라임플러스(넷플릭스)' '웨이브 앤 데이터'
 '엘티이 혜택 안내' '데이터세이프 프로모션' 'T데이터모아 프로모션' '5GX 프라임플러스(디즈니+)' 'x클라우드 앤 데이터'
 'FLO 앤 Data 플러스' 'FLO 앤 data 플러스' 'FLO 앤 DATA 플러스' 'T플랜 맥스+다이렉트플랜'
 '나온 문자' '(N)프라임' '플로앤데이터+_해지' '데이터세이프 플러스' '원스토리 앤 데이터_100원'
 '플로 앤 데이터 플러스 구독_T' '플로 앤 데이터③ⓐ' '플로 앤 데이터③ⓑ' 'xCloud 앤 데이터' '플로 앤 데이터④ⓐ'
 '플로 앤 데이터④ⓓ' '플로 앤 데이터①ⓐ' '플로 앤 데이터③ⓒ' '플로 앤 데이터 플러스_인증' '플로 앤 데이터③ⓓ'
 '원스토리 앤 데이터' '0플랜 라지' '플로 앤 데이터④ⓒ' '플로 앤 데이터④ⓑ' 'FLO 앤 데이터 PLUS 구독'
 'FLO 앤 데이터 Plus 구독' 'FLO 앤 데이터 plus 구독' '플로 앤 데이터 플러스_할인2'
 '플로 앤 데이터 플러스_할인1' '라이트 서비스' '플로팩 플러스' 'T플랜 세이브' '패스 프라임플러스/구'
 '프로모션 35% 할인 사용' '프로모션 60% 할인 사용' '레터링플러스(무료)' '준500(프로모션)' '플로앤데이터_해지'
 '노트10 프로모션' '임직원 프로모션(가전)' '벅스 앤 데이터 플러스_인증' '스페셜포스' '데이터요금상한서비스'
 'ⓜ스페셜포스' 'NOTE10 프로모션' 'note10 프로모션' 'Note10 프로모션' '벅스 앤 데이터 Plus'
 '벅스 앤 데이터 PLUS' '벅스 앤 데이터 plus' 'T플랜 시니어 에센스' 'T플랜 시니어 스페셜' 'LTE 플러스 할인'
 '엘티이 플러스 할인' 'G5 프로모션 할인' '부가-PDS 서비스' '5GX 레귤러플러스' '네오맥스 서비스' '로밍요금제가입자'
 '바로 5G 라지' '비센프로' '서피스 프로 X' '플로 앤 데이터_할인3' '플로 앤 데이터_할인2' '플로 앤 데이터_할인1'
 '웨이브 앤 데이터 구독' '인맥관리 플러스' '팅데이터프리 플러스' 'ⓜ정통맞고 플러스']
2025-08-20 16:50:04,296 - mms_extractor - INFO - extra_item_pdf 크기: (124, 2)
2025-08-20 16:50:04,297 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 16:50:04,297 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(N)FLO 앤 데이터①ⓐ', 'item_id': ['NA00008740']}, {'item_nm': '(N)FLO 앤 데이터④ⓐ', 'item_id': ['NA00008744']}]
2025-08-20 16:50:04,297 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 16:50:04,297 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 16:50:04,297 - mms_extractor - INFO - 구성된 프롬프트 길이: 8765 문자
2025-08-20 16:50:04,297 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 16:50:08,340 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:50:08] "GET /health HTTP/1.1" 200 -
2025-08-20 16:50:10,385 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 16:50:10,390 - mms_extractor - INFO - LLM 응답 길이: 821 문자
2025-08-20 16:50:10,390 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "FLO 앤 데이터 플러스 100원 프로모션 1차 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "FLO 앤 데이터 플러스",
            "action": "가입"
        },
        {
            "name": "T플랜 맥스",
            "action": "가입"
        },
        {
            "name": "5GX 프라임",
            "action": "가입"
        },
        {
            "name": "T플랜 스페셜",
            "action": "가입"
        },
        {
            "name": "POOQ",
        ...
2025-08-20 16:50:10,390 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 16:50:10,391 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 16:50:10,391 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 16:50:10,392 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': 'FLO 앤 데이터 플러스 100원 프로모션 1차 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'FLO 앤 데이터 플러스', 'action': '가입'}, {'name': 'T플랜 맥스', 'action': '가입'}, {'name': '5GX 프라임', 'action': '가입'}, {'name': 'T플랜 스페셜', 'action': '가입'}, {'name': 'POOQ', 'action': '가입'}, {'name': 'T플랜 에센스', 'action': '가입'}], 'channel': [{'type': '대리점', 'value': 'SKT', 'action': '문의'}], 'pgm': ['상품및부가서비스가입유도_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-20 16:50:10,392 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 16:50:10,393 - mms_extractor - INFO - LLM 추출 엔티티: ['FLO 앤 데이터 플러스', 'T플랜 맥스', '5GX 프라임', 'T플랜 스페셜', 'POOQ', 'T플랜 에센스']
2025-08-20 16:50:10,785 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 16:50:10,785 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 16:50:10,785 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 16:50:10,785 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 769자
2025-08-20 16:50:10,785 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x128924cb0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x128925010> root_client=<openai.OpenAI object at 0x12890bf00> root_async_client=<openai.AsyncOpenAI object at 0x128924dd0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 16:50:10,785 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 16:50:10,785 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3714자
2025-08-20 16:50:38,333 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:50:38] "GET /health HTTP/1.1" 200 -
2025-08-20 16:50:41,490 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 16:50:41,493 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3370자
2025-08-20 16:50:41,496 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SKT는 FLO 앤 데이터 플러스 서비스의 100원 프로모션 혜택 기간이 다음 달까지 적용됨을 안내하고, 다음다음 달부터 요금제에 따라 달라질 이용요금 청구 방식을 상세히 설명합니다. 또한, 프로모션 종료 후 요금제에 따른 FLO 앤 데이터 플러스의 요금 청구 기준과 예외 상황(해지, 무료혜택 ...
2025-08-20 16:50:41,497 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 16:50:41,498 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 509자
2025-08-20 16:50:41,498 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 16:50:41,499 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 13, 엣지 수: 8
2025-08-20 16:50:41,499 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['FLO 앤 데이터 플러스:가입', '100원 프로모션:적용', 'T플랜 맥스:가입', 'FLO 앤 데이터 플러스:할인요금:수령', '5GX 프라임/T플랜 스페셜:가입', 'POOQ:동시가입', 'T플랜 에센스:가입', 'FLO 앤 데이터 플러스:50% 할인요금:수령', '기타 요금제:가입', 'FLO 앤 데이터 플러스:정상요금:수령', 'FLO 앤 데이터 플러스:해지', '이용요금:미청구', '요금제:무료혜택 요금제로 변경']
2025-08-20 16:50:41,499 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('FLO 앤 데이터 플러스:가입', '100원 프로모션:적용'), ('T플랜 맥스:가입', 'FLO 앤 데이터 플러스:할인요금:수령'), ('5GX 프라임/T플랜 스페셜:가입', 'FLO 앤 데이터 플러스:할인요금:수령'), ('5GX 프라임/T플랜 스페셜:가입', 'POOQ:동시가입'), ('T플랜 에센스:가입', 'FLO 앤 데이터 플러스:50% 할인요금:수령'), ('기타 요금제:가입', 'FLO 앤 데이터 플러스:정상요금:수령'), ('FLO 앤 데이터 플러스:해지', '이용요금:미청구'), ('요금제:무료혜택 요금제로 변경', '이용요금:미청구')]
2025-08-20 16:50:41,500 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 16:50:41,500 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_8f55a5f53e06863a92a6ac51d7861d8c9d54c96a7ebc64f9d9af70ff32cdfe2b
2025-08-20 16:50:41,500 - utils - INFO - 📊 입력 그래프 - 노드 수: 13, 엣지 수: 8
2025-08-20 16:50:41,502 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 16:50:42,947 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_8f55a5f53e06863a92a6ac51d7861d8c9d54c96a7ebc64f9d9af70ff32cdfe2b.png
2025-08-20 16:50:42,947 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_8f55a5f53e06863a92a6ac51d7861d8c9d54c96a7ebc64f9d9af70ff32cdfe2b
2025-08-20 16:50:42,947 - mms_extractor - INFO - 🕒 DAG 처리 시간: 32.162초
2025-08-20 16:50:42,947 - mms_extractor - INFO - 📏 DAG 섹션 길이: 509자
2025-08-20 16:50:42,947 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (FLO 앤 데이터 플러스:가입) -[가입하면]-> (100원 프로모션:적용) -[적용후]-> (할인요금:수령)
(T플랜 맥스:가입) -[가입하면]-> (FLO 앤 데이터 플러스:할인요금:수령)
(5GX 프라임/T플랜 스페셜:가입) -[가입하면]-> (FLO 앤 데이터 플러스:할인요금:수령)
(5GX 프라임/T플랜 스페셜:가입) -[가입하면]-> (POOQ...
2025-08-20 16:50:42,947 - mms_extractor - INFO - ============================================================
2025-08-20 16:50:42,947 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 16:50:42,947 - mms_extractor - INFO - ============================================================
2025-08-20 16:50:42,947 - mms_extractor - INFO - 제목: FLO 앤 데이터 플러스 100원 프로모션 1차 안내
2025-08-20 16:50:42,947 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 16:50:42,947 - mms_extractor - INFO - 상품 수: 6개
2025-08-20 16:50:42,947 - mms_extractor - INFO - 채널 수: 1개
2025-08-20 16:50:42,947 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 16:50:42,948 - mms_extractor - INFO - process_message 실행완료: 62.64초
2025-08-20 16:50:42,948 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 9자
2025-08-20 16:50:42,948 - __main__ - INFO - DAG 내용 미리보기: ['(FLO 앤 데이터 플러스:가입) -[가입하면]-> (100원 프로모션:적용) -[적용후]-> (할인요금:수령)', '(T플랜 맥스:가입) -[가입하면]-> (FLO 앤 데이터 플러스:할인요금:수령)', '(5GX 프라임/T플랜 스페셜:가입) -[가입하면]-> (FLO 앤 데이터 플러스:할인요금:수령)', '(5GX 프라임/T플랜 스페셜:가입) -[가입하면]-> (POOQ:동시가입) -[동시가입하면]-> (POOQ/FLO:무료/할인:수령)', '(5GX 프라임/T플랜 스페셜:가입) -[가입하면]-> (POOQ:동시가입) -[동시가입후]-> (나머지 서비스:100원 프로모션:적용) -[적용후]-> (할인요금:수령)', '(T플랜 에센스:가입) -[가입하면]-> (FLO 앤 데이터 플러스:50% 할인요금:수령)', '(기타 요금제:가입) -[가입하면]-> (FLO 앤 데이터 플러스:정상요금:수령)', '(FLO 앤 데이터 플러스:해지) -[해지후]-> (이용요금:미청구)', '(요금제:무료혜택 요금제로 변경) -[변경후]-> (이용요금:미청구)']...
2025-08-20 16:50:42,948 - __main__ - INFO - 추출 완료: 62.647초
2025-08-20 16:50:42,949 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:50:42] "POST /extract HTTP/1.1" 200 -
2025-08-20 16:51:08,332 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:51:08] "GET /health HTTP/1.1" 200 -
2025-08-20 16:51:38,330 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:51:38] "GET /health HTTP/1.1" 200 -
2025-08-20 16:52:08,327 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:52:08] "GET /health HTTP/1.1" 200 -
2025-08-20 16:52:38,330 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:52:38] "GET /health HTTP/1.1" 200 -
2025-08-20 16:53:08,325 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:53:08] "GET /health HTTP/1.1" 200 -
2025-08-20 16:53:38,329 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:53:38] "GET /health HTTP/1.1" 200 -
2025-08-20 16:53:52,093 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:53:52] "GET /health HTTP/1.1" 200 -
2025-08-20 16:53:56,116 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:53:56] "GET /health HTTP/1.1" 200 -
2025-08-20 16:54:01,660 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:54:01] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 16:54:01,664 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 284자
2025-08-20 16:54:01,664 - __main__ - INFO - LLM 모델이 ax -> claude로 변경됨. 재초기화 중...
2025-08-20 16:54:01,666 - mms_extractor - INFO - LLM 초기화 완료: claude (amazon/anthropic/claude-sonnet-4-20250514)
2025-08-20 16:54:01,666 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 16:54:01,666 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 16:54:01,666 - mms_extractor - INFO - ============================================================
2025-08-20 16:54:01,666 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 16:54:01,666 - mms_extractor - INFO - ============================================================
2025-08-20 16:54:01,666 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 16:54:01,667 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 16:54:01,667 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 16:54:01,667 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 16:54:01,667 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 16:54:01,667 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 16:54:01,667 - mms_extractor - INFO - LLM 모델: claude
2025-08-20 16:54:01,667 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 16:54:01,667 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 16:54:01,667 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 16:54:01,667 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 16:54:01,667 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 16:54:01,681 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 16:54:01,686 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 16:54:01,687 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 16:54:01,691 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 16:54:01,692 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 16:54:01,692 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['버즈', '갤럭시', 'YouTube Premium']
2025-08-20 16:54:01,693 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 16:54:02,099 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 16:54:02,099 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 16:54:02,099 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 16:54:02,099 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 16:54:02,224 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 16:54:02,224 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 16:54:02,224 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 16:54:02,227 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 16:54:02,230 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 16:54:02,230 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 16:54:02,231 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 16:54:02,234 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 16:54:02,235 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 16:54:02,235 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.57초
2025-08-20 16:54:02,235 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 16:54:02,235 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 16:54:02,235 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 16:54:02,290 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 16:54:02,290 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 16:54:02,290 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 16:54:02,290 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 16:54:02,290 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 16:54:02,290 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 16:54:02,290 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 16:54:02,290 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 16:54:02,290 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 16:54:02,291 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 16:54:02,291 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 16:54:02,291 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 16:54:02,291 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 16:54:08,603 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 16:54:08,608 - mms_extractor - INFO - LLM 응답 길이: 615 문자
2025-08-20 16:54:08,608 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "5G 요금제 특가 혜택",
    "purpose": ["상품 가입 유도", "혜택 안내", "대리점/매장 방문 유도", "웹/앱 접속 유도"],
    "product": [
        {"name": "5G 슈퍼플랜", "action": "가입"},
        {"name": "YouTube Premium", "action": "사용"},
        {"name": "갤럭시 버즈", "action": "기타"}
    ],
    "channel": [
        {"type": "URL", "value": "m.tworld.co.kr", "action": "가입"},
        {"type": "대리점", "value": "전국 T world 매장", "action": "가입"},
        {"type": "전화번호", "value": "114", "action": "문의"},
        {"type": "전...
2025-08-20 16:54:08,608 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 16:54:08,609 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 16:54:08,609 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 16:54:08,609 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도'], 'product': [{'name': '5G 슈퍼플랜', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '타사회선(가망)_win-back']}
2025-08-20 16:54:08,610 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 16:54:08,610 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 16:54:08,961 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 16:54:08,961 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 16:54:08,962 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 16:54:08,962 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 16:54:08,962 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x138d99040> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x138d9a9c0> root_client=<openai.OpenAI object at 0x138d999d0> root_async_client=<openai.AsyncOpenAI object at 0x138d9a7a0> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 16:54:08,962 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 16:54:08,962 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 16:54:26,118 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:54:26] "GET /health HTTP/1.1" 200 -
2025-08-20 16:54:30,212 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 16:54:30,215 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1736자
2025-08-20 16:54:30,215 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
T world에서 5G 슈퍼플랜 요금제 가입을 유도하는 광고로, 50% 할인된 특가와 다양한 부가 혜택(YouTube Premium, 갤럭시 버즈)을 제공하여 신규 고객 확보를 목표로 함. 온라인과 오프라인 두 가지 가입 경로를 제시.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 50% 할...
2025-08-20 16:54:30,215 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 16:54:30,216 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 706자
2025-08-20 16:54:30,216 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 16:54:30,217 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 6, 엣지 수: 5
2025-08-20 16:54:30,217 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 온라인:접속', '5G슈퍼플랜:가입', 'T world 매장:방문', '50%할인혜택:수령', '갤럭시버즈:수령', '5G프리미엄서비스:사용']
2025-08-20 16:54:30,217 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 온라인:접속', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '50%할인혜택:수령'), ('5G슈퍼플랜:가입', '갤럭시버즈:수령'), ('5G슈퍼플랜:가입', '5G프리미엄서비스:사용'), ('T world 매장:방문', '5G슈퍼플랜:가입')]
2025-08-20 16:54:30,218 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 16:54:30,218 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 16:54:30,218 - utils - INFO - 📊 입력 그래프 - 노드 수: 6, 엣지 수: 5
2025-08-20 16:54:30,220 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 16:54:30,508 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 16:54:30,508 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 16:54:30,508 - mms_extractor - INFO - 🕒 DAG 처리 시간: 21.547초
2025-08-20 16:54:30,508 - mms_extractor - INFO - 📏 DAG 섹션 길이: 706자
2025-08-20 16:54:30,508 - mms_extractor - INFO - 📄 DAG 내용 미리보기: 
```
(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면]-> (50%할인혜택:수령)
(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)
(5G슈퍼플랜:가입) -[가입후]-> (5G프리미엄서비스:사용)
```

## 5. 최종 ...
2025-08-20 16:54:30,508 - mms_extractor - INFO - ============================================================
2025-08-20 16:54:30,508 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 16:54:30,508 - mms_extractor - INFO - ============================================================
2025-08-20 16:54:30,508 - mms_extractor - INFO - 제목: 5G 요금제 특가 혜택
2025-08-20 16:54:30,508 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도']
2025-08-20 16:54:30,508 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 16:54:30,508 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 16:54:30,508 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 16:54:30,509 - mms_extractor - INFO - process_message 실행완료: 28.84초
2025-08-20 16:54:30,509 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 23자
2025-08-20 16:54:30,509 - __main__ - INFO - DAG 내용 미리보기: ['', '```', '(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)', '(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)', '(5G슈퍼플랜:가입) -[가입하면]-> (50%할인혜택:수령)', '(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)', '(5G슈퍼플랜:가입) -[가입후]-> (5G프리미엄서비스:사용)', '```', '', '## 5. 최종 검증 및 추출 근거', '', '**최종 DAG가 모든 기준을 충족하는 이유:**', '- Root Node 명확성: 사용자의 첫 행동인 온라인 접속과 매장 방문을 명확히 표현', '- 완전한 가치 표현: 즉각적 혜택(할인, 사은품)과 서비스 가치(프리미엄 서비스) 모두 포함', '- 적절한 통합: 데이터무제한과 YouTube Premium을 5G프리미엄서비스로 통합하여 간결성 확보', '- 핵심 흐름 집중: 부가적인 가족회선 옵션은 제외하고 주요 가입 흐름에 집중', '', '**노드/엣지 선택의 논리적 근거:**', '- **Root Node**: 온라인 URL과 매장 안내가 명시되어 두 가지 시작점 설정', '- **핵심 행동**: 5G슈퍼플랜 가입이 모든 혜택의 전제 조건', '- **즉각적 혜택**: 50% 할인과 갤럭시 버즈는 가입 즉시 제공되는 독립적 가치', '- **서비스 가치**: 데이터무제한과 YouTube Premium을 통합한 프리미엄 서비스 경험', '- **관계 동사**: 조건부 관계(가입하면, 가입후)를 우선 사용하여 인과관계 명확화']...
2025-08-20 16:54:30,509 - __main__ - INFO - 추출 완료: 28.845초
2025-08-20 16:54:30,509 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:54:30] "POST /extract HTTP/1.1" 200 -
2025-08-20 16:54:56,120 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:54:56] "GET /health HTTP/1.1" 200 -
2025-08-20 16:55:26,117 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:55:26] "GET /health HTTP/1.1" 200 -
2025-08-20 16:55:56,109 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:55:56] "GET /health HTTP/1.1" 200 -
2025-08-20 16:56:26,113 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:56:26] "GET /health HTTP/1.1" 200 -
2025-08-20 16:56:56,107 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:56:56] "GET /health HTTP/1.1" 200 -
2025-08-20 16:57:26,113 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:57:26] "GET /health HTTP/1.1" 200 -
2025-08-20 16:57:56,108 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:57:56] "GET /health HTTP/1.1" 200 -
2025-08-20 16:58:26,112 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:58:26] "GET /health HTTP/1.1" 200 -
2025-08-20 16:58:56,106 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:58:56] "GET /health HTTP/1.1" 200 -
2025-08-20 16:59:26,109 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:59:26] "GET /health HTTP/1.1" 200 -
2025-08-20 16:59:56,104 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 16:59:56] "GET /health HTTP/1.1" 200 -
2025-08-20 17:00:26,110 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:00:26] "GET /health HTTP/1.1" 200 -
2025-08-20 17:00:56,106 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:00:56] "GET /health HTTP/1.1" 200 -
2025-08-20 17:01:26,108 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:01:26] "GET /health HTTP/1.1" 200 -
2025-08-20 17:01:56,105 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:01:56] "GET /health HTTP/1.1" 200 -
2025-08-20 17:02:26,104 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:02:26] "GET /health HTTP/1.1" 200 -
2025-08-20 17:02:56,104 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:02:56] "GET /health HTTP/1.1" 200 -
2025-08-20 17:03:26,108 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:03:26] "GET /health HTTP/1.1" 200 -
2025-08-20 17:03:56,850 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:03:56] "GET /health HTTP/1.1" 200 -
2025-08-20 17:04:26,848 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:04:26] "GET /health HTTP/1.1" 200 -
2025-08-20 17:05:25,145 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:05:25] "GET /health HTTP/1.1" 200 -
2025-08-20 17:05:32,218 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:05:32] "GET /health HTTP/1.1" 200 -
2025-08-20 17:05:36,319 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:05:36] "GET /health HTTP/1.1" 200 -
2025-08-20 17:05:43,902 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:05:43] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:05:43,904 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 284자
2025-08-20 17:05:43,904 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:05:43,904 - mms_extractor - INFO - ============================================================
2025-08-20 17:05:43,904 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:05:43,904 - mms_extractor - INFO - ============================================================
2025-08-20 17:05:43,904 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 17:05:43,904 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 17:05:43,904 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:05:43,904 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:05:43,904 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 17:05:43,904 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:05:43,904 - mms_extractor - INFO - LLM 모델: claude
2025-08-20 17:05:43,905 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:05:43,905 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:05:43,905 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:05:43,905 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:05:43,905 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 17:05:43,919 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:05:43,921 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 17:05:43,922 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 17:05:43,923 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 17:05:43,924 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 17:05:43,924 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['버즈', '갤럭시', 'YouTube Premium']
2025-08-20 17:05:43,924 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:06:01,236 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 17:06:01,236 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 17:06:01,237 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 17:06:01,237 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:06:01,361 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 17:06:01,361 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 17:06:01,361 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:06:01,364 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 17:06:01,367 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 17:06:01,367 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 17:06:01,368 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 17:06:01,372 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 17:06:01,372 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 17:06:01,372 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 17.47초
2025-08-20 17:06:01,372 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:06:01,372 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 17:06:01,372 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:06:01,585 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:06:01,585 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:06:01,585 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 17:06:01,585 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:06:01,585 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 17:06:01,585 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:06:01,585 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 17:06:01,585 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:06:01,585 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 17:06:01,585 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 17:06:01,585 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:06:01,585 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 17:06:01,585 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 17:06:06,328 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:06:06] "GET /health HTTP/1.1" 200 -
2025-08-20 17:06:08,580 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:06:08,583 - mms_extractor - INFO - LLM 응답 길이: 581 문자
2025-08-20 17:06:08,584 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "5G 요금제 특가 혜택",
    "purpose": ["상품 가입 유도", "혜택 안내", "대리점/매장 방문 유도"],
    "product": [
        {"name": "5G 슈퍼플랜", "action": "가입"},
        {"name": "YouTube Premium", "action": "사용"},
        {"name": "갤럭시 버즈", "action": "기타"}
    ],
    "channel": [
        {"type": "URL", "value": "m.tworld.co.kr", "action": "가입"},
        {"type": "대리점", "value": "전국 T world 매장", "action": "가입"},
        {"type": "전화번호", "value": "114", "action": "문의"},
        {"type": "전화번호", "value"...
2025-08-20 17:06:08,584 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:06:08,584 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:06:08,584 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:06:08,584 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도'], 'product': [{'name': '5G 슈퍼플랜', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제']}
2025-08-20 17:06:08,585 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:06:08,585 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 17:06:10,649 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:06:11,051 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 2.47초
2025-08-20 17:06:11,211 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:06:11,211 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:06:11,211 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:06:11,211 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 17:06:11,211 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x138d99040> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x138d9a9c0> root_client=<openai.OpenAI object at 0x138d999d0> root_async_client=<openai.AsyncOpenAI object at 0x138d9a7a0> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:06:11,211 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:06:11,211 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 17:06:31,200 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:06:31,202 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1759자
2025-08-20 17:06:31,203 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
T world에서 5G 슈퍼플랜 요금제 가입을 유도하는 광고로, 50% 할인된 특가와 다양한 부가 혜택(YouTube Premium, 갤럭시 버즈)을 제공하여 신규 고객 확보를 목표로 함. 온라인과 오프라인 두 가지 가입 경로를 제시.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 50% 할...
2025-08-20 17:06:31,204 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:06:31,204 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 754자
2025-08-20 17:06:31,204 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:06:31,205 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 7, 엣지 수: 6
2025-08-20 17:06:31,206 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world매장:방문', '5G슈퍼플랜:가입', 'm.tworld.co.kr:접속', '50%할인혜택:수령', '갤럭시버즈:수령', '5G슈퍼플랜서비스:사용', '가족추가회선:가입']
2025-08-20 17:06:31,207 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world매장:방문', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '50%할인혜택:수령'), ('5G슈퍼플랜:가입', '갤럭시버즈:수령'), ('5G슈퍼플랜:가입', '5G슈퍼플랜서비스:사용'), ('5G슈퍼플랜:가입', '가족추가회선:가입'), ('m.tworld.co.kr:접속', '5G슈퍼플랜:가입')]
2025-08-20 17:06:31,207 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:06:31,208 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:06:31,208 - utils - INFO - 📊 입력 그래프 - 노드 수: 7, 엣지 수: 6
2025-08-20 17:06:31,210 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:06:31,887 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 17:06:31,887 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:06:31,887 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.676초
2025-08-20 17:06:31,888 - mms_extractor - INFO - 📏 DAG 섹션 길이: 754자
2025-08-20 17:06:31,888 - mms_extractor - INFO - 📄 DAG 내용 미리보기: 
```
(T world매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(m.tworld.co.kr:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면]-> (50%할인혜택:수령)
(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)
(5G슈퍼플랜:가입) -[가입후]-> (5G슈퍼플랜서비스:사용)
(5G슈퍼플랜:가입) ...
2025-08-20 17:06:31,888 - mms_extractor - INFO - ============================================================
2025-08-20 17:06:31,888 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:06:31,888 - mms_extractor - INFO - ============================================================
2025-08-20 17:06:31,888 - mms_extractor - INFO - 제목: 5G 요금제 특가 혜택
2025-08-20 17:06:31,888 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도']
2025-08-20 17:06:31,888 - mms_extractor - INFO - 상품 수: 3개
2025-08-20 17:06:31,888 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:06:31,888 - mms_extractor - INFO - 프로그램 수: 1개
2025-08-20 17:06:31,889 - mms_extractor - INFO - process_message 실행완료: 47.99초
2025-08-20 17:06:31,889 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 22자
2025-08-20 17:06:31,889 - __main__ - INFO - DAG 내용 미리보기: ['', '```', '(T world매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)', '(m.tworld.co.kr:접속) -[접속하여]-> (5G슈퍼플랜:가입)', '(5G슈퍼플랜:가입) -[가입하면]-> (50%할인혜택:수령)', '(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)', '(5G슈퍼플랜:가입) -[가입후]-> (5G슈퍼플랜서비스:사용)', '(5G슈퍼플랜:가입) -[가입후]-> (가족추가회선:가입)', '```', '', '## 5. 최종 검증 및 추출 근거', '', '**최종 DAG가 모든 기준을 충족하는 이유:**', '- Root Node 명확성: 온라인(m.tworld.co.kr 접속)과 오프라인(T world매장 방문) 두 가지 시작점을 명확히 제시', '- 완전한 가치 표현: 금전적 혜택(50% 할인), 사은품(갤럭시 버즈), 서비스 가치(5G슈퍼플랜서비스) 모두 포함', "- 적절한 통합: 데이터무제한과 YouTube Premium을 '5G슈퍼플랜서비스'로 통합하여 중복 제거", '- 명확한 흐름: 가족추가회선을 메인 플랜 가입 후의 추가 옵션으로 위치시켜 연결성 확보', '', '**노드/엣지 선택의 논리적 근거:**', '- 개체명 선택: 구체적 제품명(5G슈퍼플랜), 핵심 혜택(50%할인혜택, 갤럭시버즈), 행동 장소(T world매장, m.tworld.co.kr) 중심으로 구성', "- 관계 동사: 조건부 관계('가입하면') 우선 사용하여 혜택 획득 조건을 명확히 표현", '- 경로 구성: 사용자의 실제 행동 순서(방문/접속 → 가입 → 혜택 수령/서비스 사용)를 반영한 논리적 흐름 구성']...
2025-08-20 17:06:31,889 - __main__ - INFO - 추출 완료: 47.985초
2025-08-20 17:06:31,891 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:06:31] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:06:36,326 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:06:36] "GET /health HTTP/1.1" 200 -
2025-08-20 17:06:51,268 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:06:51] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:06:51,270 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 328자
2025-08-20 17:06:51,270 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:06:51,270 - mms_extractor - INFO - ============================================================
2025-08-20 17:06:51,270 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:06:51,270 - mms_extractor - INFO - ============================================================
2025-08-20 17:06:51,270 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 17:06:51,270 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 17:06:51,270 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:06:51,271 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:06:51,271 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 17:06:51,271 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:06:51,271 - mms_extractor - INFO - LLM 모델: claude
2025-08-20 17:06:51,271 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:06:51,271 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:06:51,271 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:06:51,271 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:06:51,271 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 17:06:51,284 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:06:51,287 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 17:06:51,287 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 17:06:51,289 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 17:06:51,289 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 17:06:51,289 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['충전기', '갤럭시', '워치6']
2025-08-20 17:06:51,289 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:06:51,801 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 17:06:51,801 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 17:06:51,801 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 17:06:51,801 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:06:51,967 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 17:06:51,968 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 17:06:51,968 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:06:51,971 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 17:06:51,974 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 17:06:51,975 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 17:06:51,976 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 17:06:51,981 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 17:06:51,981 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 17:06:51,981 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.71초
2025-08-20 17:06:51,981 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:06:51,982 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 17:06:51,982 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:06:52,038 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:06:52,038 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:06:52,038 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 17:06:52,038 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:06:52,039 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 17:06:52,039 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:06:52,039 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 17:06:52,039 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:06:52,039 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 17:06:52,039 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 17:06:52,039 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:06:52,039 - mms_extractor - INFO - 구성된 프롬프트 길이: 7860 문자
2025-08-20 17:06:52,039 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 17:06:56,176 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:06:56,180 - mms_extractor - INFO - LLM 응답 길이: 730 문자
2025-08-20 17:06:56,180 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": ["상품 가입 유도", "혜택 안내"],
    "product": [
        {"name": "갤럭시 S24 Ultra", "action": "구매"},
        {"name": "갤럭시 S24+", "action": "구매"},
        {"name": "갤럭시 S24", "action": "구매"},
        {"name": "갤럭시 워치6", "action": "구매"},
        {"name": "무선충전기", "action": "구매"},
        {"name": "케어플러스", "action": "가입"}
    ],
    "channel": [
        {"type": "앱", "value": "T world 앱", "action": "가입"},
        {"type": "URL", "value": "tworldfriends.c...
2025-08-20 17:06:56,180 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:06:56,181 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:06:56,181 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:06:56,181 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '구매'}, {'name': '케어플러스', 'action': '가입'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 17:06:56,181 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:06:56,181 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 17:06:58,791 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:06:59,644 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 3.46초
2025-08-20 17:06:59,651 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:06:59,652 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:06:59,652 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:06:59,652 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 17:06:59,652 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x138d99040> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x138d9a9c0> root_client=<openai.OpenAI object at 0x138d999d0> root_async_client=<openai.AsyncOpenAI object at 0x138d9a7a0> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:06:59,652 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:06:59,652 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 17:07:06,320 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:07:06] "GET /health HTTP/1.1" 200 -
2025-08-20 17:07:18,627 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:07:18,629 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1678자
2025-08-20 17:07:18,629 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
SK텔레콤이 갤럭시 S24 시리즈의 사전예약을 통해 고객에게 즉각적인 할인 혜택과 추가 사은품을 제공하여 신제품 구매를 유도하는 광고입니다. T world 앱과 매장 두 가지 예약 경로를 제시하고 있습니다.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 갤럭시 S24 시리즈별 할인 (20~3...
2025-08-20 17:07:18,629 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:07:18,630 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 673자
2025-08-20 17:07:18,631 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:07:18,634 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 6, 엣지 수: 5
2025-08-20 17:07:18,634 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world앱:접속', '갤럭시S24시리즈:사전예약', '매장:방문', '최대30만원할인:수령', '추가사은품:수령', '갤럭시S24시리즈:구매']
2025-08-20 17:07:18,634 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world앱:접속', '갤럭시S24시리즈:사전예약'), ('갤럭시S24시리즈:사전예약', '최대30만원할인:수령'), ('갤럭시S24시리즈:사전예약', '추가사은품:수령'), ('갤럭시S24시리즈:사전예약', '갤럭시S24시리즈:구매'), ('매장:방문', '갤럭시S24시리즈:사전예약')]
2025-08-20 17:07:18,635 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:07:18,635 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:07:18,635 - utils - INFO - 📊 입력 그래프 - 노드 수: 6, 엣지 수: 5
2025-08-20 17:07:18,637 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:07:18,867 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 17:07:18,867 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:07:18,868 - mms_extractor - INFO - 🕒 DAG 처리 시간: 19.216초
2025-08-20 17:07:18,868 - mms_extractor - INFO - 📏 DAG 섹션 길이: 673자
2025-08-20 17:07:18,868 - mms_extractor - INFO - 📄 DAG 내용 미리보기: 
```
(T world앱:접속) -[접속하여]-> (갤럭시S24시리즈:사전예약)
(매장:방문) -[방문하여]-> (갤럭시S24시리즈:사전예약)
(갤럭시S24시리즈:사전예약) -[예약하면]-> (최대30만원할인:수령)
(갤럭시S24시리즈:사전예약) -[예약하면]-> (추가사은품:수령)
(갤럭시S24시리즈:사전예약) -[예약후]-> (갤럭시S24시리즈:구매)...
2025-08-20 17:07:18,868 - mms_extractor - INFO - ============================================================
2025-08-20 17:07:18,868 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:07:18,868 - mms_extractor - INFO - ============================================================
2025-08-20 17:07:18,868 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-20 17:07:18,868 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 17:07:18,868 - mms_extractor - INFO - 상품 수: 5개
2025-08-20 17:07:18,868 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:07:18,868 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 17:07:18,868 - mms_extractor - INFO - process_message 실행완료: 27.60초
2025-08-20 17:07:18,868 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 23자
2025-08-20 17:07:18,868 - __main__ - INFO - DAG 내용 미리보기: ['', '```', '(T world앱:접속) -[접속하여]-> (갤럭시S24시리즈:사전예약)', '(매장:방문) -[방문하여]-> (갤럭시S24시리즈:사전예약)', '(갤럭시S24시리즈:사전예약) -[예약하면]-> (최대30만원할인:수령)', '(갤럭시S24시리즈:사전예약) -[예약하면]-> (추가사은품:수령)', '(갤럭시S24시리즈:사전예약) -[예약후]-> (갤럭시S24시리즈:구매)', '```', '', '## 5. 최종 검증 및 추출 근거', '', '**최종 DAG가 모든 기준을 충족하는 이유:**', '- Root Node 명확성: 사용자의 첫 행동인 앱 접속과 매장 방문을 명확히 제시', '- 완전한 가치 표현: 주요 할인 혜택과 추가 사은품을 모두 포함하되 간결하게 통합', '- 핵심 흐름 우선: 사전예약 → 혜택 수령 → 실제 구매의 논리적 흐름 유지', '- 중복 제거: 여러 추가 혜택을 "추가사은품"으로 통합하여 복잡성 감소', '', '**노드/엣지 선택의 논리적 근거:**', '- **T world앱/매장**: 광고에서 명시한 두 가지 예약 경로를 Root Node로 설정', '- **갤럭시S24시리즈**: 구체적 제품명으로 핵심 대상 명확화', '- **최대30만원할인**: 가장 큰 금전적 혜택으로 별도 표현', '- **추가사은품**: 워치 할인, 무선충전기, 케어플러스를 하나로 통합하여 간결성 확보', '- **예약하면/예약후**: 조건부 관계와 시간적 순서를 명확히 구분']...
2025-08-20 17:07:18,868 - __main__ - INFO - 추출 완료: 27.598초
2025-08-20 17:07:18,869 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:07:18] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:07:26,691 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:07:26] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:07:26,695 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 17:07:26,695 - __main__ - INFO - LLM 모델이 claude -> ax로 변경됨. 재초기화 중...
2025-08-20 17:07:26,697 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 17:07:26,698 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 17:07:26,698 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:07:26,698 - mms_extractor - INFO - ============================================================
2025-08-20 17:07:26,698 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:07:26,698 - mms_extractor - INFO - ============================================================
2025-08-20 17:07:26,698 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 17:07:26,699 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 17:07:26,699 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:07:26,699 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:07:26,699 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 17:07:26,699 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:07:26,699 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 17:07:26,699 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:07:26,699 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:07:26,699 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:07:26,699 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:07:26,699 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 17:07:26,712 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:07:26,716 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 17:07:26,716 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 17:07:26,718 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 17:07:26,718 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 17:07:26,718 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['충전기', '갤럭시', '워치6']
2025-08-20 17:07:26,718 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:07:27,192 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 17:07:27,193 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 17:07:27,193 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 17:07:27,193 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:07:27,345 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 17:07:27,346 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 17:07:27,346 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:07:27,349 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 17:07:27,351 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 17:07:27,352 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 17:07:27,353 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 17:07:27,357 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 17:07:27,357 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 17:07:27,357 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.66초
2025-08-20 17:07:27,357 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:07:27,357 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 17:07:27,357 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:07:27,401 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:07:27,401 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:07:27,402 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 17:07:27,402 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:07:27,402 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 17:07:27,402 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:07:27,402 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 17:07:27,402 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:07:27,402 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 17:07:27,402 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 17:07:27,402 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:07:27,402 - mms_extractor - INFO - 구성된 프롬프트 길이: 7860 문자
2025-08-20 17:07:27,402 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 17:07:35,346 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:07:35,350 - mms_extractor - INFO - LLM 응답 길이: 1176 문자
2025-08-20 17:07:35,351 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "a...
2025-08-20 17:07:35,351 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:07:35,352 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:07:35,352 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:07:35,352 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '구매'}, {'name': '케어플러스', 'action': '가입'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '추가 정보'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '추가 정보'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 17:07:35,353 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:07:35,353 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 17:07:36,324 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:07:36] "GET /health HTTP/1.1" 200 -
2025-08-20 17:07:36,332 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:07:37,147 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.79초
2025-08-20 17:07:37,155 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:07:37,155 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:07:37,155 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:07:37,155 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 17:07:37,156 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x138d9b240> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x138d9a8b0> root_client=<openai.OpenAI object at 0x138dbf450> root_async_client=<openai.AsyncOpenAI object at 0x138d9b350> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:07:37,156 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:07:37,156 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 17:08:05,102 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:08:05,106 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-20 17:08:05,106 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 17:08:05,106 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:08:05,106 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-20 17:08:05,107 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:08:05,107 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-20 17:08:05,107 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-20 17:08:05,108 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 17:08:05,108 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:08:05,108 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:08:05,108 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-20 17:08:05,111 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:08:05,370 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 17:08:05,370 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:08:05,370 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.215초
2025-08-20 17:08:05,370 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-20 17:08:05,370 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-20 17:08:05,370 - mms_extractor - INFO - ============================================================
2025-08-20 17:08:05,370 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:08:05,370 - mms_extractor - INFO - ============================================================
2025-08-20 17:08:05,370 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-20 17:08:05,370 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 17:08:05,370 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 17:08:05,370 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:08:05,370 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 17:08:05,371 - mms_extractor - INFO - process_message 실행완료: 38.67초
2025-08-20 17:08:05,371 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 9자
2025-08-20 17:08:05,371 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)']...
2025-08-20 17:08:05,371 - __main__ - INFO - 추출 완료: 38.676초
2025-08-20 17:08:05,371 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:08:05] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:08:06,319 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:08:06] "GET /health HTTP/1.1" 200 -
2025-08-20 17:08:36,318 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:08:36] "GET /health HTTP/1.1" 200 -
2025-08-20 17:09:06,323 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:09:06] "GET /health HTTP/1.1" 200 -
2025-08-20 17:09:20,894 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-20 17:09:20,894 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-20 17:09:20,894 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-20 17:09:20,894 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-20 17:09:20,894 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-20 17:09:20,918 - mms_extractor - INFO - Using device: mps
2025-08-20 17:09:20,918 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-20 17:09:20,918 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 17:09:20,918 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 17:09:20,918 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-20 17:09:20,919 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-20 17:09:20,919 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-20 17:09:24,294 - mms_extractor - INFO - Model loaded on mps
2025-08-20 17:09:24,294 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 3.38초
2025-08-20 17:09:24,773 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-20 17:09:24,774 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.48초
2025-08-20 17:09:24,774 - mms_extractor - INFO - ============================================================
2025-08-20 17:09:24,774 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-20 17:09:24,774 - mms_extractor - INFO - ============================================================
2025-08-20 17:09:24,774 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-20 17:09:24,774 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-20 17:09:24,774 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-20 17:09:24,774 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-20 17:09:24,774 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-20 17:09:24,891 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-20 17:09:24,891 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-20 17:09:24,900 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-20 17:09:24,904 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-20 17:09:24,905 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 17:09:24,908 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-20 17:09:24,908 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-20 17:09:24,908 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-20 17:09:24,908 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-20 17:09:24,908 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-20 17:09:24,908 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-20 17:09:24,908 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-20 17:09:24,917 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-20 17:09:24,918 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-20 17:09:24,918 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-20 17:09:25,265 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-20 17:09:25,267 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-20 17:09:25,267 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-20 17:09:25,267 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-20 17:09:25,267 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-20 17:09:25,268 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-20 17:09:25,268 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-20 17:09:25,268 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-20 17:09:25,269 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-20 17:09:25,276 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-20 17:09:25,279 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-20 17:09:25,279 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 17:09:25,327 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-20 17:09:25,328 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-20 17:09:25,328 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-20 17:09:25,340 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-20 17:09:25,341 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-20 17:09:25,488 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-20 17:09:25,489 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-20 17:09:25,489 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-20 17:09:26,051 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-20 17:09:26,051 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-20 17:09:26,051 - mms_extractor - INFO - ============================================================
2025-08-20 17:09:26,051 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-20 17:09:26,051 - mms_extractor - INFO - ============================================================
2025-08-20 17:09:26,051 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-20 17:09:26,051 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-20 17:09:26,051 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-20 17:09:26,051 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-20 17:09:26,051 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-20 17:09:26,056 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-20 17:09:26,063 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-20 17:09:26,066 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-20 17:09:26,066 - mms_extractor - INFO - _load_data 실행완료: 1.29초
2025-08-20 17:09:26,066 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-20 17:09:26,066 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-20 17:09:26,066 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-20 17:09:26,067 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-20 17:09:26,067 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-20 17:09:26,067 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-20 17:09:26,067 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-20 17:09:26,067 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-20 17:09:26,067 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-20 17:09:26,067 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-20 17:09:26,067 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-20 17:09:26,090 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.24.218:8000
2025-08-20 17:09:26,091 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-20 17:09:36,325 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:09:36] "GET /health HTTP/1.1" 200 -
2025-08-20 17:10:01,655 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:10:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:10:11,268 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:10:11] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:10:11,274 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 284자
2025-08-20 17:10:11,274 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:10:11,275 - mms_extractor - INFO - ============================================================
2025-08-20 17:10:11,275 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:10:11,275 - mms_extractor - INFO - ============================================================
2025-08-20 17:10:11,275 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 17:10:11,275 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 17:10:11,275 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:10:11,275 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:10:11,275 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 17:10:11,275 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-20 17:10:11,275 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 17:10:11,275 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:10:11,275 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:10:11,275 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:10:11,275 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:10:11,275 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 17:10:11,286 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:10:11,806 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 17:10:11,806 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 17:10:11,807 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 17:10:11,807 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 17:10:11,807 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['YouTube Premium', '갤럭시', '버즈']
2025-08-20 17:10:11,807 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:10:31,652 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:10:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:10:33,634 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 17:10:33,635 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 17:10:33,644 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 17:10:33,644 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:10:33,755 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 17:10:33,755 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 17:10:33,755 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:10:33,758 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 17:10:33,763 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 17:10:33,764 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 17:10:33,765 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 17:10:33,770 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 17:10:33,770 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 17:10:33,770 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 22.49초
2025-08-20 17:10:33,770 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:10:33,770 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 17:10:33,770 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:10:33,986 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:10:33,986 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:10:33,986 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 17:10:33,986 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:10:33,986 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 17:10:33,986 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:10:33,986 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 17:10:33,986 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:10:33,986 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 17:10:33,986 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 17:10:33,986 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:10:33,986 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 17:10:33,987 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 17:10:40,949 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:10:40,955 - mms_extractor - INFO - LLM 응답 길이: 1034 문자
2025-08-20 17:10:40,955 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[T world] 5G 요금제 특가 혜택",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내",
        "경품 제공 안내"
    ],
    "product": [
        {
            "name": "5G 슈퍼플랜 (데이터 무제한)",
            "action": "가입"
        },
        {
            "name": "가족 추가 회선",
            "action": "가입"
        },
        {
            "name": "YouTube Premium",
            "action": "사용"
        },
        {
            "name": "갤럭시 버즈",
            "action": "기타"
        }
    ],
    "channel":...
2025-08-20 17:10:40,955 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:10:40,955 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:10:40,955 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:10:40,956 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[T world] 5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '경품 제공 안내'], 'product': [{'name': '5G 슈퍼플랜 (데이터 무제한)', 'action': '가입'}, {'name': '가족 추가 회선', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '상품및부가서비스가입유도_단말']}
2025-08-20 17:10:40,956 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:10:40,956 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜 (데이터 무제한)', '가족 추가 회선', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 17:10:41,366 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:10:41,366 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:10:41,366 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:10:41,367 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 17:10:41,367 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x126704cb0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x126705010> root_client=<openai.OpenAI object at 0x1266ebf00> root_async_client=<openai.AsyncOpenAI object at 0x126704dd0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:10:41,367 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:10:41,367 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 17:11:01,655 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:11:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:11:06,309 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:11:06,310 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2737자
2025-08-20 17:11:06,310 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
T world에서 5G 슈퍼플랜 요금제에 대한 특가 이벤트를 진행 중이며, 신규 가입자에게 다양한 혜택을 제공하고자 함. 주요 혜택은 50% 할인, 가족 추가 회선 할인, YouTube Premium 6개월 무료, 갤럭시 버즈 증정 등임. 가입은 온라인, 매장, 고객센터를 통해 가능함.

[식별...
2025-08-20 17:11:06,310 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:11:06,311 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 676자
2025-08-20 17:11:06,311 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:11:06,311 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 4, 엣지 수: 3
2025-08-20 17:11:06,311 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['온라인:가입', '5G 슈퍼플랜:가입', '매장:방문', '고객센터:연락']
2025-08-20 17:11:06,311 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('온라인:가입', '5G 슈퍼플랜:가입'), ('매장:방문', '5G 슈퍼플랜:가입'), ('고객센터:연락', '5G 슈퍼플랜:가입')]
2025-08-20 17:11:06,312 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:11:06,312 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:11:06,312 - utils - INFO - 📊 입력 그래프 - 노드 수: 4, 엣지 수: 3
2025-08-20 17:11:06,312 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:11:06,821 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 17:11:06,821 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:11:06,821 - mms_extractor - INFO - 🕒 DAG 처리 시간: 25.455초
2025-08-20 17:11:06,821 - mms_extractor - INFO - 📏 DAG 섹션 길이: 676자
2025-08-20 17:11:06,821 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입) -[가입하면]-> (50%할인:수령)
(온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입) -[가입하면]-> (가족추가회선할인:수령)
(온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:사용)
(온라인:가입) -[가입하면]-> (5G 슈퍼플랜:...
2025-08-20 17:11:06,821 - mms_extractor - INFO - ============================================================
2025-08-20 17:11:06,821 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:11:06,821 - mms_extractor - INFO - ============================================================
2025-08-20 17:11:06,821 - mms_extractor - INFO - 제목: [T world] 5G 요금제 특가 혜택
2025-08-20 17:11:06,821 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '경품 제공 안내']
2025-08-20 17:11:06,821 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 17:11:06,821 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:11:06,822 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 17:11:06,822 - mms_extractor - INFO - process_message 실행완료: 55.55초
2025-08-20 17:11:06,822 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 12자
2025-08-20 17:11:06,822 - __main__ - INFO - DAG 내용 미리보기: ['(고객센터:연락) -[연락하여]-> (5G 슈퍼플랜:가입) -[가입하면]-> (50%할인:수령)', '(고객센터:연락) -[연락하여]-> (5G 슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:사용)', '(고객센터:연락) -[연락하여]-> (5G 슈퍼플랜:가입) -[가입하면]-> (가족추가회선할인:수령)', '(고객센터:연락) -[연락하여]-> (5G 슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)', '(매장:방문) -[방문하여]-> (5G 슈퍼플랜:가입) -[가입하면]-> (50%할인:수령)', '(매장:방문) -[방문하여]-> (5G 슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:사용)', '(매장:방문) -[방문하여]-> (5G 슈퍼플랜:가입) -[가입하면]-> (가족추가회선할인:수령)', '(매장:방문) -[방문하여]-> (5G 슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)', '(온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입) -[가입하면]-> (50%할인:수령)', '(온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:사용)', '(온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입) -[가입하면]-> (가족추가회선할인:수령)', '(온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)']...
2025-08-20 17:11:06,822 - __main__ - INFO - 추출 완료: 55.548초
2025-08-20 17:11:06,823 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:11:06] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:11:31,654 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:11:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:12:01,655 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:12:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:12:31,652 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:12:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:12:57,473 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:12:57] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:12:57,476 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 284자
2025-08-20 17:12:57,476 - __main__ - INFO - LLM 모델이 ax -> claude로 변경됨. 재초기화 중...
2025-08-20 17:12:57,478 - mms_extractor - INFO - LLM 초기화 완료: claude (amazon/anthropic/claude-sonnet-4-20250514)
2025-08-20 17:12:57,478 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 17:12:57,478 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:12:57,478 - mms_extractor - INFO - ============================================================
2025-08-20 17:12:57,479 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:12:57,479 - mms_extractor - INFO - ============================================================
2025-08-20 17:12:57,480 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 17:12:57,480 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 17:12:57,480 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:12:57,480 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:12:57,480 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 17:12:57,480 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:12:57,480 - mms_extractor - INFO - LLM 모델: claude
2025-08-20 17:12:57,480 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:12:57,480 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:12:57,480 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:12:57,480 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:12:57,481 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 17:12:57,492 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:12:57,504 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 17:12:57,505 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 17:12:57,507 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 17:12:57,507 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 17:12:57,507 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['YouTube Premium', '갤럭시', '버즈']
2025-08-20 17:12:57,507 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:12:57,891 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 17:12:57,891 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 17:12:57,892 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 17:12:57,892 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:12:58,003 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 17:12:58,003 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 17:12:58,003 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:12:58,006 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 17:12:58,009 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 17:12:58,009 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 17:12:58,010 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 17:12:58,014 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 17:12:58,014 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 17:12:58,015 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.53초
2025-08-20 17:12:58,015 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:12:58,015 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 17:12:58,015 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:12:58,071 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:12:58,071 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:12:58,071 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 17:12:58,072 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:12:58,072 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 17:12:58,072 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:12:58,072 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 17:12:58,072 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:12:58,072 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 17:12:58,072 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 17:12:58,072 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:12:58,072 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 17:12:58,072 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 17:13:01,650 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:13:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:13:02,253 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:13:02,255 - mms_extractor - INFO - LLM 응답 길이: 615 문자
2025-08-20 17:13:02,255 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "5G 요금제 특가 혜택",
    "purpose": ["상품 가입 유도", "혜택 안내", "대리점/매장 방문 유도", "웹/앱 접속 유도"],
    "product": [
        {"name": "5G 슈퍼플랜", "action": "가입"},
        {"name": "YouTube Premium", "action": "사용"},
        {"name": "갤럭시 버즈", "action": "기타"}
    ],
    "channel": [
        {"type": "URL", "value": "m.tworld.co.kr", "action": "가입"},
        {"type": "대리점", "value": "전국 T world 매장", "action": "가입"},
        {"type": "전화번호", "value": "114", "action": "문의"},
        {"type": "전...
2025-08-20 17:13:02,255 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:13:02,256 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:13:02,256 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:13:02,256 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도'], 'product': [{'name': '5G 슈퍼플랜', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '타사회선(가망)_win-back']}
2025-08-20 17:13:02,256 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:13:02,256 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 17:13:04,436 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:13:04,819 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 2.56초
2025-08-20 17:13:04,992 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:13:04,992 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:13:04,992 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:13:04,992 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 17:13:04,992 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x136b9a7a0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x136b9acf0> root_client=<openai.OpenAI object at 0x136b99370> root_async_client=<openai.AsyncOpenAI object at 0x136b9abe0> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:13:04,992 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:13:04,992 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 17:13:31,653 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:13:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:13:39,327 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:13:39,327 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1650자
2025-08-20 17:13:39,327 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
T world에서 5G 슈퍼플랜 요금제 가입을 유도하는 광고로, 50% 할인된 특가와 다양한 부가 혜택(YouTube Premium, 갤럭시 버즈)을 제공하여 신규 고객 확보를 목표로 함. 온라인과 오프라인 모든 채널에서 가입 가능.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 50% 할인...
2025-08-20 17:13:39,328 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:13:39,328 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 725자
2025-08-20 17:13:39,328 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:13:39,328 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 6, 엣지 수: 5
2025-08-20 17:13:39,328 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 온라인:접속', '5G슈퍼플랜:가입', 'T world 매장:방문', '50%할인+갤럭시버즈:수령', 'YouTube Premium:사용', '데이터무제한서비스:사용']
2025-08-20 17:13:39,328 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 온라인:접속', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '50%할인+갤럭시버즈:수령'), ('5G슈퍼플랜:가입', 'YouTube Premium:사용'), ('5G슈퍼플랜:가입', '데이터무제한서비스:사용'), ('T world 매장:방문', '5G슈퍼플랜:가입')]
2025-08-20 17:13:39,328 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:13:39,328 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:13:39,328 - utils - INFO - 📊 입력 그래프 - 노드 수: 6, 엣지 수: 5
2025-08-20 17:13:39,329 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:13:39,596 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 17:13:39,596 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:13:39,596 - mms_extractor - INFO - 🕒 DAG 처리 시간: 34.604초
2025-08-20 17:13:39,596 - mms_extractor - INFO - 📏 DAG 섹션 길이: 725자
2025-08-20 17:13:39,596 - mms_extractor - INFO - 📄 DAG 내용 미리보기: 
```
(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면]-> (50%할인+갤럭시버즈:수령)
(5G슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:사용)
(5G슈퍼플랜:가입) -[가입후]-> (데이터무제한서비스:사용)
...
2025-08-20 17:13:39,596 - mms_extractor - INFO - ============================================================
2025-08-20 17:13:39,596 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:13:39,596 - mms_extractor - INFO - ============================================================
2025-08-20 17:13:39,596 - mms_extractor - INFO - 제목: 5G 요금제 특가 혜택
2025-08-20 17:13:39,596 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도']
2025-08-20 17:13:39,596 - mms_extractor - INFO - 상품 수: 3개
2025-08-20 17:13:39,596 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:13:39,596 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 17:13:39,597 - mms_extractor - INFO - process_message 실행완료: 42.12초
2025-08-20 17:13:39,597 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 19자
2025-08-20 17:13:39,597 - __main__ - INFO - DAG 내용 미리보기: ['## 5. 최종 검증 및 추출 근거', '(5G슈퍼플랜:가입) -[가입하면]-> (50%할인+갤럭시버즈:수령)', '(5G슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:사용)', '(5G슈퍼플랜:가입) -[가입후]-> (데이터무제한서비스:사용)', '(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)', '(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)', '**노드/엣지 선택의 논리적 근거:**', '**최종 DAG가 모든 기준을 충족하는 이유:**', '- **Root Node**: 광고에서 온라인 사이트와 매장 주소를 명시하여 두 가지 접근 경로 제시', '- **부가 서비스**: YouTube Premium은 독립적인 서비스 가치로 별도 표현', '- **핵심 서비스**: 5G 슈퍼플랜의 데이터 무제한이 주요 서비스 가치', '- **혜택 통합**: 50% 할인과 갤럭시 버즈는 모두 신규 가입 시 제공되는 즉각적 혜택으로 통합', '- ✅ Root Node 명확화: 온라인 접속과 매장 방문이라는 두 가지 시작점 제시', '- ✅ 관계 동사 적절성: 조건부 관계(가입하면, 가입후)와 경로 관계(접속하여, 방문하여) 적절히 사용', '- ✅ 명확한 흐름: 접속/방문 → 가입 → 혜택 수령/서비스 이용의 논리적 순서', '- ✅ 완전한 가치 표현: 할인 혜택, 사은품, 부가 서비스, 핵심 서비스 모두 포함', '- ✅ 적절한 그룹화: 금전적 혜택과 사은품을 하나로 통합하여 간결성 확보', '```', '```']...
2025-08-20 17:13:39,597 - __main__ - INFO - 추출 완료: 42.121초
2025-08-20 17:13:39,597 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:13:39] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:14:01,652 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:14:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:14:03,875 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:14:03] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:14:03,879 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 284자
2025-08-20 17:14:03,879 - __main__ - INFO - LLM 모델이 claude -> ax로 변경됨. 재초기화 중...
2025-08-20 17:14:03,881 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 17:14:03,881 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 17:14:03,881 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:14:03,882 - mms_extractor - INFO - ============================================================
2025-08-20 17:14:03,882 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:14:03,882 - mms_extractor - INFO - ============================================================
2025-08-20 17:14:03,882 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 17:14:03,882 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 17:14:03,882 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:14:03,882 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:14:03,882 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 17:14:03,882 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:14:03,882 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 17:14:03,882 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:14:03,882 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:14:03,883 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:14:03,883 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:14:03,883 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 17:14:03,898 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:14:03,903 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 17:14:03,903 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 17:14:03,905 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 17:14:03,905 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 17:14:03,906 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['YouTube Premium', '갤럭시', '버즈']
2025-08-20 17:14:03,906 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:14:04,404 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 17:14:04,404 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 17:14:04,405 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 17:14:04,405 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:14:04,526 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 17:14:04,527 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 17:14:04,527 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:14:04,529 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 17:14:04,532 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 17:14:04,533 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 17:14:04,534 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 17:14:04,538 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 17:14:04,538 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 17:14:04,538 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.66초
2025-08-20 17:14:04,538 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:14:04,538 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 17:14:04,538 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:14:04,597 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:14:04,598 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:14:04,598 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 17:14:04,598 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:14:04,598 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 17:14:04,598 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:14:04,598 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 17:14:04,598 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:14:04,598 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 17:14:04,598 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 17:14:04,598 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:14:04,598 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 17:14:04,598 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 17:14:11,676 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:14:11,681 - mms_extractor - INFO - LLM 응답 길이: 1034 문자
2025-08-20 17:14:11,682 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[T world] 5G 요금제 특가 혜택",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내",
        "경품 제공 안내"
    ],
    "product": [
        {
            "name": "5G 슈퍼플랜 (데이터 무제한)",
            "action": "가입"
        },
        {
            "name": "가족 추가 회선",
            "action": "가입"
        },
        {
            "name": "YouTube Premium",
            "action": "사용"
        },
        {
            "name": "갤럭시 버즈",
            "action": "기타"
        }
    ],
    "channel":...
2025-08-20 17:14:11,682 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:14:11,684 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:14:11,685 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:14:11,685 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[T world] 5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '경품 제공 안내'], 'product': [{'name': '5G 슈퍼플랜 (데이터 무제한)', 'action': '가입'}, {'name': '가족 추가 회선', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '상품및부가서비스가입유도_단말']}
2025-08-20 17:14:11,685 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:14:11,685 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜 (데이터 무제한)', '가족 추가 회선', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 17:14:12,411 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:14:12,579 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 0.89초
2025-08-20 17:14:12,737 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:14:12,737 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:14:12,737 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:14:12,737 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 17:14:12,737 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x136b9a9c0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x136b9b020> root_client=<openai.OpenAI object at 0x102144250> root_async_client=<openai.AsyncOpenAI object at 0x136b9a8b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:14:12,737 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:14:12,737 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 17:14:31,648 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:14:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:14:35,952 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:14:35,955 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2632자
2025-08-20 17:14:35,955 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
T world에서 5G 슈퍼플랜 요금제의 특가 이벤트를 진행 중이며, 신규 가입자에게 다양한 혜택을 제공하고자 합니다. 주요 혜택은 50% 할인, 가족 추가 회선 할인, YouTube Premium 6개월 무료, 그리고 신규 가입 시 갤럭시 버즈 증정입니다. 가입은 온라인, 매장, 고객센터를 통...
2025-08-20 17:14:35,955 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:14:35,956 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 334자
2025-08-20 17:14:35,956 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:14:35,956 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 9, 엣지 수: 10
2025-08-20 17:14:35,956 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['온라인:가입', '5G 슈퍼플랜:가입', '가족추가회선:가입', '매장:방문', '고객센터:문의', '50%할인:수령', 'YouTube Premium:무료이용', '갤럭시버즈:수령', '29000원:수령']
2025-08-20 17:14:35,957 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('온라인:가입', '5G 슈퍼플랜:가입'), ('온라인:가입', '가족추가회선:가입'), ('5G 슈퍼플랜:가입', '50%할인:수령'), ('5G 슈퍼플랜:가입', 'YouTube Premium:무료이용'), ('5G 슈퍼플랜:가입', '갤럭시버즈:수령'), ('가족추가회선:가입', '29000원:수령'), ('매장:방문', '5G 슈퍼플랜:가입'), ('매장:방문', '가족추가회선:가입'), ('고객센터:문의', '5G 슈퍼플랜:가입'), ('고객센터:문의', '가족추가회선:가입')]
2025-08-20 17:14:35,957 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:14:35,957 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:14:35,957 - utils - INFO - 📊 입력 그래프 - 노드 수: 9, 엣지 수: 10
2025-08-20 17:14:35,960 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:14:36,217 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 17:14:36,217 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:14:36,217 - mms_extractor - INFO - 🕒 DAG 처리 시간: 23.480초
2025-08-20 17:14:36,217 - mms_extractor - INFO - 📏 DAG 섹션 길이: 334자
2025-08-20 17:14:36,217 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입)
(온라인:가입) -[가입하면]-> (가족추가회선:가입)
(매장:방문) -[방문하여]-> (5G 슈퍼플랜:가입)
(매장:방문) -[방문하여]-> (가족추가회선:가입)
(고객센터:문의) -[문의후]-> (5G 슈퍼플랜:가입)
(고객센터:문의) -[문의후]-> (가족추가회선:가입)
(5G 슈퍼플랜:가입) ...
2025-08-20 17:14:36,217 - mms_extractor - INFO - ============================================================
2025-08-20 17:14:36,217 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:14:36,217 - mms_extractor - INFO - ============================================================
2025-08-20 17:14:36,217 - mms_extractor - INFO - 제목: [T world] 5G 요금제 특가 혜택
2025-08-20 17:14:36,217 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '경품 제공 안내']
2025-08-20 17:14:36,217 - mms_extractor - INFO - 상품 수: 1개
2025-08-20 17:14:36,217 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:14:36,217 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 17:14:36,218 - mms_extractor - INFO - process_message 실행완료: 32.34초
2025-08-20 17:14:36,218 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 10자
2025-08-20 17:14:36,218 - __main__ - INFO - DAG 내용 미리보기: ['(5G 슈퍼플랜:가입) -[가입하면]-> (50%할인:수령)', '(5G 슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:무료이용)', '(5G 슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)', '(가족추가회선:가입) -[가입하면]-> (29000원:수령)', '(고객센터:문의) -[문의후]-> (5G 슈퍼플랜:가입)', '(고객센터:문의) -[문의후]-> (가족추가회선:가입)', '(매장:방문) -[방문하여]-> (5G 슈퍼플랜:가입)', '(매장:방문) -[방문하여]-> (가족추가회선:가입)', '(온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입)', '(온라인:가입) -[가입하면]-> (가족추가회선:가입)']...
2025-08-20 17:14:36,218 - __main__ - INFO - 추출 완료: 32.339초
2025-08-20 17:14:36,218 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:14:36] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:14:57,003 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:14:57] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:14:57,006 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: gemini, 메시지 길이: 284자
2025-08-20 17:14:57,006 - __main__ - INFO - LLM 모델이 ax -> gemini로 변경됨. 재초기화 중...
2025-08-20 17:14:57,008 - mms_extractor - INFO - LLM 초기화 완료: gemini (gcp/gemini-2.5-flash)
2025-08-20 17:14:57,008 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 17:14:57,008 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:14:57,008 - mms_extractor - INFO - ============================================================
2025-08-20 17:14:57,008 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:14:57,009 - mms_extractor - INFO - ============================================================
2025-08-20 17:14:57,009 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 17:14:57,009 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 17:14:57,009 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:14:57,009 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:14:57,009 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 17:14:57,010 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:14:57,010 - mms_extractor - INFO - LLM 모델: gemini
2025-08-20 17:14:57,010 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:14:57,010 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:14:57,011 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:14:57,011 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:14:57,011 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 17:14:57,028 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:14:57,032 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 17:14:57,032 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 17:14:57,034 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 17:14:57,034 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 17:14:57,035 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['YouTube Premium', '갤럭시', '버즈']
2025-08-20 17:14:57,035 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:14:57,421 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 17:14:57,421 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 17:14:57,421 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 17:14:57,421 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:14:57,533 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 17:14:57,534 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 17:14:57,534 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:14:57,536 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 17:14:57,539 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 17:14:57,539 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 17:14:57,540 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 17:14:57,545 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 17:14:57,545 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 17:14:57,545 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.53초
2025-08-20 17:14:57,545 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:14:57,546 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 17:14:57,546 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:14:57,596 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:14:57,596 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:14:57,596 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 17:14:57,596 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:14:57,597 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 17:14:57,597 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:14:57,597 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 17:14:57,598 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:14:57,599 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 17:14:57,600 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 17:14:57,600 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:14:57,600 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 17:14:57,600 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 17:15:01,649 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:15:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:15:10,452 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:15:10,456 - mms_extractor - INFO - LLM 응답 길이: 1109 문자
2025-08-20 17:15:10,456 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[T world] 5G 요금제 특가 혜택",
    "purpose": [
        "혜택 안내",
        "상품 가입 유도",
        "경품 제공 안내",
        "웹/앱 접속 유도",
        "대리점/매장 방문 유도",
        "기타 정보 제공",
        "수신 거부 안내"
    ],
    "product": [
        {
            "name": "5G 슈퍼플랜",
            "action": "가입"
        },
        {
            "name": "가족 추가 회선",
            "action": "가입"
        },
        {
            "name": "YouTube Premium",
            "action": "사용"
        },
        {
            "...
2025-08-20 17:15:10,456 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:15:10,457 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:15:10,457 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:15:10,458 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[T world] 5G 요금제 특가 혜택', 'purpose': ['혜택 안내', '상품 가입 유도', '경품 제공 안내', '웹/앱 접속 유도', '대리점/매장 방문 유도', '기타 정보 제공', '수신 거부 안내'], 'product': [{'name': '5G 슈퍼플랜', 'action': '가입'}, {'name': '가족 추가 회선', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '상품및부가서비스가입유도_단말']}
2025-08-20 17:15:10,458 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:15:10,458 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜', '가족 추가 회선', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 17:15:20,418 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:15:20,832 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 10.37초
2025-08-20 17:15:20,995 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:15:20,995 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:15:20,995 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:15:20,995 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 17:15:20,995 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x136bc3e50> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x136bc2b50> root_client=<openai.OpenAI object at 0x136bc2550> root_async_client=<openai.AsyncOpenAI object at 0x136bc2850> model_name='gcp/gemini-2.5-flash' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:15:20,995 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:15:20,995 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 17:15:31,649 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:15:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:15:44,035 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:15:44,035 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3503자
2025-08-20 17:15:44,036 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
**메시지 요약 및 핵심 의도**:
본 광고는 SKT의 '5G 슈퍼플랜' 요금제에 대한 특가 이벤트를 홍보하며, 데이터 무제한 요금제를 50% 할인된 가격으로 제공하고, YouTube Premium 6개월 무료 이용권 및 신규 가입 시 갤럭시 버즈를 증정하는 혜택을 강조한다. 광고주의 핵심 의도는 고객들이 온라인 또는 오프라인 채널...
2025-08-20 17:15:44,036 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:15:44,036 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 219자
2025-08-20 17:15:44,036 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:15:44,036 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 7, 엣지 수: 6
2025-08-20 17:15:44,036 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['Tworld온라인:접속', '5G슈퍼플랜:가입', 'Tworld매장:방문', '50%할인:적용', '데이터무제한:사용', 'YouTubePremium6개월:사용', '갤럭시버즈:수령']
2025-08-20 17:15:44,036 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('Tworld온라인:접속', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '50%할인:적용'), ('5G슈퍼플랜:가입', '데이터무제한:사용'), ('5G슈퍼플랜:가입', 'YouTubePremium6개월:사용'), ('5G슈퍼플랜:가입', '갤럭시버즈:수령'), ('Tworld매장:방문', '5G슈퍼플랜:가입')]
2025-08-20 17:15:44,036 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:15:44,036 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:15:44,036 - utils - INFO - 📊 입력 그래프 - 노드 수: 7, 엣지 수: 6
2025-08-20 17:15:44,036 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:15:44,310 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 17:15:44,310 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:15:44,310 - mms_extractor - INFO - 🕒 DAG 처리 시간: 23.315초
2025-08-20 17:15:44,310 - mms_extractor - INFO - 📏 DAG 섹션 길이: 219자
2025-08-20 17:15:44,310 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (Tworld온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(Tworld매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)

(5G슈퍼플랜:가입) -[가입하면]-> (50%할인:적용)
(5G슈퍼플랜:가입) -[가입하면]-> (데이터무제한:사용)
(5G슈퍼플랜:가입) -[가입하면]-> (YouTubePremium6개월:사용)
(5G슈퍼플랜:가입) -[...
2025-08-20 17:15:44,310 - mms_extractor - INFO - ============================================================
2025-08-20 17:15:44,310 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:15:44,310 - mms_extractor - INFO - ============================================================
2025-08-20 17:15:44,310 - mms_extractor - INFO - 제목: [T world] 5G 요금제 특가 혜택
2025-08-20 17:15:44,310 - mms_extractor - INFO - 목적: ['혜택 안내', '상품 가입 유도', '경품 제공 안내', '웹/앱 접속 유도', '대리점/매장 방문 유도', '기타 정보 제공', '수신 거부 안내']
2025-08-20 17:15:44,310 - mms_extractor - INFO - 상품 수: 2개
2025-08-20 17:15:44,310 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:15:44,310 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 17:15:44,311 - mms_extractor - INFO - process_message 실행완료: 47.30초
2025-08-20 17:15:44,311 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 6자
2025-08-20 17:15:44,311 - __main__ - INFO - DAG 내용 미리보기: ['(5G슈퍼플랜:가입) -[가입하면]-> (50%할인:적용)', '(5G슈퍼플랜:가입) -[가입하면]-> (YouTubePremium6개월:사용)', '(5G슈퍼플랜:가입) -[가입하면]-> (데이터무제한:사용)', '(5G슈퍼플랜:가입) -[신규가입시]-> (갤럭시버즈:수령)', '(Tworld매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)', '(Tworld온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)']...
2025-08-20 17:15:44,311 - __main__ - INFO - 추출 완료: 47.304초
2025-08-20 17:15:44,311 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:15:44] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:16:01,648 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:16:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:16:31,647 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:16:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:16:59,194 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:16:59] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:16:59,197 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: gemma, 메시지 길이: 284자
2025-08-20 17:16:59,197 - __main__ - INFO - LLM 모델이 gemini -> gemma로 변경됨. 재초기화 중...
2025-08-20 17:16:59,199 - mms_extractor - INFO - LLM 초기화 완료: gemma (skt/gemma3-12b-it)
2025-08-20 17:16:59,199 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 17:16:59,199 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:16:59,199 - mms_extractor - INFO - ============================================================
2025-08-20 17:16:59,200 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:16:59,200 - mms_extractor - INFO - ============================================================
2025-08-20 17:16:59,200 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-20 17:16:59,200 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-20 17:16:59,200 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:16:59,200 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:16:59,200 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-20 17:16:59,201 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:16:59,201 - mms_extractor - INFO - LLM 모델: gemma
2025-08-20 17:16:59,201 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:16:59,201 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:16:59,201 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:16:59,201 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:16:59,201 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-20 17:16:59,218 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:16:59,223 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-20 17:16:59,224 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-20 17:16:59,226 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-20 17:16:59,227 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-20 17:16:59,227 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['YouTube Premium', '갤럭시', '버즈']
2025-08-20 17:16:59,227 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:16:59,623 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-20 17:16:59,623 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-20 17:16:59,624 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-20 17:16:59,624 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:16:59,736 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-20 17:16:59,737 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-20 17:16:59,737 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:16:59,739 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-20 17:16:59,742 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-20 17:16:59,743 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-20 17:16:59,744 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-20 17:16:59,748 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-20 17:16:59,748 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-20 17:16:59,748 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.55초
2025-08-20 17:16:59,748 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:16:59,748 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-20 17:16:59,748 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:16:59,806 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:16:59,806 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:16:59,806 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-20 17:16:59,806 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:16:59,806 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-20 17:16:59,806 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-20 17:16:59,806 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-20 17:16:59,806 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:16:59,806 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-20 17:16:59,806 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-20 17:16:59,806 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:16:59,806 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-20 17:16:59,806 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-20 17:17:01,647 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:17:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:17:05,851 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:17:05,859 - mms_extractor - INFO - LLM 응답 길이: 655 문자
2025-08-20 17:17:05,860 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[T world] 5G 요금제 특가 혜택",
    "purpose": ["상품 가입 유도", "혜택 안내", "경품 제공 안내"],
    "product": [
        {"name": "5G 슈퍼플랜 (데이터 무제한)", "action": "가입"},
        {"name": "가족 추가 회선", "action": "가입"},
        {"name": "YouTube Premium", "action": "사용"},
        {"name": "갤럭시 버즈", "action": "기타"}
    ],
    "channel": [
        {"type": "URL", "value": "m.tworld.co.kr", "action": "가입"},
        {"type": "대리점", "value": "전국 T world 매장", "action": "방문"},
        {"type": "전화번호", "va...
2025-08-20 17:17:05,860 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:17:05,861 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:17:05,861 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:17:05,861 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[T world] 5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '경품 제공 안내'], 'product': [{'name': '5G 슈퍼플랜 (데이터 무제한)', 'action': '가입'}, {'name': '가족 추가 회선', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '방문'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '경품 제공 안내']}
2025-08-20 17:17:05,861 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:17:05,861 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜 (데이터 무제한)', '가족 추가 회선', 'YouTube Premium', '갤럭시 버즈']
2025-08-20 17:17:06,883 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:17:07,344 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.48초
2025-08-20 17:17:07,501 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:17:07,501 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:17:07,501 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:17:07,501 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-20 17:17:07,501 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x136bc3950> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x136bc3150> root_client=<openai.OpenAI object at 0x13ef9c9b0> root_async_client=<openai.AsyncOpenAI object at 0x136bc3b50> model_name='skt/gemma3-12b-it' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:17:07,501 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:17:07,501 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-20 17:17:31,643 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:17:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:17:31,751 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:17:31,752 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2003자
2025-08-20 17:17:31,752 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**[메시지 요약 및 핵심 의도]**
본 광고는 T world에서 진행하는 5G 슈퍼플랜 특가 이벤트를 홍보하고, 신규 가입 고객에게 갤럭시 버즈를 증정하여 가입을 유도하는 것을 목표로 합니다. 온라인 가입 및 매장 방문을 유도하고 있습니다.

**[식별된 가치 제안 목록]**
*   **즉각적 혜택:** 갤럭시 버즈 증정
*   ...
2025-08-20 17:17:31,752 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:17:31,752 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 811자
2025-08-20 17:17:31,752 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:17:31,752 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 7, 엣지 수: 6
2025-08-20 17:17:31,752 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['Tworld:접속', '5G슈퍼플랜:가입', '데이터무제한:사용', 'YouTubePremium:사용', '갤럭시버즈:수령', 'Tworld:방문', '가족추가회선:적립']
2025-08-20 17:17:31,753 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('Tworld:접속', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '데이터무제한:사용'), ('5G슈퍼플랜:가입', 'YouTubePremium:사용'), ('5G슈퍼플랜:가입', '갤럭시버즈:수령'), ('5G슈퍼플랜:가입', '가족추가회선:적립'), ('Tworld:방문', '5G슈퍼플랜:가입')]
2025-08-20 17:17:31,753 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:17:31,753 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:17:31,753 - utils - INFO - 📊 입력 그래프 - 노드 수: 7, 엣지 수: 6
2025-08-20 17:17:31,753 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:17:33,808 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-20 17:17:33,808 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-20 17:17:33,808 - mms_extractor - INFO - 🕒 DAG 처리 시간: 26.307초
2025-08-20 17:17:33,808 - mms_extractor - INFO - 📏 DAG 섹션 길이: 811자
2025-08-20 17:17:33,808 - mms_extractor - INFO - 📄 DAG 내용 미리보기: 
```
(Tworld:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면]-> (데이터무제한:사용)
(5G슈퍼플랜:가입) -[가입하면]-> (YouTubePremium:사용)
(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)

(Tworld:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하...
2025-08-20 17:17:33,808 - mms_extractor - INFO - ============================================================
2025-08-20 17:17:33,808 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:17:33,809 - mms_extractor - INFO - ============================================================
2025-08-20 17:17:33,809 - mms_extractor - INFO - 제목: [T world] 5G 요금제 특가 혜택
2025-08-20 17:17:33,809 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '경품 제공 안내']
2025-08-20 17:17:33,809 - mms_extractor - INFO - 상품 수: 3개
2025-08-20 17:17:33,809 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:17:33,809 - mms_extractor - INFO - 프로그램 수: 1개
2025-08-20 17:17:33,809 - mms_extractor - INFO - process_message 실행완료: 34.61초
2025-08-20 17:17:33,809 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 20자
2025-08-20 17:17:33,809 - __main__ - INFO - DAG 내용 미리보기: ['## 5. 최종 검증 및 추출 근거', '(5G슈퍼플랜:가입) -[가입하면]-> (YouTubePremium:사용)', '(5G슈퍼플랜:가입) -[가입하면]-> (YouTubePremium:사용)', '(5G슈퍼플랜:가입) -[가입하면]-> (가족추가회선:적립)', '(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)', '(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)', '(5G슈퍼플랜:가입) -[가입하면]-> (데이터무제한:사용)', '(5G슈퍼플랜:가입) -[가입하면]-> (데이터무제한:사용)', '(Tworld:방문) -[방문하여]-> (5G슈퍼플랜:가입)', '(Tworld:접속) -[접속하여]-> (5G슈퍼플랜:가입)', '*   **노드**: 핵심 행동(가입, 사용, 수령, 적립)과 주요 개체(5G 슈퍼플랜, 데이터 무제한, YouTube Premium, 갤럭시 버즈)를 중심으로 선택.', '*   **엣지**: 각 행동 간의 인과관계를 나타내는 관계 동사("접속하여", "가입하면")를 사용하여 연결.  가족 추가 회선은 가입 후 적립되는 혜택이므로 "적립" 동사를 사용.', '*   Root Node는 온라인 접속(Tworld:접속)과 매장 방문(Tworld:방문)으로 명확히 구분됨.', '*   관계 동사는 조건부 관계("가입하면")를 사용하여 인과관계를 명확히 표현함.', '*   모든 가치 제안 (갤럭시 버즈, 데이터 무제한, YouTube Premium, 요금 할인)이 포함됨.', '*   중복된 경로를 최소화하고, 각 경로가 명확한 가치를 전달함.', '**[노드/엣지 선택의 논리적 근거]**', '**[최종 DAG가 모든 기준을 충족하는 이유]**', '```', '```']...
2025-08-20 17:17:33,809 - __main__ - INFO - 추출 완료: 34.612초
2025-08-20 17:17:33,810 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:17:33] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:18:01,647 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:18:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:18:31,646 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:18:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:19:01,641 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:19:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:19:31,639 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:19:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:20:01,641 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:20:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:20:31,639 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:20:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:21:01,643 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:21:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:21:31,642 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:21:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:22:01,636 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:22:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:22:31,637 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:22:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:23:01,635 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:23:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:23:31,636 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:23:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:24:01,633 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:24:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:24:31,634 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:24:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:25:01,631 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:25:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:25:31,633 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:25:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:26:01,634 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:26:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:26:31,634 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:26:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:27:01,631 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:27:01] "GET /health HTTP/1.1" 200 -
2025-08-20 17:27:31,629 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:27:31] "GET /health HTTP/1.1" 200 -
2025-08-20 17:28:36,635 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-20 17:28:36,635 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-20 17:28:36,635 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-20 17:28:36,635 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-20 17:28:36,635 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-20 17:28:36,655 - mms_extractor - INFO - Using device: mps
2025-08-20 17:28:36,655 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-20 17:28:36,655 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 17:28:36,655 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 17:28:36,655 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-20 17:28:36,656 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-20 17:28:36,656 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-20 17:28:42,746 - mms_extractor - INFO - Model loaded on mps
2025-08-20 17:28:42,746 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 6.09초
2025-08-20 17:28:43,246 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-20 17:28:43,246 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.50초
2025-08-20 17:28:43,246 - mms_extractor - INFO - ============================================================
2025-08-20 17:28:43,246 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-20 17:28:43,246 - mms_extractor - INFO - ============================================================
2025-08-20 17:28:43,246 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-20 17:28:43,246 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-20 17:28:43,246 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-20 17:28:43,246 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-20 17:28:43,246 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-20 17:28:43,370 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-20 17:28:43,371 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-20 17:28:43,379 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-20 17:28:43,384 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-20 17:28:43,385 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 17:28:43,387 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-20 17:28:43,387 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-20 17:28:43,388 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-20 17:28:43,388 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-20 17:28:43,388 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-20 17:28:43,388 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-20 17:28:43,388 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-20 17:28:43,391 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-20 17:28:43,392 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-20 17:28:43,392 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-20 17:28:43,743 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-20 17:28:43,745 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-20 17:28:43,745 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-20 17:28:43,745 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-20 17:28:43,745 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-20 17:28:43,747 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-20 17:28:43,747 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-20 17:28:43,747 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-20 17:28:43,747 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-20 17:28:43,755 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-20 17:28:43,758 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-20 17:28:43,758 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-20 17:28:43,813 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-20 17:28:43,814 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-20 17:28:43,814 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-20 17:28:43,829 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-20 17:28:43,829 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-20 17:28:44,025 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-20 17:28:44,026 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-20 17:28:44,026 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-20 17:28:44,522 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-20 17:28:44,522 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-20 17:28:44,523 - mms_extractor - INFO - ============================================================
2025-08-20 17:28:44,523 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-20 17:28:44,523 - mms_extractor - INFO - ============================================================
2025-08-20 17:28:44,523 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-20 17:28:44,523 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-20 17:28:44,523 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-20 17:28:44,523 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-20 17:28:44,523 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-20 17:28:44,527 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-20 17:28:44,535 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-20 17:28:44,538 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-20 17:28:44,538 - mms_extractor - INFO - _load_data 실행완료: 1.29초
2025-08-20 17:28:44,538 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-20 17:28:44,538 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-20 17:28:44,538 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-20 17:28:44,538 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-20 17:28:44,538 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-20 17:28:44,538 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-20 17:28:44,538 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-20 17:28:44,539 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-20 17:28:44,539 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-20 17:28:44,539 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-20 17:28:44,539 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-20 17:28:44,566 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.24.218:8000
2025-08-20 17:28:44,566 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-20 17:28:52,778 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:28:52] "GET /health HTTP/1.1" 200 -
2025-08-20 17:29:00,607 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:29:00] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:29:00,611 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 328자
2025-08-20 17:29:00,611 - __main__ - INFO - LLM 모델이 ax -> claude로 변경됨. 재초기화 중...
2025-08-20 17:29:00,613 - mms_extractor - INFO - LLM 초기화 완료: claude (amazon/anthropic/claude-sonnet-4-20250514)
2025-08-20 17:29:00,613 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 17:29:00,613 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:29:00,613 - mms_extractor - INFO - ============================================================
2025-08-20 17:29:00,613 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:29:00,613 - mms_extractor - INFO - ============================================================
2025-08-20 17:29:00,613 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 17:29:00,614 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 17:29:00,614 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:29:00,614 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:29:00,614 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 17:29:00,614 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:29:00,614 - mms_extractor - INFO - LLM 모델: claude
2025-08-20 17:29:00,614 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:29:00,614 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:29:00,614 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:29:00,614 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:29:00,614 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 17:29:00,629 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:29:01,180 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 17:29:01,181 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 17:29:01,182 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 17:29:01,182 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 17:29:01,182 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 17:29:01,182 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:29:08,203 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 17:29:08,205 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 17:29:08,214 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 17:29:08,214 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:29:08,376 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 17:29:08,377 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 17:29:08,377 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:29:08,380 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 17:29:08,385 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 17:29:08,385 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 17:29:08,387 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 17:29:08,392 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 17:29:08,392 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 17:29:08,392 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.78초
2025-08-20 17:29:08,393 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:29:08,393 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 17:29:08,393 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:29:08,657 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:29:08,657 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:29:08,657 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 17:29:08,657 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:29:08,657 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 17:29:08,657 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:29:08,657 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 17:29:08,657 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:29:08,658 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 17:29:08,659 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 17:29:08,659 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 17:29:08,659 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:29:08,659 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 17:29:08,659 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 17:29:14,816 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:29:14,831 - mms_extractor - INFO - LLM 응답 길이: 753 문자
2025-08-20 17:29:14,832 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": ["상품 가입 유도", "혜택 안내"],
    "product": [
        {"name": "갤럭시 S24 Ultra", "action": "사전예약"},
        {"name": "갤럭시 S24+", "action": "사전예약"},
        {"name": "갤럭시 S24", "action": "사전예약"},
        {"name": "갤럭시 워치6", "action": "할인"},
        {"name": "무선충전기", "action": "무료 증정"},
        {"name": "케어플러스", "action": "무료"}
    ],
    "channel": [
        {"type": "앱", "value": "T world 앱", "action": "추가 정보"},
        {"type": "URL", "valu...
2025-08-20 17:29:14,832 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:29:14,832 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:29:14,832 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:29:14,832 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '추가 정보'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '추가 정보'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 17:29:14,832 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:29:14,832 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 17:29:16,878 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:29:17,701 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 2.87초
2025-08-20 17:29:17,708 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:29:17,708 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:29:17,709 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:29:17,709 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 17:29:17,709 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1375956a0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x1375959d0> root_client=<openai.OpenAI object at 0x137595370> root_async_client=<openai.AsyncOpenAI object at 0x1375957b0> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:29:17,709 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:29:17,709 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 17:29:22,768 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:29:22] "GET /health HTTP/1.1" 200 -
2025-08-20 17:29:50,092 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:29:50,095 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1562자
2025-08-20 17:29:50,096 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
SK텔레콤이 갤럭시 S24 시리즈의 사전예약을 통해 고객에게 즉각적 할인 혜택과 추가 사은품을 제공하여 예약을 유도하는 광고입니다. T world 앱과 매장 두 가지 예약 경로를 제시하고 있습니다.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 갤럭시 S24 시리즈별 할인 (20-30만원),...
2025-08-20 17:29:50,096 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:29:50,096 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 151자
2025-08-20 17:29:50,097 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:29:50,099 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-20 17:29:50,100 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world앱:접속', '갤럭시S24시리즈:구매', '매장예약사이트:접속', '사전예약할인혜택:수령', '추가사은품:수령']
2025-08-20 17:29:50,100 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world앱:접속', '갤럭시S24시리즈:구매'), ('갤럭시S24시리즈:구매', '사전예약할인혜택:수령'), ('갤럭시S24시리즈:구매', '추가사은품:수령'), ('매장예약사이트:접속', '갤럭시S24시리즈:구매')]
2025-08-20 17:29:50,101 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:29:50,101 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:29:50,101 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-20 17:29:50,106 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:29:51,330 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 17:29:51,330 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:29:51,330 - mms_extractor - INFO - 🕒 DAG 처리 시간: 33.622초
2025-08-20 17:29:51,330 - mms_extractor - INFO - 📏 DAG 섹션 길이: 151자
2025-08-20 17:29:51,330 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world앱:접속) -[접속하여]-> (갤럭시S24시리즈:구매)
(매장예약사이트:접속) -[접속하여]-> (갤럭시S24시리즈:구매)
(갤럭시S24시리즈:구매) -[구매하면]-> (사전예약할인혜택:수령)
(갤럭시S24시리즈:구매) -[구매하면]-> (추가사은품:수령)...
2025-08-20 17:29:51,330 - mms_extractor - INFO - ============================================================
2025-08-20 17:29:51,330 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:29:51,330 - mms_extractor - INFO - ============================================================
2025-08-20 17:29:51,330 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-20 17:29:51,331 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 17:29:51,331 - mms_extractor - INFO - 상품 수: 5개
2025-08-20 17:29:51,331 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:29:51,331 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 17:29:51,332 - mms_extractor - INFO - process_message 실행완료: 50.72초
2025-08-20 17:29:51,332 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-20 17:29:51,332 - __main__ - INFO - DAG 내용 미리보기: ['(T world앱:접속) -[접속하여]-> (갤럭시S24시리즈:구매)', '(갤럭시S24시리즈:구매) -[구매하면]-> (사전예약할인혜택:수령)', '(갤럭시S24시리즈:구매) -[구매하면]-> (추가사은품:수령)', '(매장예약사이트:접속) -[접속하여]-> (갤럭시S24시리즈:구매)']...
2025-08-20 17:29:51,332 - __main__ - INFO - 추출 완료: 50.720초
2025-08-20 17:29:51,333 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:29:51] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:29:52,760 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:29:52] "GET /health HTTP/1.1" 200 -
2025-08-20 17:30:22,760 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:30:22] "GET /health HTTP/1.1" 200 -
2025-08-20 17:30:28,232 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:30:28] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:30:28,235 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: gemma, 메시지 길이: 328자
2025-08-20 17:30:28,235 - __main__ - INFO - LLM 모델이 claude -> gemma로 변경됨. 재초기화 중...
2025-08-20 17:30:28,237 - mms_extractor - INFO - LLM 초기화 완료: gemma (skt/gemma3-12b-it)
2025-08-20 17:30:28,237 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 17:30:28,237 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:30:28,238 - mms_extractor - INFO - ============================================================
2025-08-20 17:30:28,238 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:30:28,238 - mms_extractor - INFO - ============================================================
2025-08-20 17:30:28,238 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 17:30:28,238 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 17:30:28,238 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:30:28,238 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:30:28,238 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 17:30:28,238 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:30:28,238 - mms_extractor - INFO - LLM 모델: gemma
2025-08-20 17:30:28,238 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:30:28,238 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:30:28,238 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:30:28,238 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:30:28,238 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 17:30:28,253 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:30:28,261 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 17:30:28,261 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 17:30:28,262 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 17:30:28,262 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 17:30:28,262 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 17:30:28,263 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:30:28,859 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 17:30:28,859 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 17:30:28,859 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 17:30:28,859 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:30:29,022 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 17:30:29,023 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 17:30:29,023 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:30:29,025 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 17:30:29,028 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 17:30:29,029 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 17:30:29,030 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 17:30:29,033 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 17:30:29,034 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 17:30:29,034 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.80초
2025-08-20 17:30:29,034 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:30:29,034 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 17:30:29,034 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:30:29,083 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:30:29,083 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:30:29,083 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 17:30:29,083 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:30:29,083 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 17:30:29,083 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:30:29,083 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 17:30:29,083 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:30:29,084 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 17:30:29,085 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 17:30:29,085 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 17:30:29,085 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:30:29,085 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 17:30:29,085 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 17:30:40,133 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:30:40,135 - mms_extractor - INFO - LLM 응답 길이: 1162 문자
2025-08-20 17:30:40,135 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "기타"
        },
        {
            "name": "갤럭시 S24+",
            "action": "기타"
        },
        {
            "name": "갤럭시 S24",
            "action": "기타"
        },
        {
            "name": "갤럭시 워치6",
            "action": "기타"
        },
        {
            "name": "무선충전기",
            "a...
2025-08-20 17:30:40,135 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:30:40,136 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:30:40,136 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:30:40,136 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '기타'}, {'name': '갤럭시 S24+', 'action': '기타'}, {'name': '갤럭시 S24', 'action': '기타'}, {'name': '갤럭시 워치6', 'action': '기타'}, {'name': '무선충전기', 'action': '기타'}, {'name': '케어플러스', 'action': '기타'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '접속'}, {'type': 'URL', 'value': 'twoworldfriends.co.kr/D123456789', 'action': '접속'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '혜택 안내']}
2025-08-20 17:30:40,136 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:30:40,136 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 17:30:41,290 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:30:42,257 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 2.12초
2025-08-20 17:30:42,264 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:30:42,264 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:30:42,264 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:30:42,264 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 17:30:42,264 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x137596cf0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x1375978a0> root_client=<openai.OpenAI object at 0x1375be750> root_async_client=<openai.AsyncOpenAI object at 0x137597680> model_name='skt/gemma3-12b-it' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:30:42,264 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:30:42,264 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 17:30:52,757 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:30:52] "GET /health HTTP/1.1" 200 -
2025-08-20 17:31:13,976 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:31:13,980 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2415자
2025-08-20 17:31:13,981 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**[메시지 요약 및 핵심 의도]**
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 홍보하며, 다양한 할인 및 사은품 혜택을 제공하여 고객의 사전예약 참여를 유도하고 있습니다. 핵심 의도는 갤럭시 S24 시리즈의 초기 판매량을 늘리는 것입니다.

**[식별된 가치 제안 목록]**
- 갤럭시 S24 Ultra: 최대 30만원 할인
-...
2025-08-20 17:31:13,981 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:31:13,981 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 662자
2025-08-20 17:31:13,982 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:31:13,983 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 13, 엣지 수: 9
2025-08-20 17:31:13,983 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:다운로드', 'T world 앱:접속', '갤럭시 S24 시리즈:사전예약', '갤럭시 S24 Ultra:사전예약', '30만원 할인:수령', '갤럭시 S24+:사전예약', '25만원 할인:수령', '갤럭시 S24:사전예약', '20만원 할인:수령', '무선충전기:수령', '케어플러스:6개월 무료:수령', '갤럭시 워치6:50% 할인:구매', '매장:방문']
2025-08-20 17:31:13,983 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:다운로드', 'T world 앱:접속'), ('T world 앱:접속', '갤럭시 S24 시리즈:사전예약'), ('갤럭시 S24 시리즈:사전예약', '무선충전기:수령'), ('갤럭시 S24 시리즈:사전예약', '케어플러스:6개월 무료:수령'), ('갤럭시 S24 시리즈:사전예약', '갤럭시 워치6:50% 할인:구매'), ('갤럭시 S24 Ultra:사전예약', '30만원 할인:수령'), ('갤럭시 S24+:사전예약', '25만원 할인:수령'), ('갤럭시 S24:사전예약', '20만원 할인:수령'), ('매장:방문', '갤럭시 S24 시리즈:사전예약')]
2025-08-20 17:31:13,983 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:31:13,984 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:31:13,984 - utils - INFO - 📊 입력 그래프 - 노드 수: 13, 엣지 수: 9
2025-08-20 17:31:13,985 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:31:14,285 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 17:31:14,285 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:31:14,286 - mms_extractor - INFO - 🕒 DAG 처리 시간: 32.021초
2025-08-20 17:31:14,286 - mms_extractor - INFO - 📏 DAG 섹션 길이: 662자
2025-08-20 17:31:14,286 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:다운로드) -[다운로드후]-> (T world 앱:접속)
(T world 앱:접속) -[접속하여]-> (갤럭시 S24 시리즈:사전예약)
(갤럭시 S24 Ultra:사전예약) -[사전예약하면]-> (30만원 할인:수령)
(갤럭시 S24+:사전예약) -[사전예약하면]-> (25만원 할인:수령)
(갤럭시 S24:사전예약) -[사전예약하면]->...
2025-08-20 17:31:14,286 - mms_extractor - INFO - ============================================================
2025-08-20 17:31:14,286 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:31:14,286 - mms_extractor - INFO - ============================================================
2025-08-20 17:31:14,286 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-20 17:31:14,286 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 17:31:14,286 - mms_extractor - INFO - 상품 수: 5개
2025-08-20 17:31:14,286 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:31:14,286 - mms_extractor - INFO - 프로그램 수: 1개
2025-08-20 17:31:14,286 - mms_extractor - INFO - process_message 실행완료: 46.05초
2025-08-20 17:31:14,286 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 15자
2025-08-20 17:31:14,286 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:다운로드) -[다운로드후]-> (T world 앱:접속)', '(T world 앱:접속) -[접속하여]-> (갤럭시 S24 시리즈:사전예약)', '(갤럭시 S24 Ultra:사전예약) -[사전예약하면]-> (30만원 할인:수령)', '(갤럭시 S24 Ultra:사전예약) -[사전예약하면]-> (30만원 할인:수령)', '(갤럭시 S24 시리즈:사전예약) -[사전예약하면]-> (갤럭시 워치6:50% 할인:구매)', '(갤럭시 S24 시리즈:사전예약) -[사전예약하면]-> (갤럭시 워치6:50% 할인:구매)', '(갤럭시 S24 시리즈:사전예약) -[사전예약하면]-> (무선충전기:수령)', '(갤럭시 S24 시리즈:사전예약) -[사전예약하면]-> (무선충전기:수령)', '(갤럭시 S24 시리즈:사전예약) -[사전예약하면]-> (케어플러스:6개월 무료:수령)', '(갤럭시 S24 시리즈:사전예약) -[사전예약하면]-> (케어플러스:6개월 무료:수령)', '(갤럭시 S24+:사전예약) -[사전예약하면]-> (25만원 할인:수령)', '(갤럭시 S24+:사전예약) -[사전예약하면]-> (25만원 할인:수령)', '(갤럭시 S24:사전예약) -[사전예약하면]-> (20만원 할인:수령)', '(갤럭시 S24:사전예약) -[사전예약하면]-> (20만원 할인:수령)', '(매장:방문) -[방문하여]-> (갤럭시 S24 시리즈:사전예약)']...
2025-08-20 17:31:14,286 - __main__ - INFO - 추출 완료: 46.051초
2025-08-20 17:31:14,287 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:31:14] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:31:22,757 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:31:22] "GET /health HTTP/1.1" 200 -
2025-08-20 17:31:52,093 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:31:52] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:31:52,096 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 17:31:52,096 - __main__ - INFO - LLM 모델이 gemma -> ax로 변경됨. 재초기화 중...
2025-08-20 17:31:52,098 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-20 17:31:52,098 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-20 17:31:52,098 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:31:52,098 - mms_extractor - INFO - ============================================================
2025-08-20 17:31:52,098 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:31:52,099 - mms_extractor - INFO - ============================================================
2025-08-20 17:31:52,099 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 17:31:52,099 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 17:31:52,099 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:31:52,099 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:31:52,099 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 17:31:52,099 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:31:52,099 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 17:31:52,099 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:31:52,099 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:31:52,100 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:31:52,100 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:31:52,100 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 17:31:52,121 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:31:52,125 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 17:31:52,126 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 17:31:52,128 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 17:31:52,128 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 17:31:52,128 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 17:31:52,128 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:31:52,592 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 17:31:52,593 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 17:31:52,593 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 17:31:52,593 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:31:52,740 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 17:31:52,741 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 17:31:52,741 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:31:52,743 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 17:31:52,746 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 17:31:52,747 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 17:31:52,748 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 17:31:52,751 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 17:31:52,752 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 17:31:52,752 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.65초
2025-08-20 17:31:52,752 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:31:52,752 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 17:31:52,752 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:31:52,756 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:31:52] "GET /health HTTP/1.1" 200 -
2025-08-20 17:31:52,861 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:31:52,861 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:31:52,861 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 17:31:52,861 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:31:52,861 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 17:31:52,861 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:31:52,861 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 17:31:52,861 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:31:52,862 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 17:31:52,863 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 17:31:52,863 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 17:31:52,863 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:31:52,863 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 17:31:52,863 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 17:32:00,584 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:32:00,591 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-20 17:32:00,591 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-20 17:32:00,591 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:32:00,592 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:32:00,593 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:32:00,593 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 17:32:00,593 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:32:00,593 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 17:32:01,517 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:32:02,371 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.78초
2025-08-20 17:32:02,378 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:32:02,379 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:32:02,379 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:32:02,379 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 17:32:02,379 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1375bfb50> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x1375bef50> root_client=<openai.OpenAI object at 0x1375bec50> root_async_client=<openai.AsyncOpenAI object at 0x1375be550> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:32:02,379 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:32:02,379 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 17:32:22,760 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:32:22] "GET /health HTTP/1.1" 200 -
2025-08-20 17:32:24,553 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:32:24,553 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2502자
2025-08-20 17:32:24,554 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 웹사이트를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 17:32:24,554 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:32:24,554 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-20 17:32:24,554 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:32:24,554 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 2, 엣지 수: 1
2025-08-20 17:32:24,554 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매']
2025-08-20 17:32:24,554 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 17:32:24,554 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:32:24,554 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:32:24,554 - utils - INFO - 📊 입력 그래프 - 노드 수: 2, 엣지 수: 1
2025-08-20 17:32:24,554 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:32:24,760 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 17:32:24,760 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:32:24,760 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.381초
2025-08-20 17:32:24,760 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-20 17:32:24,760 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정...
2025-08-20 17:32:24,760 - mms_extractor - INFO - ============================================================
2025-08-20 17:32:24,760 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:32:24,760 - mms_extractor - INFO - ============================================================
2025-08-20 17:32:24,760 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-20 17:32:24,760 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 17:32:24,760 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 17:32:24,760 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:32:24,760 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 17:32:24,761 - mms_extractor - INFO - process_message 실행완료: 32.66초
2025-08-20 17:32:24,761 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-20 17:32:24,761 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-20 17:32:24,761 - __main__ - INFO - 추출 완료: 32.665초
2025-08-20 17:32:24,762 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:32:24] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:32:52,760 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:32:52] "GET /health HTTP/1.1" 200 -
2025-08-20 17:33:09,169 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:33:09] "GET /health HTTP/1.1" 200 -
2025-08-20 17:33:14,555 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:33:14] "GET /health HTTP/1.1" 200 -
2025-08-20 17:33:15,826 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:33:15] "GET /health HTTP/1.1" 200 -
2025-08-20 17:33:16,922 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:33:16] "GET /health HTTP/1.1" 200 -
2025-08-20 17:33:21,557 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:33:21] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:33:21,560 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 17:33:21,560 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:33:21,560 - mms_extractor - INFO - ============================================================
2025-08-20 17:33:21,561 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:33:21,561 - mms_extractor - INFO - ============================================================
2025-08-20 17:33:21,561 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 17:33:21,561 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 17:33:21,561 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:33:21,561 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:33:21,561 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 17:33:21,561 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:33:21,561 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 17:33:21,561 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:33:21,561 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:33:21,562 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:33:21,562 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:33:21,562 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 17:33:21,582 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:33:21,588 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 17:33:21,589 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 17:33:21,591 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 17:33:21,591 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 17:33:21,591 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 17:33:21,591 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:33:22,063 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 17:33:22,063 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 17:33:22,064 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 17:33:22,064 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:33:22,229 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 17:33:22,230 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 17:33:22,230 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:33:22,233 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 17:33:22,236 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 17:33:22,236 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 17:33:22,238 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 17:33:22,241 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 17:33:22,242 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 17:33:22,242 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.68초
2025-08-20 17:33:22,242 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:33:22,242 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 17:33:22,242 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:33:22,351 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:33:22,351 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:33:22,351 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 17:33:22,351 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:33:22,351 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 17:33:22,351 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:33:22,351 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 17:33:22,351 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:33:22,351 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 17:33:22,352 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 17:33:22,352 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 17:33:22,352 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:33:22,352 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 17:33:22,352 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 17:33:30,109 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:33:30,113 - mms_extractor - INFO - LLM 응답 길이: 1182 문자
2025-08-20 17:33:30,113 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24+",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 워치6",
            "action": "할인"
        },
        {
            "name": "무선충전기",
        ...
2025-08-20 17:33:30,113 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:33:30,114 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:33:30,114 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:33:30,114 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 제공'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 17:33:30,115 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:33:30,115 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 17:33:31,129 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:33:31,961 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.85초
2025-08-20 17:33:31,968 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:33:31,968 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:33:31,968 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:33:31,968 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 17:33:31,968 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1375bfb50> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x1375bef50> root_client=<openai.OpenAI object at 0x1375bec50> root_async_client=<openai.AsyncOpenAI object at 0x1375be550> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:33:31,968 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:33:31,968 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 17:33:46,920 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:33:46] "GET /health HTTP/1.1" 200 -
2025-08-20 17:33:54,112 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:33:54,120 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2502자
2025-08-20 17:33:54,121 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 웹사이트를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 17:33:54,121 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:33:54,121 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-20 17:33:54,122 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:33:54,122 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 2, 엣지 수: 1
2025-08-20 17:33:54,122 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매']
2025-08-20 17:33:54,122 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 17:33:54,123 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:33:54,123 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:33:54,123 - utils - INFO - 📊 입력 그래프 - 노드 수: 2, 엣지 수: 1
2025-08-20 17:33:54,124 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:33:54,358 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 17:33:54,358 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:33:54,358 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.390초
2025-08-20 17:33:54,358 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-20 17:33:54,358 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정...
2025-08-20 17:33:54,358 - mms_extractor - INFO - ============================================================
2025-08-20 17:33:54,358 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:33:54,358 - mms_extractor - INFO - ============================================================
2025-08-20 17:33:54,358 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-20 17:33:54,358 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 17:33:54,358 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 17:33:54,359 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:33:54,359 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 17:33:54,359 - mms_extractor - INFO - process_message 실행완료: 32.80초
2025-08-20 17:33:54,359 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-20 17:33:54,359 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-20 17:33:54,359 - __main__ - INFO - 추출 완료: 32.799초
2025-08-20 17:33:54,360 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:33:54] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:34:16,915 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:34:16] "GET /health HTTP/1.1" 200 -
2025-08-20 17:34:46,913 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:34:46] "GET /health HTTP/1.1" 200 -
2025-08-20 17:35:16,909 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:35:16] "GET /health HTTP/1.1" 200 -
2025-08-20 17:35:46,908 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:35:46] "GET /health HTTP/1.1" 200 -
2025-08-20 17:36:16,908 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:36:16] "GET /health HTTP/1.1" 200 -
2025-08-20 17:36:46,908 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:36:46] "GET /health HTTP/1.1" 200 -
2025-08-20 17:37:16,906 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:37:16] "GET /health HTTP/1.1" 200 -
2025-08-20 17:37:46,909 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:37:46] "GET /health HTTP/1.1" 200 -
2025-08-20 17:38:16,907 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:38:16] "GET /health HTTP/1.1" 200 -
2025-08-20 17:38:46,909 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:38:46] "GET /health HTTP/1.1" 200 -
2025-08-20 17:39:16,905 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:39:16] "GET /health HTTP/1.1" 200 -
2025-08-20 17:39:46,903 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:39:46] "GET /health HTTP/1.1" 200 -
2025-08-20 17:40:11,422 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:40:11] "GET /health HTTP/1.1" 200 -
2025-08-20 17:40:15,372 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:40:15] "GET /health HTTP/1.1" 200 -
2025-08-20 17:40:19,453 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:40:19] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 17:40:19,456 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 17:40:19,456 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 17:40:19,456 - mms_extractor - INFO - ============================================================
2025-08-20 17:40:19,456 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 17:40:19,456 - mms_extractor - INFO - ============================================================
2025-08-20 17:40:19,456 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 17:40:19,457 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 17:40:19,457 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 17:40:19,457 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 17:40:19,457 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 17:40:19,457 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 17:40:19,457 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 17:40:19,457 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 17:40:19,457 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 17:40:19,457 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 17:40:19,457 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 17:40:19,457 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 17:40:19,475 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 17:40:19,480 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 17:40:19,480 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 17:40:19,483 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 17:40:19,483 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 17:40:19,483 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 17:40:19,483 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 17:40:37,470 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 17:40:37,470 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 17:40:37,471 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 17:40:37,471 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 17:40:37,626 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 17:40:37,627 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 17:40:37,627 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 17:40:37,629 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 17:40:37,633 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 17:40:37,633 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 17:40:37,634 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 17:40:37,639 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 17:40:37,639 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 17:40:37,639 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 18.18초
2025-08-20 17:40:37,640 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:40:37,640 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 17:40:37,640 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 17:40:37,815 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 17:40:37,815 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 17:40:37,815 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 17:40:37,815 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 17:40:37,815 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 17:40:37,815 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 17:40:37,815 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 17:40:37,815 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 17:40:37,816 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 17:40:37,817 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 17:40:37,817 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 17:40:37,817 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 17:40:37,817 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 17:40:37,817 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 17:40:45,374 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:40:45] "GET /health HTTP/1.1" 200 -
2025-08-20 17:40:45,577 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:40:45,582 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-20 17:40:45,582 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-20 17:40:45,582 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 17:40:45,584 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 17:40:45,585 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 17:40:45,585 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 17:40:45,585 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 17:40:45,585 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 17:40:46,535 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:40:47,511 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.93초
2025-08-20 17:40:47,518 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 17:40:47,518 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 17:40:47,518 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 17:40:47,518 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 17:40:47,518 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1375bfb50> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x1375bef50> root_client=<openai.OpenAI object at 0x1375bec50> root_async_client=<openai.AsyncOpenAI object at 0x1375be550> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 17:40:47,519 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 17:40:47,519 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 17:41:09,782 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 17:41:09,787 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2531자
2025-08-20 17:41:09,787 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 웹사이트를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 17:41:09,789 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 17:41:09,789 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-20 17:41:09,789 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 17:41:09,790 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 2, 엣지 수: 1
2025-08-20 17:41:09,790 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매']
2025-08-20 17:41:09,790 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 17:41:09,790 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 17:41:09,790 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:41:09,790 - utils - INFO - 📊 입력 그래프 - 노드 수: 2, 엣지 수: 1
2025-08-20 17:41:09,791 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 17:41:10,497 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 17:41:10,497 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 17:41:10,497 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.979초
2025-08-20 17:41:10,497 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-20 17:41:10,497 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정...
2025-08-20 17:41:10,497 - mms_extractor - INFO - ============================================================
2025-08-20 17:41:10,497 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 17:41:10,497 - mms_extractor - INFO - ============================================================
2025-08-20 17:41:10,497 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-20 17:41:10,498 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 17:41:10,498 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 17:41:10,498 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 17:41:10,498 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 17:41:10,498 - mms_extractor - INFO - process_message 실행완료: 51.04초
2025-08-20 17:41:10,498 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-20 17:41:10,498 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-20 17:41:10,498 - __main__ - INFO - 추출 완료: 51.042초
2025-08-20 17:41:10,499 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:41:10] "POST /extract HTTP/1.1" 200 -
2025-08-20 17:41:15,374 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:41:15] "GET /health HTTP/1.1" 200 -
2025-08-20 17:41:45,370 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:41:45] "GET /health HTTP/1.1" 200 -
2025-08-20 17:42:15,374 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:42:15] "GET /health HTTP/1.1" 200 -
2025-08-20 17:42:45,372 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:42:45] "GET /health HTTP/1.1" 200 -
2025-08-20 17:43:15,373 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:43:15] "GET /health HTTP/1.1" 200 -
2025-08-20 17:43:45,369 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:43:45] "GET /health HTTP/1.1" 200 -
2025-08-20 17:44:15,371 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:44:15] "GET /health HTTP/1.1" 200 -
2025-08-20 17:44:45,367 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:44:45] "GET /health HTTP/1.1" 200 -
2025-08-20 17:45:15,366 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:45:15] "GET /health HTTP/1.1" 200 -
2025-08-20 17:45:45,364 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:45:45] "GET /health HTTP/1.1" 200 -
2025-08-20 17:46:15,369 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:46:15] "GET /health HTTP/1.1" 200 -
2025-08-20 17:46:45,367 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:46:45] "GET /health HTTP/1.1" 200 -
2025-08-20 17:47:15,367 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:47:15] "GET /health HTTP/1.1" 200 -
2025-08-20 17:47:45,363 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:47:45] "GET /health HTTP/1.1" 200 -
2025-08-20 17:48:15,363 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:48:15] "GET /health HTTP/1.1" 200 -
2025-08-20 17:48:45,816 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:48:45] "GET /health HTTP/1.1" 200 -
2025-08-20 17:49:38,914 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:49:38] "GET /health HTTP/1.1" 200 -
2025-08-20 17:50:08,918 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:50:08] "GET /health HTTP/1.1" 200 -
2025-08-20 17:51:02,913 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:51:02] "GET /health HTTP/1.1" 200 -
2025-08-20 17:52:02,921 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:52:02] "GET /health HTTP/1.1" 200 -
2025-08-20 17:53:03,605 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:53:03] "GET /health HTTP/1.1" 200 -
2025-08-20 17:54:03,751 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:54:03] "GET /health HTTP/1.1" 200 -
2025-08-20 17:55:02,913 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:55:02] "GET /health HTTP/1.1" 200 -
2025-08-20 17:56:02,917 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:56:02] "GET /health HTTP/1.1" 200 -
2025-08-20 17:57:02,911 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:57:02] "GET /health HTTP/1.1" 200 -
2025-08-20 17:58:02,908 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:58:02] "GET /health HTTP/1.1" 200 -
2025-08-20 17:59:02,919 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 17:59:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:00:02,912 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:00:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:01:02,911 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:01:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:02:02,911 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:02:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:03:02,912 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:03:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:03:37,299 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:03:37] "GET /health HTTP/1.1" 200 -
2025-08-20 18:04:02,909 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:04:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:04:06,734 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:04:06] "GET /health HTTP/1.1" 200 -
2025-08-20 18:04:36,897 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:04:36] "GET /health HTTP/1.1" 200 -
2025-08-20 18:04:52,256 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:04:52] "GET /health HTTP/1.1" 200 -
2025-08-20 18:05:06,726 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:05:06] "GET /health HTTP/1.1" 200 -
2025-08-20 18:05:08,359 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:05:08] "GET /health HTTP/1.1" 200 -
2025-08-20 18:05:15,383 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:05:15] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-20 18:05:15,386 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-20 18:05:15,387 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-20 18:05:15,387 - mms_extractor - INFO - ============================================================
2025-08-20 18:05:15,387 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-20 18:05:15,387 - mms_extractor - INFO - ============================================================
2025-08-20 18:05:15,387 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-20 18:05:15,387 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-20 18:05:15,387 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-20 18:05:15,387 - mms_extractor - INFO - 데이터 소스: local
2025-08-20 18:05:15,387 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-20 18:05:15,388 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-20 18:05:15,388 - mms_extractor - INFO - LLM 모델: ax
2025-08-20 18:05:15,388 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-20 18:05:15,388 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-20 18:05:15,388 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-20 18:05:15,389 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-20 18:05:15,389 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-20 18:05:15,406 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-20 18:05:15,420 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-20 18:05:15,421 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-20 18:05:15,423 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-20 18:05:15,423 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-20 18:05:15,423 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-20 18:05:15,423 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-20 18:05:34,844 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-20 18:05:34,845 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-20 18:05:34,846 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-20 18:05:34,846 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-20 18:05:34,998 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-20 18:05:34,999 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-20 18:05:34,999 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-20 18:05:35,002 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-20 18:05:35,006 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-20 18:05:35,006 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-20 18:05:35,007 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-20 18:05:35,012 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-20 18:05:35,012 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-20 18:05:35,013 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 19.62초
2025-08-20 18:05:35,013 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 18:05:35,013 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-20 18:05:35,013 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-20 18:05:35,245 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-20 18:05:35,246 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-20 18:05:35,246 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-20 18:05:35,246 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-20 18:05:35,246 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-20 18:05:35,246 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-20 18:05:35,246 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-20 18:05:35,246 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-20 18:05:35,246 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-20 18:05:35,247 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-20 18:05:35,247 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-20 18:05:35,247 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-20 18:05:35,248 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-20 18:05:35,248 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-20 18:05:38,366 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:05:38] "GET /health HTTP/1.1" 200 -
2025-08-20 18:05:43,079 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 18:05:43,081 - mms_extractor - INFO - LLM 응답 길이: 1182 문자
2025-08-20 18:05:43,081 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24+",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 워치6",
            "action": "할인"
        },
        {
            "name": "무선충전기",
        ...
2025-08-20 18:05:43,081 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-20 18:05:43,082 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-20 18:05:43,082 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-20 18:05:43,082 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 제공'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-20 18:05:43,082 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-20 18:05:43,082 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-20 18:05:44,117 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 18:05:44,959 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.88초
2025-08-20 18:05:44,966 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-20 18:05:44,966 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-20 18:05:44,966 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-20 18:05:44,966 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-20 18:05:44,966 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x1375bfb50> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x1375bef50> root_client=<openai.OpenAI object at 0x1375bec50> root_async_client=<openai.AsyncOpenAI object at 0x1375be550> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-20 18:05:44,966 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-20 18:05:44,966 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-20 18:06:08,895 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:06:08] "GET /health HTTP/1.1" 200 -
2025-08-20 18:06:12,996 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-20 18:06:12,998 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-20 18:06:12,999 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-20 18:06:12,999 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-20 18:06:13,000 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-20 18:06:13,000 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-20 18:06:13,002 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-20 18:06:13,002 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-20 18:06:13,002 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-20 18:06:13,002 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-20 18:06:13,003 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 18:06:13,003 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-20 18:06:13,004 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-20 18:06:13,504 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-20 18:06:13,505 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-20 18:06:13,505 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.539초
2025-08-20 18:06:13,505 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-20 18:06:13,505 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-20 18:06:13,505 - mms_extractor - INFO - ============================================================
2025-08-20 18:06:13,505 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-20 18:06:13,505 - mms_extractor - INFO - ============================================================
2025-08-20 18:06:13,505 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-20 18:06:13,505 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-20 18:06:13,505 - mms_extractor - INFO - 상품 수: 4개
2025-08-20 18:06:13,505 - mms_extractor - INFO - 채널 수: 4개
2025-08-20 18:06:13,505 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-20 18:06:13,505 - mms_extractor - INFO - process_message 실행완료: 58.12초
2025-08-20 18:06:13,506 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-20 18:06:13,506 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-20 18:06:13,506 - __main__ - INFO - 추출 완료: 58.119초
2025-08-20 18:06:13,506 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:06:13] "POST /extract HTTP/1.1" 200 -
2025-08-20 18:06:38,895 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:06:38] "GET /health HTTP/1.1" 200 -
2025-08-20 18:07:08,893 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:07:08] "GET /health HTTP/1.1" 200 -
2025-08-20 18:07:38,892 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:07:38] "GET /health HTTP/1.1" 200 -
2025-08-20 18:08:08,895 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:08:08] "GET /health HTTP/1.1" 200 -
2025-08-20 18:09:03,038 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:09:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:10:02,896 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:10:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:11:02,901 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:11:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:12:02,892 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:12:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:13:02,894 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:13:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:13:49,018 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:13:49] "GET /health HTTP/1.1" 200 -
2025-08-20 18:14:08,350 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:14:08] "GET /health HTTP/1.1" 200 -
2025-08-20 18:14:38,348 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:14:38] "GET /health HTTP/1.1" 200 -
2025-08-20 18:15:08,355 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:15:08] "GET /health HTTP/1.1" 200 -
2025-08-20 18:15:38,351 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:15:38] "GET /health HTTP/1.1" 200 -
2025-08-20 18:16:08,352 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:16:08] "GET /health HTTP/1.1" 200 -
2025-08-20 18:16:38,886 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:16:38] "GET /health HTTP/1.1" 200 -
2025-08-20 18:17:08,884 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:17:08] "GET /health HTTP/1.1" 200 -
2025-08-20 18:18:02,891 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:18:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:19:02,885 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:19:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:20:02,899 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:20:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:21:02,913 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:21:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:22:02,921 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:22:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:23:02,889 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:23:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:24:02,886 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:24:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:25:02,885 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:25:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:26:02,878 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:26:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:27:02,883 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:27:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:28:02,916 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:28:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:29:02,885 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:29:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:30:02,901 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:30:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:31:02,881 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:31:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:32:02,898 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:32:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:33:02,918 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:33:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:34:02,912 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:34:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:35:03,139 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:35:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:36:02,908 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:36:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:37:02,875 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:37:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:38:02,874 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:38:02] "GET /health HTTP/1.1" 200 -
2025-08-20 18:39:03,074 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:39:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:40:03,035 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:40:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:41:03,074 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:41:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:42:03,035 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:42:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:43:03,039 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:43:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:44:03,069 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:44:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:45:03,059 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:45:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:46:03,075 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:46:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:47:03,057 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:47:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:48:03,039 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:48:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:49:03,058 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:49:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:50:03,061 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:50:03] "GET /health HTTP/1.1" 200 -
2025-08-20 18:55:14,834 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:55:14] "GET /health HTTP/1.1" 200 -
2025-08-20 18:58:27,695 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 18:58:27] "GET /health HTTP/1.1" 200 -
2025-08-20 19:00:20,560 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 19:00:20] "GET /health HTTP/1.1" 200 -
2025-08-20 20:23:57,229 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 20:23:57] "GET /health HTTP/1.1" 200 -
2025-08-20 20:25:37,255 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 20:25:37] "GET /health HTTP/1.1" 200 -
2025-08-20 20:49:58,915 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 20:49:58] "GET /health HTTP/1.1" 200 -
2025-08-20 20:53:35,129 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 20:53:35] "GET /health HTTP/1.1" 200 -
2025-08-20 21:04:25,972 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 21:04:25] "GET /health HTTP/1.1" 200 -
2025-08-20 21:20:46,349 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 21:20:46] "GET /health HTTP/1.1" 200 -
2025-08-20 21:23:03,522 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 21:23:03] "GET /health HTTP/1.1" 200 -
2025-08-20 21:35:58,567 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 21:35:58] "GET /health HTTP/1.1" 200 -
2025-08-20 21:40:46,688 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 21:40:46] "GET /health HTTP/1.1" 200 -
2025-08-20 22:25:27,924 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 22:25:27] "GET /health HTTP/1.1" 200 -
2025-08-20 22:28:42,961 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 22:28:42] "GET /health HTTP/1.1" 200 -
2025-08-20 22:45:43,444 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 22:45:43] "GET /health HTTP/1.1" 200 -
2025-08-20 22:53:09,102 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 22:53:09] "GET /health HTTP/1.1" 200 -
2025-08-20 23:03:51,991 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 23:03:51] "GET /health HTTP/1.1" 200 -
2025-08-20 23:05:13,925 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 23:05:13] "GET /health HTTP/1.1" 200 -
2025-08-20 23:23:48,355 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 23:23:48] "GET /health HTTP/1.1" 200 -
2025-08-20 23:32:40,810 - werkzeug - INFO - 127.0.0.1 - - [20/Aug/2025 23:32:40] "GET /health HTTP/1.1" 200 -
2025-08-21 07:14:19,268 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-21 07:14:19,269 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-21 07:14:19,269 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-21 07:14:19,269 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-21 07:14:19,269 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-21 07:14:19,290 - mms_extractor - INFO - Using device: mps
2025-08-21 07:14:19,291 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-21 07:14:19,291 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-21 07:14:19,291 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-21 07:14:19,291 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-21 07:14:19,291 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-21 07:14:19,291 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-21 07:14:25,376 - mms_extractor - INFO - Model loaded on mps
2025-08-21 07:14:25,377 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 6.09초
2025-08-21 07:14:25,914 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-21 07:14:25,914 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.54초
2025-08-21 07:14:25,914 - mms_extractor - INFO - ============================================================
2025-08-21 07:14:25,914 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-21 07:14:25,914 - mms_extractor - INFO - ============================================================
2025-08-21 07:14:25,914 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-21 07:14:25,914 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-21 07:14:25,914 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-21 07:14:25,914 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-21 07:14:25,914 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-21 07:14:26,031 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-21 07:14:26,031 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-21 07:14:26,040 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-21 07:14:26,044 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-21 07:14:26,045 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-21 07:14:26,048 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-21 07:14:26,048 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-21 07:14:26,049 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-21 07:14:26,049 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-21 07:14:26,049 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-21 07:14:26,049 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-21 07:14:26,049 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-21 07:14:26,053 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-21 07:14:26,054 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-21 07:14:26,055 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-21 07:14:26,361 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-21 07:14:26,363 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-21 07:14:26,363 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-21 07:14:26,363 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-21 07:14:26,363 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-21 07:14:26,364 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-21 07:14:26,364 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-21 07:14:26,364 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-21 07:14:26,364 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-21 07:14:26,371 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-21 07:14:26,374 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-21 07:14:26,374 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-21 07:14:26,441 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-21 07:14:26,441 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-21 07:14:26,441 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-21 07:14:26,449 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-21 07:14:26,449 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-21 07:14:28,073 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-21 07:14:28,073 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-21 07:14:28,073 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-21 07:14:28,599 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-21 07:14:28,599 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-21 07:14:28,599 - mms_extractor - INFO - ============================================================
2025-08-21 07:14:28,600 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-21 07:14:28,600 - mms_extractor - INFO - ============================================================
2025-08-21 07:14:28,600 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-21 07:14:28,600 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-21 07:14:28,600 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-21 07:14:28,600 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-21 07:14:28,600 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-21 07:14:28,605 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-21 07:14:28,612 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-21 07:14:28,616 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-21 07:14:28,616 - mms_extractor - INFO - _load_data 실행완료: 2.70초
2025-08-21 07:14:28,616 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-21 07:14:28,616 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-21 07:14:28,616 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-21 07:14:28,616 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-21 07:14:28,616 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-21 07:14:28,616 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-21 07:14:28,616 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-21 07:14:28,617 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-21 07:14:28,617 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-21 07:14:28,617 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-21 07:14:28,617 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-21 07:14:28,625 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.101:8000
2025-08-21 07:14:28,626 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-21 07:14:38,967 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:14:38] "GET /health HTTP/1.1" 200 -
2025-08-21 07:14:39,913 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:14:39] "GET /health HTTP/1.1" 200 -
2025-08-21 07:14:59,241 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:14:59] "GET /health HTTP/1.1" 200 -
2025-08-21 07:15:00,012 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:15:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:15:07,230 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:15:07] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-21 07:15:07,246 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 07:15:07,246 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 07:15:07,246 - mms_extractor - INFO - ============================================================
2025-08-21 07:15:07,246 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 07:15:07,246 - mms_extractor - INFO - ============================================================
2025-08-21 07:15:07,247 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 07:15:07,247 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 07:15:07,247 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 07:15:07,248 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 07:15:07,248 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 07:15:07,248 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-21 07:15:07,248 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 07:15:07,248 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 07:15:07,248 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 07:15:07,248 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 07:15:07,248 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 07:15:07,248 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 07:15:07,271 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 07:15:07,864 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 07:15:07,864 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 07:15:07,865 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 07:15:07,865 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 07:15:07,865 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['충전기', '갤럭시', '워치6']
2025-08-21 07:15:07,865 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 07:15:15,433 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 07:15:15,433 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 07:15:15,438 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 07:15:15,438 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 07:15:15,629 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 07:15:15,629 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 07:15:15,629 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 07:15:15,633 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 07:15:15,638 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 07:15:15,638 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 07:15:15,640 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 07:15:15,644 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 07:15:15,645 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 07:15:15,645 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 8.40초
2025-08-21 07:15:15,645 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 07:15:15,645 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 07:15:15,645 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 07:15:16,723 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 07:15:16,723 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 07:15:16,724 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 07:15:16,724 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 07:15:16,724 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 07:15:16,724 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 07:15:16,724 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 07:15:16,724 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 07:15:16,724 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 07:15:16,725 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 07:15:16,725 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 07:15:16,725 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 07:15:16,725 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 07:15:16,725 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 07:15:25,327 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 07:15:25,343 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-21 07:15:25,343 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-21 07:15:25,343 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 07:15:25,344 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 07:15:25,344 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 07:15:25,344 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 07:15:25,344 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 07:15:25,344 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 07:15:26,448 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 07:15:27,397 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 2.05초
2025-08-21 07:15:27,405 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 07:15:27,405 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 07:15:27,405 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 07:15:27,405 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 07:15:27,405 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x340a0a030> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x340a09a00> root_client=<openai.OpenAI object at 0x340a0a1b0> root_async_client=<openai.AsyncOpenAI object at 0x350b86870> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 07:15:27,405 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 07:15:27,405 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 07:15:30,007 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:15:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:15:55,590 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 07:15:55,593 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-21 07:15:55,593 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 07:15:55,593 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 07:15:55,594 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-21 07:15:55,595 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 07:15:55,596 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-21 07:15:55,596 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-21 07:15:55,596 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 07:15:55,597 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 07:15:55,597 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 07:15:55,597 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-21 07:15:55,599 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 07:15:57,930 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 07:15:57,930 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 07:15:57,930 - mms_extractor - INFO - 🕒 DAG 처리 시간: 30.525초
2025-08-21 07:15:57,930 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-21 07:15:57,930 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-21 07:15:57,930 - mms_extractor - INFO - ============================================================
2025-08-21 07:15:57,930 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 07:15:57,930 - mms_extractor - INFO - ============================================================
2025-08-21 07:15:57,930 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-21 07:15:57,930 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 07:15:57,930 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 07:15:57,930 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 07:15:57,930 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 07:15:57,931 - mms_extractor - INFO - process_message 실행완료: 50.68초
2025-08-21 07:15:57,931 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-21 07:15:57,931 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 07:15:57,931 - __main__ - INFO - 추출 완료: 50.685초
2025-08-21 07:15:57,932 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:15:57] "POST /extract HTTP/1.1" 200 -
2025-08-21 07:16:00,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:16:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:16:30,005 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:16:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:17:00,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:17:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:17:30,005 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:17:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:18:00,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:18:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:18:30,008 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:18:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:19:00,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:19:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:19:30,008 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:19:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:20:00,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:20:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:20:30,008 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:20:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:21:00,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:21:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:21:30,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:21:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:22:00,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:22:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:22:30,008 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:22:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:23:00,014 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:23:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:23:30,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:23:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:24:00,016 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:24:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:24:30,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:24:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:25:00,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:25:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:25:30,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:25:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:26:00,012 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:26:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:26:30,014 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:26:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:27:00,014 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:27:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:27:30,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:27:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:28:00,015 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:28:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:28:30,015 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:28:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:29:00,017 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:29:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:29:30,015 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:29:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:30:00,018 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:30:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:30:30,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:30:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:31:00,018 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:31:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:31:30,017 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:31:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:32:00,018 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:32:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:32:30,018 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:32:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:33:00,019 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:33:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:33:30,018 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:33:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:34:00,021 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:34:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:34:30,019 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:34:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:35:00,017 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:35:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:35:30,019 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:35:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:36:00,021 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:36:00] "GET /health HTTP/1.1" 200 -
2025-08-21 07:36:30,019 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:36:30] "GET /health HTTP/1.1" 200 -
2025-08-21 07:37:24,754 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:37:24] "GET /health HTTP/1.1" 200 -
2025-08-21 07:37:54,738 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:37:54] "GET /health HTTP/1.1" 200 -
2025-08-21 07:39:01,775 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:39:01] "GET /health HTTP/1.1" 200 -
2025-08-21 07:40:01,741 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:40:01] "GET /health HTTP/1.1" 200 -
2025-08-21 07:41:52,422 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:41:52] "GET /health HTTP/1.1" 200 -
2025-08-21 07:58:23,104 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:58:23] "GET /health HTTP/1.1" 200 -
2025-08-21 07:59:23,066 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 07:59:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:00:23,088 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:00:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:01:23,084 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:01:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:02:23,082 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:02:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:03:23,099 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:03:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:04:23,071 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:04:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:05:23,093 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:05:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:06:23,089 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:06:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:07:23,083 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:07:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:08:23,066 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:08:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:09:23,068 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:09:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:10:23,063 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:10:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:11:23,090 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:11:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:12:23,100 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:12:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:13:23,067 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:13:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:14:23,094 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:14:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:15:23,086 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:15:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:16:23,084 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:16:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:17:23,089 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:17:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:18:23,063 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:18:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:19:23,080 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:19:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:20:23,080 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:20:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:21:23,067 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:21:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:22:23,102 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:22:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:23:23,088 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:23:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:24:23,084 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:24:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:25:23,089 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:25:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:26:23,068 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:26:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:27:23,097 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:27:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:28:23,069 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:28:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:29:23,078 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:29:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:30:23,093 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:30:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:31:23,088 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:31:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:32:23,062 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:32:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:33:23,068 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:33:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:34:23,066 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:34:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:35:23,082 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:35:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:36:23,089 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:36:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:37:23,077 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:37:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:38:23,062 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:38:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:39:23,078 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:39:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:40:23,058 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:40:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:41:23,094 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:41:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:42:23,096 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:42:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:43:23,095 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:43:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:44:23,078 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:44:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:45:23,064 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:45:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:46:23,090 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:46:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:47:23,085 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:47:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:48:23,058 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:48:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:49:23,059 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:49:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:50:23,075 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:50:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:51:23,091 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:51:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:52:23,081 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:52:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:53:23,094 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:53:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:54:23,082 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:54:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:55:23,087 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:55:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:56:23,062 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:56:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:57:23,052 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:57:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:58:23,093 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:58:23] "GET /health HTTP/1.1" 200 -
2025-08-21 08:59:23,076 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 08:59:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:00:23,079 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:00:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:01:23,079 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:01:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:02:23,093 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:02:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:03:23,096 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:03:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:04:23,079 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:04:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:05:23,078 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:05:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:06:23,078 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:06:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:07:23,087 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:07:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:08:23,059 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:08:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:09:23,074 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:09:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:10:23,056 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:10:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:11:23,083 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:11:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:12:23,238 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:12:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:13:23,062 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:13:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:14:23,075 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:14:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:15:23,077 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:15:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:16:23,080 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:16:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:17:23,055 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:17:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:18:23,061 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:18:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:19:23,081 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:19:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:20:23,077 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:20:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:21:23,090 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:21:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:22:23,089 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:22:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:23:23,055 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:23:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:24:23,082 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:24:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:25:23,073 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:25:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:26:23,082 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:26:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:27:23,089 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:27:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:28:23,055 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:28:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:29:23,068 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:29:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:30:23,073 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:30:23] "GET /health HTTP/1.1" 200 -
2025-08-21 09:30:45,304 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:30:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:31:15,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:31:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:31:45,305 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:31:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:32:15,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:32:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:32:45,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:32:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:33:15,310 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:33:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:33:45,309 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:33:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:34:15,304 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:34:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:34:45,309 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:34:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:35:15,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:35:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:35:45,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:35:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:36:15,309 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:36:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:36:45,309 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:36:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:37:15,306 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:37:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:37:45,305 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:37:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:38:15,309 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:38:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:38:45,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:38:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:39:15,309 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:39:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:39:45,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:39:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:40:15,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:40:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:40:45,306 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:40:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:41:15,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:41:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:41:45,309 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:41:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:42:15,309 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:42:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:42:45,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:42:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:43:15,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:43:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:43:45,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:43:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:44:15,310 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:44:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:44:45,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:44:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:45:15,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:45:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:45:45,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:45:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:46:15,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:46:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:46:45,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:46:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:47:15,309 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:47:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:47:45,303 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:47:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:48:15,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:48:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:48:45,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:48:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:49:15,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:49:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:49:45,306 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:49:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:50:15,306 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:50:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:50:45,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:50:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:51:15,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:51:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:51:45,302 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:51:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:52:15,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:52:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:52:45,304 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:52:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:53:15,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:53:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:53:45,304 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:53:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:54:15,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:54:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:54:45,307 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:54:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:55:15,306 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:55:15] "GET /health HTTP/1.1" 200 -
2025-08-21 09:55:45,308 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:55:45] "GET /health HTTP/1.1" 200 -
2025-08-21 09:56:16,048 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:56:16] "GET /health HTTP/1.1" 200 -
2025-08-21 09:56:46,469 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 09:56:46] "GET /health HTTP/1.1" 200 -
2025-08-21 10:14:24,751 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:14:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:15:24,765 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:15:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:16:24,764 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:16:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:17:24,778 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:17:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:18:24,785 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:18:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:19:24,780 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:19:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:20:24,758 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:20:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:21:24,791 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:21:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:22:24,783 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:22:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:23:24,759 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:23:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:24:24,792 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:24:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:25:24,795 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:25:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:26:24,762 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:26:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:27:24,776 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:27:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:28:24,788 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:28:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:29:24,763 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:29:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:30:24,758 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:30:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:31:24,760 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:31:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:32:24,794 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:32:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:33:24,788 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:33:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:34:24,760 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:34:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:35:24,761 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:35:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:36:24,773 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:36:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:37:24,780 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:37:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:38:24,780 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:38:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:39:24,795 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:39:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:40:24,766 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:40:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:41:24,782 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:41:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:42:24,785 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:42:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:43:24,786 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:43:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:44:24,765 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:44:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:45:24,790 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:45:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:46:24,786 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:46:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:47:24,772 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:47:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:48:24,779 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:48:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:49:24,764 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:49:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:50:24,773 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:50:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:51:24,777 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:51:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:52:24,778 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:52:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:53:24,777 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:53:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:54:24,777 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:54:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:55:24,782 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:55:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:56:24,773 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:56:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:57:24,790 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:57:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:58:24,782 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:58:24] "GET /health HTTP/1.1" 200 -
2025-08-21 10:59:24,777 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 10:59:24] "GET /health HTTP/1.1" 200 -
2025-08-21 11:00:24,757 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:00:24] "GET /health HTTP/1.1" 200 -
2025-08-21 11:01:24,751 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:01:24] "GET /health HTTP/1.1" 200 -
2025-08-21 11:02:24,788 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:02:24] "GET /health HTTP/1.1" 200 -
2025-08-21 11:02:58,396 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:02:58] "GET /health HTTP/1.1" 200 -
2025-08-21 11:03:17,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:03:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:03:47,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:03:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:04:17,014 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:04:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:04:47,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:04:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:05:17,014 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:05:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:05:47,014 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:05:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:06:17,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:06:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:06:47,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:06:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:07:17,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:07:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:07:47,017 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:07:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:08:17,014 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:08:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:08:47,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:08:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:09:17,014 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:09:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:09:47,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:09:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:10:17,013 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:10:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:10:47,008 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:10:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:11:17,012 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:11:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:11:47,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:11:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:12:17,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:12:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:12:47,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:12:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:13:17,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:13:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:13:47,012 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:13:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:14:17,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:14:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:14:47,012 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:14:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:15:17,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:15:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:15:47,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:15:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:16:17,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:16:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:16:47,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:16:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:17:17,006 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:17:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:17:47,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:17:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:18:17,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:18:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:18:47,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:18:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:19:17,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:19:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:19:47,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:19:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:20:17,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:20:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:20:47,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:20:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:21:17,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:21:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:21:47,008 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:21:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:22:17,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:22:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:22:47,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:22:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:23:17,012 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:23:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:23:47,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:23:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:24:17,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:24:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:24:47,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:24:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:25:17,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:25:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:25:47,005 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:25:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:26:17,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:26:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:26:47,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:26:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:27:17,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:27:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:27:47,008 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:27:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:28:17,009 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:28:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:28:47,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:28:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:29:17,007 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:29:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:29:47,008 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:29:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:30:17,008 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:30:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:30:47,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:30:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:31:17,010 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:31:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:31:47,006 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:31:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:32:17,005 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:32:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:32:47,000 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:32:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:33:16,998 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:33:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:33:47,002 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:33:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:34:17,002 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:34:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:34:47,004 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:34:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:35:17,003 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:35:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:35:47,003 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:35:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:36:17,001 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:36:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:36:47,002 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:36:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:37:17,001 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:37:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:37:47,003 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:37:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:38:17,003 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:38:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:38:47,002 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:38:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:39:17,000 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:39:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:39:46,998 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:39:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:40:17,000 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:40:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:40:47,003 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:40:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:41:17,002 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:41:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:41:47,001 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:41:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:42:17,003 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:42:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:42:47,003 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:42:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:43:17,002 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:43:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:43:47,003 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:43:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:44:17,005 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:44:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:44:46,999 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:44:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:45:17,001 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:45:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:45:47,000 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:45:47] "GET /health HTTP/1.1" 200 -
2025-08-21 11:46:16,999 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:46:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:46:46,999 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:46:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:47:16,998 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:47:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:47:46,999 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:47:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:48:16,999 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:48:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:48:46,999 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:48:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:49:17,001 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:49:17] "GET /health HTTP/1.1" 200 -
2025-08-21 11:49:46,993 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:49:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:50:16,990 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:50:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:50:46,992 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:50:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:51:16,990 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:51:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:51:46,990 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:51:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:52:16,991 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:52:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:52:46,990 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:52:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:53:16,992 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:53:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:53:46,990 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:53:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:54:16,991 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:54:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:54:46,991 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:54:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:55:16,989 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:55:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:55:46,991 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:55:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:56:16,987 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:56:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:56:46,989 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:56:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:57:16,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:57:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:57:46,992 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:57:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:58:16,987 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:58:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:58:46,989 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:58:46] "GET /health HTTP/1.1" 200 -
2025-08-21 11:59:16,990 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:59:16] "GET /health HTTP/1.1" 200 -
2025-08-21 11:59:46,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 11:59:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:00:16,989 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:00:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:00:46,990 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:00:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:01:16,989 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:01:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:01:46,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:01:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:02:16,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:02:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:02:46,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:02:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:03:16,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:03:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:03:46,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:03:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:04:16,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:04:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:04:46,989 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:04:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:05:16,986 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:05:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:05:46,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:05:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:06:16,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:06:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:06:46,988 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:06:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:07:16,986 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:07:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:07:46,986 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:07:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:08:16,986 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:08:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:08:46,987 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:08:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:09:16,986 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:09:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:09:46,984 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:09:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:10:16,985 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:10:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:10:46,987 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:10:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:11:16,987 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:11:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:11:46,987 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:11:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:12:16,985 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:12:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:12:46,986 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:12:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:13:16,983 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:13:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:13:46,985 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:13:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:14:16,986 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:14:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:14:46,983 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:14:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:15:16,984 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:15:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:15:46,985 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:15:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:16:16,983 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:16:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:16:46,985 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:16:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:17:16,984 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:17:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:17:46,985 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:17:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:18:16,983 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:18:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:18:46,983 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:18:46] "GET /health HTTP/1.1" 200 -
2025-08-21 12:19:16,984 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:19:16] "GET /health HTTP/1.1" 200 -
2025-08-21 12:19:47,761 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:19:47] "GET /health HTTP/1.1" 200 -
2025-08-21 12:20:17,774 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:20:17] "GET /health HTTP/1.1" 200 -
2025-08-21 12:27:52,488 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:27:52] "GET /health HTTP/1.1" 200 -
2025-08-21 12:28:22,487 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:28:22] "GET /health HTTP/1.1" 200 -
2025-08-21 12:28:52,486 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:28:52] "GET /health HTTP/1.1" 200 -
2025-08-21 12:29:22,488 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:29:22] "GET /health HTTP/1.1" 200 -
2025-08-21 12:29:39,694 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:29:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:30:09,685 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:30:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:30:39,688 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:30:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:31:09,686 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:31:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:31:39,688 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:31:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:32:09,687 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:32:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:32:39,687 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:32:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:33:09,687 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:33:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:33:39,688 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:33:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:34:09,689 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:34:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:34:39,689 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:34:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:35:09,688 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:35:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:35:39,687 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:35:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:36:09,688 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:36:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:36:39,688 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:36:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:37:09,689 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:37:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:37:39,687 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:37:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:38:09,686 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:38:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:38:39,688 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:38:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:39:09,688 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:39:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:39:39,685 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:39:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:40:09,684 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:40:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:40:39,682 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:40:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:41:09,685 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:41:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:41:39,682 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:41:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:42:09,686 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:42:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:42:39,684 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:42:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:43:09,685 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:43:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:43:39,686 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:43:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:44:09,686 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:44:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:44:39,681 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:44:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:45:09,685 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:45:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:45:39,684 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:45:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:46:09,683 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:46:09] "GET /health HTTP/1.1" 200 -
2025-08-21 12:46:39,681 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:46:39] "GET /health HTTP/1.1" 200 -
2025-08-21 12:47:10,228 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:47:10] "GET /health HTTP/1.1" 200 -
2025-08-21 12:47:40,224 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:47:40] "GET /health HTTP/1.1" 200 -
2025-08-21 12:48:30,225 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:48:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:49:30,229 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:49:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:50:30,228 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:50:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:51:30,227 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:51:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:52:30,227 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:52:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:53:30,231 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:53:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:54:30,224 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:54:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:55:30,225 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:55:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:56:30,234 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:56:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:57:30,224 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:57:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:58:30,230 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:58:30] "GET /health HTTP/1.1" 200 -
2025-08-21 12:59:30,229 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 12:59:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:00:30,220 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:00:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:01:30,227 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:01:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:02:30,224 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:02:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:03:30,225 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:03:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:04:30,230 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:04:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:05:30,227 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:05:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:06:30,228 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:06:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:07:30,227 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:07:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:08:30,229 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:08:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:09:30,224 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:09:30] "GET /health HTTP/1.1" 200 -
2025-08-21 13:10:19,624 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:10:19] "GET /health HTTP/1.1" 200 -
2025-08-21 13:10:27,133 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:10:27] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-21 13:10:27,136 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: claude, 메시지 길이: 284자
2025-08-21 13:10:27,136 - __main__ - INFO - LLM 모델이 ax -> claude로 변경됨. 재초기화 중...
2025-08-21 13:10:27,138 - mms_extractor - INFO - LLM 초기화 완료: claude (amazon/anthropic/claude-sonnet-4-20250514)
2025-08-21 13:10:27,139 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-21 13:10:27,140 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 13:10:27,140 - mms_extractor - INFO - ============================================================
2025-08-21 13:10:27,140 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 13:10:27,140 - mms_extractor - INFO - ============================================================
2025-08-21 13:10:27,140 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-21 13:10:27,140 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-21 13:10:27,140 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 13:10:27,140 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 13:10:27,140 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-21 13:10:27,141 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 13:10:27,141 - mms_extractor - INFO - LLM 모델: claude
2025-08-21 13:10:27,141 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 13:10:27,141 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 13:10:27,141 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 13:10:27,141 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 13:10:27,141 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-21 13:10:27,155 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 13:10:27,159 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-21 13:10:27,159 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-21 13:10:27,161 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-21 13:10:27,161 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-21 13:10:27,161 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['갤럭시', '버즈', 'YouTube Premium']
2025-08-21 13:10:27,161 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 13:10:39,680 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:10:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:10:48,368 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-21 13:10:48,369 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-21 13:10:48,369 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-21 13:10:48,369 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 13:10:48,515 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-21 13:10:48,515 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-21 13:10:48,515 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 13:10:48,519 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-21 13:10:48,522 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-21 13:10:48,523 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-21 13:10:48,524 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-21 13:10:48,529 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-21 13:10:48,529 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-21 13:10:48,529 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 21.39초
2025-08-21 13:10:48,529 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-21 13:10:48,529 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-21 13:10:48,529 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 13:10:48,653 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 13:10:48,653 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 13:10:48,653 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-21 13:10:48,653 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 13:10:48,653 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-21 13:10:48,653 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-21 13:10:48,654 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-21 13:10:48,654 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 13:10:48,654 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-21 13:10:48,654 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-21 13:10:48,654 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 13:10:48,654 - mms_extractor - INFO - 구성된 프롬프트 길이: 6714 문자
2025-08-21 13:10:48,654 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-21 13:10:53,553 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 13:10:53,557 - mms_extractor - INFO - LLM 응답 길이: 615 문자
2025-08-21 13:10:53,557 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "5G 요금제 특가 혜택",
    "purpose": ["상품 가입 유도", "혜택 안내", "대리점/매장 방문 유도", "웹/앱 접속 유도"],
    "product": [
        {"name": "5G 슈퍼플랜", "action": "가입"},
        {"name": "YouTube Premium", "action": "사용"},
        {"name": "갤럭시 버즈", "action": "기타"}
    ],
    "channel": [
        {"type": "URL", "value": "m.tworld.co.kr", "action": "가입"},
        {"type": "대리점", "value": "전국 T world 매장", "action": "가입"},
        {"type": "전화번호", "value": "114", "action": "문의"},
        {"type": "전...
2025-08-21 13:10:53,557 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 13:10:53,558 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 13:10:53,558 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 13:10:53,558 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도'], 'product': [{'name': '5G 슈퍼플랜', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '사용'}, {'name': '갤럭시 버즈', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '타사회선(가망)_win-back']}
2025-08-21 13:10:53,560 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 13:10:53,560 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜', 'YouTube Premium', '갤럭시 버즈']
2025-08-21 13:10:54,012 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 13:10:54,012 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 13:10:54,012 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 13:10:54,012 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-21 13:10:54,012 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x376a83cb0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x376a808c0> root_client=<openai.OpenAI object at 0x376a83b90> root_async_client=<openai.AsyncOpenAI object at 0x376a81730> model_name='amazon/anthropic/claude-sonnet-4-20250514' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 13:10:54,012 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 13:10:54,012 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-21 13:11:09,681 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:11:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:11:13,930 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 13:11:13,931 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1648자
2025-08-21 13:11:13,931 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석

**메시지 요약 및 핵심 의도:**
T world에서 5G 슈퍼플랜 요금제 가입을 유도하는 광고로, 50% 할인된 특가와 다양한 부가 혜택(YouTube Premium, 갤럭시 버즈)을 제공하여 신규 고객 확보를 목표로 함. 온라인과 오프라인 모든 채널에서 가입 가능.

**식별된 가치 제안 목록:**
- 즉각적 혜택: 50% 할인...
2025-08-21 13:11:13,932 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 13:11:13,932 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 223자
2025-08-21 13:11:13,932 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 13:11:13,933 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 7, 엣지 수: 6
2025-08-21 13:11:13,933 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 온라인:접속', '5G슈퍼플랜:가입', 'T world 매장:방문', '50%할인혜택:수령', '갤럭시버즈:수령', 'YouTube Premium:사용', '데이터무제한서비스:사용']
2025-08-21 13:11:13,933 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 온라인:접속', '5G슈퍼플랜:가입'), ('5G슈퍼플랜:가입', '50%할인혜택:수령'), ('5G슈퍼플랜:가입', '갤럭시버즈:수령'), ('5G슈퍼플랜:가입', 'YouTube Premium:사용'), ('5G슈퍼플랜:가입', '데이터무제한서비스:사용'), ('T world 매장:방문', '5G슈퍼플랜:가입')]
2025-08-21 13:11:13,933 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 13:11:13,933 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-21 13:11:13,933 - utils - INFO - 📊 입력 그래프 - 노드 수: 7, 엣지 수: 6
2025-08-21 13:11:13,935 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 13:11:14,698 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-21 13:11:14,698 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-21 13:11:14,698 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.686초
2025-08-21 13:11:14,698 - mms_extractor - INFO - 📏 DAG 섹션 길이: 223자
2025-08-21 13:11:14,698 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)
(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)
(5G슈퍼플랜:가입) -[가입하면]-> (50%할인혜택:수령)
(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)
(5G슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:사용)
(5G슈퍼플랜:가입) ...
2025-08-21 13:11:14,698 - mms_extractor - INFO - ============================================================
2025-08-21 13:11:14,699 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 13:11:14,699 - mms_extractor - INFO - ============================================================
2025-08-21 13:11:14,699 - mms_extractor - INFO - 제목: 5G 요금제 특가 혜택
2025-08-21 13:11:14,699 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '대리점/매장 방문 유도', '웹/앱 접속 유도']
2025-08-21 13:11:14,699 - mms_extractor - INFO - 상품 수: 2개
2025-08-21 13:11:14,699 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 13:11:14,699 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 13:11:14,699 - mms_extractor - INFO - process_message 실행완료: 47.56초
2025-08-21 13:11:14,699 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 6자
2025-08-21 13:11:14,699 - __main__ - INFO - DAG 내용 미리보기: ['(5G슈퍼플랜:가입) -[가입하면]-> (50%할인혜택:수령)', '(5G슈퍼플랜:가입) -[가입하면]-> (YouTube Premium:사용)', '(5G슈퍼플랜:가입) -[가입하면]-> (갤럭시버즈:수령)', '(5G슈퍼플랜:가입) -[가입후]-> (데이터무제한서비스:사용)', '(T world 매장:방문) -[방문하여]-> (5G슈퍼플랜:가입)', '(T world 온라인:접속) -[접속하여]-> (5G슈퍼플랜:가입)']...
2025-08-21 13:11:14,699 - __main__ - INFO - 추출 완료: 47.563초
2025-08-21 13:11:14,700 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:11:14] "POST /extract HTTP/1.1" 200 -
2025-08-21 13:11:39,684 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:11:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:12:09,679 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:12:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:12:39,678 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:12:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:13:09,681 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:13:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:13:39,683 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:13:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:14:09,680 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:14:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:14:39,682 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:14:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:15:09,682 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:15:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:15:39,680 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:15:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:16:09,680 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:16:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:16:39,683 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:16:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:17:09,683 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:17:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:17:39,680 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:17:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:18:09,680 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:18:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:18:39,610 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:18:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:19:09,612 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:19:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:19:39,608 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:19:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:20:09,608 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:20:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:20:39,606 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:20:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:21:09,607 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:21:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:21:39,604 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:21:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:22:09,606 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:22:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:22:39,605 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:22:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:23:09,604 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:23:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:23:39,602 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:23:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:24:09,604 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:24:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:24:39,603 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:24:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:25:09,603 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:25:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:25:39,602 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:25:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:26:09,601 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:26:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:26:39,601 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:26:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:27:09,601 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:27:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:27:39,600 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:27:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:28:09,600 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:28:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:28:39,599 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:28:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:29:09,597 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:29:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:29:39,601 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:29:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:30:09,599 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:30:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:30:39,597 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:30:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:31:09,596 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:31:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:31:39,597 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:31:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:32:09,594 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:32:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:32:39,601 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:32:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:33:09,594 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:33:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:33:39,595 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:33:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:34:09,593 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:34:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:34:39,594 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:34:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:35:09,592 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:35:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:35:39,592 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:35:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:36:09,591 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:36:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:36:39,589 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:36:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:37:09,585 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:37:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:37:39,587 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:37:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:38:09,590 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:38:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:38:39,588 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:38:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:39:09,589 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:39:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:39:39,586 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:39:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:40:09,585 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:40:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:40:39,584 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:40:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:41:09,586 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:41:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:41:39,583 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:41:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:42:09,585 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:42:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:42:39,582 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:42:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:43:09,582 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:43:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:43:39,586 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:43:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:44:09,582 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:44:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:44:39,581 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:44:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:45:09,584 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:45:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:45:39,583 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:45:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:46:09,579 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:46:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:46:39,575 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:46:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:47:09,576 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:47:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:47:39,578 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:47:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:48:09,578 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:48:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:48:39,573 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:48:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:49:09,576 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:49:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:49:39,578 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:49:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:50:09,574 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:50:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:50:39,576 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:50:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:51:09,574 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:51:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:51:39,573 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:51:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:52:09,574 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:52:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:52:39,574 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:52:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:53:09,571 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:53:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:53:39,567 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:53:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:54:09,569 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:54:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:54:39,572 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:54:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:55:09,566 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:55:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:55:39,564 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:55:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:56:09,567 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:56:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:56:39,568 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:56:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:57:09,565 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:57:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:57:39,567 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:57:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:58:09,567 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:58:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:58:39,568 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:58:39] "GET /health HTTP/1.1" 200 -
2025-08-21 13:59:09,565 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:59:09] "GET /health HTTP/1.1" 200 -
2025-08-21 13:59:39,565 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 13:59:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:00:09,572 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:00:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:00:39,565 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:00:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:01:09,561 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:01:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:01:39,563 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:01:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:02:09,563 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:02:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:02:39,563 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:02:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:03:09,563 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:03:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:03:39,557 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:03:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:04:09,557 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:04:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:04:39,559 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:04:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:05:09,558 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:05:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:05:39,555 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:05:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:06:09,556 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:06:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:06:39,556 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:06:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:07:09,558 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:07:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:07:39,555 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:07:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:08:09,570 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:08:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:08:39,571 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:08:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:09:09,572 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:09:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:09:39,569 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:09:39] "GET /health HTTP/1.1" 200 -
2025-08-21 14:10:09,570 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:10:09] "GET /health HTTP/1.1" 200 -
2025-08-21 14:10:40,113 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:10:40] "GET /health HTTP/1.1" 200 -
2025-08-21 14:16:25,458 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:16:25] "GET /health HTTP/1.1" 200 -
2025-08-21 14:21:17,021 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:21:17] "GET /health HTTP/1.1" 200 -
2025-08-21 14:37:24,181 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:37:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:38:24,202 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:38:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:39:24,180 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:39:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:40:24,302 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:40:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:41:24,209 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:41:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:42:24,209 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:42:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:43:24,179 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:43:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:44:24,195 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:44:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:45:24,179 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:45:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:46:24,180 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:46:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:47:24,199 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:47:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:48:24,201 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:48:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:49:24,180 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:49:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:50:24,200 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:50:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:51:24,184 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:51:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:52:24,216 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:52:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:53:24,244 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:53:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:54:24,243 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:54:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:55:24,245 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:55:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:56:24,247 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:56:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:57:24,281 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:57:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:58:24,279 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:58:24] "GET /health HTTP/1.1" 200 -
2025-08-21 14:59:24,247 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 14:59:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:00:24,269 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:00:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:01:24,251 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:01:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:02:24,251 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:02:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:03:24,250 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:03:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:04:24,267 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:04:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:05:24,271 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:05:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:06:24,257 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:06:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:07:24,278 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:07:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:08:24,275 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:08:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:09:24,278 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:09:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:10:24,258 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:10:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:11:24,294 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:11:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:12:24,259 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:12:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:13:24,291 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:13:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:14:24,262 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:14:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:15:24,256 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:15:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:16:07,296 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:16:07] "GET /health HTTP/1.1" 200 -
2025-08-21 15:16:33,714 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:16:33] "GET /health HTTP/1.1" 200 -
2025-08-21 15:17:03,715 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:17:03] "GET /health HTTP/1.1" 200 -
2025-08-21 15:17:33,714 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:17:33] "GET /health HTTP/1.1" 200 -
2025-08-21 15:18:03,710 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:18:03] "GET /health HTTP/1.1" 200 -
2025-08-21 15:18:33,711 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:18:33] "GET /health HTTP/1.1" 200 -
2025-08-21 15:18:58,589 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:18:58] "GET /health HTTP/1.1" 200 -
2025-08-21 15:19:04,256 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:19:04] "GET /health HTTP/1.1" 200 -
2025-08-21 15:19:10,344 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:19:10] "GET /health HTTP/1.1" 200 -
2025-08-21 15:19:12,074 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:19:12] "GET /health HTTP/1.1" 200 -
2025-08-21 15:19:34,258 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:19:34] "GET /health HTTP/1.1" 200 -
2025-08-21 15:20:24,260 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:20:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:21:24,264 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:21:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:23:24,068 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-21 15:23:24,068 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-21 15:23:24,068 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-21 15:23:24,068 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-21 15:23:24,068 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-21 15:23:24,089 - mms_extractor - INFO - Using device: mps
2025-08-21 15:23:24,089 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-21 15:23:24,090 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-21 15:23:24,090 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-21 15:23:24,090 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-21 15:23:24,090 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-21 15:23:24,090 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-21 15:23:28,216 - mms_extractor - INFO - Model loaded on mps
2025-08-21 15:23:28,216 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 4.13초
2025-08-21 15:23:28,754 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-21 15:23:28,755 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.54초
2025-08-21 15:23:28,755 - mms_extractor - INFO - ============================================================
2025-08-21 15:23:28,755 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-21 15:23:28,755 - mms_extractor - INFO - ============================================================
2025-08-21 15:23:28,755 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-21 15:23:28,755 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-21 15:23:28,755 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-21 15:23:28,755 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-21 15:23:28,755 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-21 15:23:28,875 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-21 15:23:28,875 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-21 15:23:28,885 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-21 15:23:28,890 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-21 15:23:28,891 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-21 15:23:28,895 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-21 15:23:28,895 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-21 15:23:28,896 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-21 15:23:28,896 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-21 15:23:28,896 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-21 15:23:28,896 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-21 15:23:28,896 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-21 15:23:28,904 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-21 15:23:28,905 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-21 15:23:28,905 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-21 15:23:29,213 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-21 15:23:29,215 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-21 15:23:29,215 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-21 15:23:29,215 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-21 15:23:29,215 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-21 15:23:29,216 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-21 15:23:29,216 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-21 15:23:29,216 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-21 15:23:29,216 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-21 15:23:29,223 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-21 15:23:29,226 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-21 15:23:29,226 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-21 15:23:29,281 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-21 15:23:29,282 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-21 15:23:29,282 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-21 15:23:29,291 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-21 15:23:29,291 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-21 15:23:29,495 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-21 15:23:29,495 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-21 15:23:29,495 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-21 15:23:29,991 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-21 15:23:29,991 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-21 15:23:29,991 - mms_extractor - INFO - ============================================================
2025-08-21 15:23:29,991 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-21 15:23:29,991 - mms_extractor - INFO - ============================================================
2025-08-21 15:23:29,991 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-21 15:23:29,991 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-21 15:23:29,991 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-21 15:23:29,991 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-21 15:23:29,991 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-21 15:23:29,996 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-21 15:23:30,003 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-21 15:23:30,007 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-21 15:23:30,007 - mms_extractor - INFO - _load_data 실행완료: 1.25초
2025-08-21 15:23:30,007 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-21 15:23:30,007 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-21 15:23:30,008 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-21 15:23:30,008 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-21 15:23:30,008 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-21 15:23:30,008 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-21 15:23:30,008 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-21 15:23:30,008 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-21 15:23:30,008 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-21 15:23:30,008 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-21 15:23:30,008 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-21 15:23:30,029 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.101:8000
2025-08-21 15:23:30,029 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-21 15:23:33,318 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:23:33] "GET /health HTTP/1.1" 200 -
2025-08-21 15:23:36,339 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:23:36] "GET /health HTTP/1.1" 200 -
2025-08-21 15:23:36,356 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:23:36] "GET /health HTTP/1.1" 200 -
2025-08-21 15:23:39,743 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:23:39] "GET /health HTTP/1.1" 200 -
2025-08-21 15:23:39,752 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 15:23:39,752 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 15:23:39,752 - mms_extractor - INFO - ============================================================
2025-08-21 15:23:39,752 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 15:23:39,753 - mms_extractor - INFO - ============================================================
2025-08-21 15:23:39,753 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 15:23:39,753 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 15:23:39,753 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 15:23:39,753 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 15:23:39,753 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 15:23:39,753 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 15:23:39,753 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 15:23:39,753 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 15:23:39,753 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 15:23:39,753 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 15:23:39,753 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 15:23:39,753 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 15:23:39,761 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 15:23:40,315 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 15:23:40,315 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 15:23:40,316 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 15:23:40,316 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 15:23:40,317 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 15:23:40,317 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 15:23:47,326 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 15:23:47,327 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 15:23:47,332 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 15:23:47,332 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 15:23:47,529 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 15:23:47,530 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 15:23:47,530 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 15:23:47,533 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 15:23:47,539 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 15:23:47,539 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 15:23:47,541 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 15:23:47,547 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 15:23:47,547 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 15:23:47,548 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.79초
2025-08-21 15:23:47,548 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:23:47,548 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 15:23:47,548 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 15:23:47,687 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 15:23:47,687 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 15:23:47,687 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 15:23:47,687 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 15:23:47,687 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 15:23:47,687 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:23:47,687 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 15:23:47,687 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 15:23:47,687 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 15:23:47,689 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 15:23:47,689 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 15:23:47,689 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 15:23:47,689 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 15:23:47,689 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 15:23:55,713 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:23:55,728 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-21 15:23:55,728 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-21 15:23:55,728 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 15:23:55,729 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 15:23:55,729 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 15:23:55,729 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 15:23:55,729 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 15:23:55,729 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 15:23:56,091 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 15:23:56,092 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 15:23:56,092 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 15:23:56,092 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 15:23:56,092 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x35a3159a0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x35a315790> root_client=<openai.OpenAI object at 0x34ee2cb60> root_async_client=<openai.AsyncOpenAI object at 0x35a315610> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 15:23:56,092 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 15:23:56,092 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 15:24:18,391 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:24:18,393 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2502자
2025-08-21 15:24:18,393 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 웹사이트를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 15:24:18,394 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 15:24:18,394 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-21 15:24:18,394 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 15:24:18,395 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 2, 엣지 수: 1
2025-08-21 15:24:18,395 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매']
2025-08-21 15:24:18,395 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 15:24:18,395 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 15:24:18,395 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:24:18,396 - utils - INFO - 📊 입력 그래프 - 노드 수: 2, 엣지 수: 1
2025-08-21 15:24:18,396 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 15:24:19,040 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 15:24:19,040 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:24:19,040 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.948초
2025-08-21 15:24:19,040 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-21 15:24:19,040 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정...
2025-08-21 15:24:19,040 - mms_extractor - INFO - ============================================================
2025-08-21 15:24:19,040 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 15:24:19,040 - mms_extractor - INFO - ============================================================
2025-08-21 15:24:19,040 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-21 15:24:19,040 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 15:24:19,040 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 15:24:19,040 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 15:24:19,040 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 15:24:19,041 - mms_extractor - INFO - process_message 실행완료: 39.29초
2025-08-21 15:24:19,041 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-21 15:24:19,041 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 15:24:19,041 - __main__ - INFO - 추출 완료: 39.289초
2025-08-21 15:24:19,042 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:24:19] "POST /extract HTTP/1.1" 200 -
2025-08-21 15:25:22,538 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:25:22] "GET /health HTTP/1.1" 200 -
2025-08-21 15:25:24,515 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:25:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:25:24,534 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:25:24] "GET /health HTTP/1.1" 200 -
2025-08-21 15:25:26,182 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:25:26] "GET /health HTTP/1.1" 200 -
2025-08-21 15:25:26,193 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 15:25:26,193 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 15:25:26,193 - mms_extractor - INFO - ============================================================
2025-08-21 15:25:26,193 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 15:25:26,193 - mms_extractor - INFO - ============================================================
2025-08-21 15:25:26,193 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 15:25:26,193 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 15:25:26,194 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 15:25:26,194 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 15:25:26,194 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 15:25:26,194 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 15:25:26,194 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 15:25:26,194 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 15:25:26,194 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 15:25:26,194 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 15:25:26,194 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 15:25:26,194 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 15:25:26,206 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 15:25:26,208 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 15:25:26,209 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 15:25:26,211 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 15:25:26,211 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 15:25:26,211 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 15:25:26,211 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 15:25:26,770 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 15:25:26,770 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 15:25:26,770 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 15:25:26,771 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 15:25:26,973 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 15:25:26,974 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 15:25:26,974 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 15:25:26,977 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 15:25:26,981 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 15:25:26,982 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 15:25:26,983 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 15:25:26,987 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 15:25:26,988 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 15:25:26,988 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.79초
2025-08-21 15:25:26,988 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:25:26,989 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 15:25:26,989 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 15:25:27,026 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 15:25:27,026 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 15:25:27,026 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 15:25:27,026 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 15:25:27,026 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 15:25:27,027 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:25:27,027 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 15:25:27,027 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 15:25:27,027 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 15:25:27,028 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 15:25:27,028 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 15:25:27,028 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 15:25:27,028 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 15:25:27,029 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 15:25:34,751 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:25:34,755 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-21 15:25:34,755 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-21 15:25:34,755 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 15:25:34,756 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 15:25:34,756 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 15:25:34,757 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 15:25:34,757 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 15:25:34,758 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 15:25:35,127 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 15:25:35,127 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 15:25:35,127 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 15:25:35,127 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 15:25:35,127 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x35a3159a0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x35a315790> root_client=<openai.OpenAI object at 0x34ee2cb60> root_async_client=<openai.AsyncOpenAI object at 0x35a315610> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 15:25:35,127 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 15:25:35,127 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 15:26:03,139 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:26:03,142 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-21 15:26:03,142 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 15:26:03,142 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 15:26:03,143 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-21 15:26:03,143 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 15:26:03,143 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-21 15:26:03,144 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-21 15:26:03,144 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 15:26:03,144 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 15:26:03,144 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:26:03,144 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-21 15:26:03,146 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 15:26:03,404 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 15:26:03,404 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:26:03,404 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.277초
2025-08-21 15:26:03,404 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-21 15:26:03,404 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-21 15:26:03,404 - mms_extractor - INFO - ============================================================
2025-08-21 15:26:03,404 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 15:26:03,404 - mms_extractor - INFO - ============================================================
2025-08-21 15:26:03,404 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-21 15:26:03,404 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 15:26:03,405 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 15:26:03,405 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 15:26:03,405 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 15:26:03,405 - mms_extractor - INFO - process_message 실행완료: 37.21초
2025-08-21 15:26:03,405 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-21 15:26:03,405 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 15:26:03,405 - __main__ - INFO - 추출 완료: 37.212초
2025-08-21 15:26:03,406 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:26:03] "POST /extract HTTP/1.1" 200 -
2025-08-21 15:26:03,416 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:26:03] "GET /health HTTP/1.1" 200 -
2025-08-21 15:28:48,187 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-21 15:28:48,187 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-21 15:28:48,188 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-21 15:28:48,188 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-21 15:28:48,188 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-21 15:28:48,209 - mms_extractor - INFO - Using device: mps
2025-08-21 15:28:48,209 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-21 15:28:48,209 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-21 15:28:48,209 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-21 15:28:48,209 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-21 15:28:48,209 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-21 15:28:48,209 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-21 15:28:49,835 - mms_extractor - INFO - Model loaded on mps
2025-08-21 15:28:49,835 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 1.63초
2025-08-21 15:28:50,260 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-21 15:28:50,260 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.42초
2025-08-21 15:28:50,260 - mms_extractor - INFO - ============================================================
2025-08-21 15:28:50,260 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-21 15:28:50,260 - mms_extractor - INFO - ============================================================
2025-08-21 15:28:50,260 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-21 15:28:50,260 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-21 15:28:50,260 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-21 15:28:50,260 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-21 15:28:50,260 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-21 15:28:50,368 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-21 15:28:50,368 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-21 15:28:50,377 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-21 15:28:50,381 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-21 15:28:50,382 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-21 15:28:50,385 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-21 15:28:50,385 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-21 15:28:50,385 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-21 15:28:50,385 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-21 15:28:50,385 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-21 15:28:50,385 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-21 15:28:50,385 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-21 15:28:50,388 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-21 15:28:50,388 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-21 15:28:50,389 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-21 15:28:50,689 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-21 15:28:50,691 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-21 15:28:50,691 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-21 15:28:50,691 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-21 15:28:50,691 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-21 15:28:50,692 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-21 15:28:50,692 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-21 15:28:50,692 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-21 15:28:50,693 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-21 15:28:50,699 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-21 15:28:50,702 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-21 15:28:50,702 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-21 15:28:50,750 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-21 15:28:50,751 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-21 15:28:50,751 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-21 15:28:50,753 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-21 15:28:50,753 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-21 15:28:50,915 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-21 15:28:50,915 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-21 15:28:50,915 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-21 15:28:51,388 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-21 15:28:51,388 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-21 15:28:51,388 - mms_extractor - INFO - ============================================================
2025-08-21 15:28:51,388 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-21 15:28:51,388 - mms_extractor - INFO - ============================================================
2025-08-21 15:28:51,388 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-21 15:28:51,388 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-21 15:28:51,388 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-21 15:28:51,388 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-21 15:28:51,388 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-21 15:28:51,393 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-21 15:28:51,400 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-21 15:28:51,404 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-21 15:28:51,404 - mms_extractor - INFO - _load_data 실행완료: 1.14초
2025-08-21 15:28:51,404 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-21 15:28:51,404 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-21 15:28:51,404 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-21 15:28:51,404 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-21 15:28:51,404 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-21 15:28:51,404 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-21 15:28:51,404 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-21 15:28:51,404 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-21 15:28:51,404 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-21 15:28:51,404 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-21 15:28:51,404 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-21 15:28:51,415 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.101:8000
2025-08-21 15:28:51,415 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-21 15:29:17,545 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:29:17] "GET /health HTTP/1.1" 200 -
2025-08-21 15:29:19,347 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:29:19] "GET /health HTTP/1.1" 200 -
2025-08-21 15:29:19,371 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:29:19] "GET /health HTTP/1.1" 200 -
2025-08-21 15:29:22,166 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:29:22] "GET /health HTTP/1.1" 200 -
2025-08-21 15:29:22,177 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 15:29:22,178 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 15:29:22,178 - mms_extractor - INFO - ============================================================
2025-08-21 15:29:22,178 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 15:29:22,178 - mms_extractor - INFO - ============================================================
2025-08-21 15:29:22,178 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 15:29:22,178 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 15:29:22,178 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 15:29:22,178 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 15:29:22,178 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 15:29:22,178 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 15:29:22,178 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 15:29:22,178 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 15:29:22,178 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 15:29:22,178 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 15:29:22,178 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 15:29:22,178 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 15:29:22,188 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 15:29:22,740 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 15:29:22,741 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 15:29:22,742 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 15:29:22,742 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 15:29:22,742 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 15:29:22,742 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 15:29:29,611 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 15:29:29,611 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 15:29:29,613 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 15:29:29,614 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 15:29:29,812 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 15:29:29,812 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 15:29:29,812 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 15:29:29,815 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 15:29:29,821 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 15:29:29,821 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 15:29:29,822 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 15:29:29,827 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 15:29:29,827 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 15:29:29,828 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.65초
2025-08-21 15:29:29,828 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:29:29,828 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 15:29:29,828 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 15:29:29,925 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 15:29:29,925 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 15:29:29,925 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 15:29:29,925 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 15:29:29,925 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 15:29:29,925 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:29:29,925 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 15:29:29,925 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 15:29:29,926 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 15:29:29,927 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 15:29:29,927 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 15:29:29,927 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 15:29:29,927 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 15:29:29,927 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 15:29:37,654 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:29:37,669 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-21 15:29:37,669 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-21 15:29:37,669 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 15:29:37,669 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 15:29:37,670 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 15:29:37,670 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 15:29:37,670 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 15:29:37,670 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 15:29:38,031 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 15:29:38,031 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 15:29:38,031 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 15:29:38,032 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 15:29:38,032 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 15:29:38,032 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 15:29:38,032 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 15:30:00,280 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:30:00,284 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2502자
2025-08-21 15:30:00,284 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 웹사이트를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 15:30:00,285 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 15:30:00,285 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-21 15:30:00,286 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 15:30:00,286 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 2, 엣지 수: 1
2025-08-21 15:30:00,287 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매']
2025-08-21 15:30:00,287 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 15:30:00,287 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 15:30:00,287 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:30:00,288 - utils - INFO - 📊 입력 그래프 - 노드 수: 2, 엣지 수: 1
2025-08-21 15:30:00,289 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 15:30:00,530 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 15:30:00,530 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:30:00,530 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.498초
2025-08-21 15:30:00,530 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-21 15:30:00,530 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정...
2025-08-21 15:30:00,530 - mms_extractor - INFO - ============================================================
2025-08-21 15:30:00,530 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 15:30:00,530 - mms_extractor - INFO - ============================================================
2025-08-21 15:30:00,530 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-21 15:30:00,530 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 15:30:00,530 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 15:30:00,530 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 15:30:00,530 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 15:30:00,531 - mms_extractor - INFO - process_message 실행완료: 38.35초
2025-08-21 15:30:00,531 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-21 15:30:00,531 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 15:30:00,531 - __main__ - INFO - 추출 완료: 38.353초
2025-08-21 15:30:00,531 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:30:00] "POST /extract HTTP/1.1" 200 -
2025-08-21 15:30:00,543 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:30:00] "GET /health HTTP/1.1" 200 -
2025-08-21 15:33:34,321 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:33:34] "GET /health HTTP/1.1" 200 -
2025-08-21 15:33:35,632 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:33:35] "GET /health HTTP/1.1" 200 -
2025-08-21 15:33:35,667 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:33:35] "GET /health HTTP/1.1" 200 -
2025-08-21 15:33:37,224 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:33:37] "GET /health HTTP/1.1" 200 -
2025-08-21 15:33:37,234 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 15:33:37,234 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 15:33:37,234 - mms_extractor - INFO - ============================================================
2025-08-21 15:33:37,234 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 15:33:37,235 - mms_extractor - INFO - ============================================================
2025-08-21 15:33:37,235 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 15:33:37,235 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 15:33:37,235 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 15:33:37,235 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 15:33:37,235 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 15:33:37,235 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 15:33:37,235 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 15:33:37,235 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 15:33:37,235 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 15:33:37,235 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 15:33:37,235 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 15:33:37,235 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 15:33:37,243 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 15:33:37,246 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 15:33:37,247 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 15:33:37,248 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 15:33:37,248 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 15:33:37,249 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 15:33:37,249 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 15:33:37,804 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 15:33:37,804 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 15:33:37,805 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 15:33:37,805 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 15:33:38,006 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 15:33:38,006 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 15:33:38,006 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 15:33:38,010 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 15:33:38,013 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 15:33:38,014 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 15:33:38,015 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 15:33:38,019 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 15:33:38,019 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 15:33:38,020 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.78초
2025-08-21 15:33:38,020 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:33:38,020 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 15:33:38,020 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 15:33:38,059 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 15:33:38,060 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 15:33:38,060 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 15:33:38,060 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 15:33:38,060 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 15:33:38,060 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:33:38,060 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 15:33:38,060 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 15:33:38,060 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 15:33:38,061 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 15:33:38,062 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 15:33:38,062 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 15:33:38,062 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 15:33:38,062 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 15:33:45,905 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:33:45,909 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-21 15:33:45,910 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-21 15:33:45,910 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 15:33:45,911 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 15:33:45,911 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 15:33:45,911 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 15:33:45,911 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 15:33:45,912 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 15:33:46,294 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 15:33:46,294 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 15:33:46,294 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 15:33:46,294 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 15:33:46,294 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 15:33:46,294 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 15:33:46,295 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 15:34:14,306 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:34:14,308 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-21 15:34:14,309 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 15:34:14,309 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 15:34:14,309 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-21 15:34:14,310 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 15:34:14,310 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-21 15:34:14,311 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-21 15:34:14,312 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 15:34:14,312 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 15:34:14,312 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:34:14,312 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-21 15:34:14,313 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 15:34:14,559 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 15:34:14,560 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:34:14,560 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.265초
2025-08-21 15:34:14,560 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-21 15:34:14,560 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-21 15:34:14,560 - mms_extractor - INFO - ============================================================
2025-08-21 15:34:14,560 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 15:34:14,560 - mms_extractor - INFO - ============================================================
2025-08-21 15:34:14,560 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-21 15:34:14,560 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 15:34:14,560 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 15:34:14,560 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 15:34:14,560 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 15:34:14,560 - mms_extractor - INFO - process_message 실행완료: 37.33초
2025-08-21 15:34:14,560 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-21 15:34:14,560 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 15:34:14,560 - __main__ - INFO - 추출 완료: 37.326초
2025-08-21 15:34:14,561 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:34:14] "POST /extract HTTP/1.1" 200 -
2025-08-21 15:34:14,579 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:34:14] "GET /health HTTP/1.1" 200 -
2025-08-21 15:35:54,975 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:35:54] "GET /health HTTP/1.1" 200 -
2025-08-21 15:35:56,257 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:35:56] "GET /health HTTP/1.1" 200 -
2025-08-21 15:35:56,289 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:35:56] "GET /health HTTP/1.1" 200 -
2025-08-21 15:35:57,433 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:35:57] "GET /health HTTP/1.1" 200 -
2025-08-21 15:35:57,444 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 15:35:57,444 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 15:35:57,444 - mms_extractor - INFO - ============================================================
2025-08-21 15:35:57,444 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 15:35:57,444 - mms_extractor - INFO - ============================================================
2025-08-21 15:35:57,444 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 15:35:57,445 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 15:35:57,445 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 15:35:57,445 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 15:35:57,445 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 15:35:57,445 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 15:35:57,445 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 15:35:57,445 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 15:35:57,445 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 15:35:57,445 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 15:35:57,445 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 15:35:57,445 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 15:35:57,456 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 15:35:57,459 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 15:35:57,459 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 15:35:57,461 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 15:35:57,461 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 15:35:57,462 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 15:35:57,462 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 15:35:58,013 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 15:35:58,013 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 15:35:58,013 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 15:35:58,013 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 15:35:58,214 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 15:35:58,214 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 15:35:58,214 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 15:35:58,218 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 15:35:58,222 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 15:35:58,222 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 15:35:58,223 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 15:35:58,228 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 15:35:58,228 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 15:35:58,228 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.78초
2025-08-21 15:35:58,229 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:35:58,229 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 15:35:58,229 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 15:35:58,263 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 15:35:58,263 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 15:35:58,263 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 15:35:58,263 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 15:35:58,263 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 15:35:58,263 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:35:58,263 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 15:35:58,263 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 15:35:58,264 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 15:35:58,265 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 15:35:58,265 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 15:35:58,265 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 15:35:58,265 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 15:35:58,265 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 15:36:06,044 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:36:06,048 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-21 15:36:06,048 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-21 15:36:06,048 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 15:36:06,050 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 15:36:06,050 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 15:36:06,051 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 15:36:06,051 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 15:36:06,051 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 15:36:06,507 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 15:36:06,507 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 15:36:06,507 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 15:36:06,507 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 15:36:06,508 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 15:36:06,508 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 15:36:06,508 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 15:36:34,598 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:36:34,601 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-21 15:36:34,602 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 15:36:34,602 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 15:36:34,602 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-21 15:36:34,602 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 15:36:34,602 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-21 15:36:34,602 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-21 15:36:34,603 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 15:36:34,603 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 15:36:34,603 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:36:34,603 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-21 15:36:34,604 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 15:36:34,839 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 15:36:34,840 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:36:34,840 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.332초
2025-08-21 15:36:34,840 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-21 15:36:34,840 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-21 15:36:34,840 - mms_extractor - INFO - ============================================================
2025-08-21 15:36:34,840 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 15:36:34,840 - mms_extractor - INFO - ============================================================
2025-08-21 15:36:34,840 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-21 15:36:34,840 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 15:36:34,840 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 15:36:34,840 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 15:36:34,840 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 15:36:34,841 - mms_extractor - INFO - process_message 실행완료: 37.40초
2025-08-21 15:36:34,841 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-21 15:36:34,841 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 15:36:34,841 - __main__ - INFO - 추출 완료: 37.396초
2025-08-21 15:36:34,841 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:36:34] "POST /extract HTTP/1.1" 200 -
2025-08-21 15:36:34,858 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:36:34] "GET /health HTTP/1.1" 200 -
2025-08-21 15:38:17,698 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:38:17] "GET /health HTTP/1.1" 200 -
2025-08-21 15:38:19,473 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:38:19] "GET /health HTTP/1.1" 200 -
2025-08-21 15:38:19,501 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:38:19] "GET /health HTTP/1.1" 200 -
2025-08-21 15:38:20,691 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:38:20] "GET /health HTTP/1.1" 200 -
2025-08-21 15:38:20,720 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 15:38:20,720 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 15:38:20,720 - mms_extractor - INFO - ============================================================
2025-08-21 15:38:20,720 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 15:38:20,721 - mms_extractor - INFO - ============================================================
2025-08-21 15:38:20,721 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 15:38:20,721 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 15:38:20,722 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 15:38:20,722 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 15:38:20,722 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 15:38:20,722 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 15:38:20,722 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 15:38:20,722 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 15:38:20,722 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 15:38:20,723 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 15:38:20,723 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 15:38:20,723 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 15:38:20,751 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 15:38:20,758 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 15:38:20,758 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 15:38:20,760 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 15:38:20,760 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 15:38:20,760 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 15:38:20,760 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 15:38:21,317 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 15:38:21,317 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 15:38:21,318 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 15:38:21,318 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 15:38:21,519 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 15:38:21,520 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 15:38:21,520 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 15:38:21,524 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 15:38:21,528 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 15:38:21,528 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 15:38:21,529 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 15:38:21,535 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 15:38:21,535 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 15:38:21,536 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.81초
2025-08-21 15:38:21,536 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:38:21,536 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 15:38:21,536 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 15:38:21,575 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 15:38:21,575 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 15:38:21,575 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 15:38:21,575 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 15:38:21,575 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 15:38:21,575 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:38:21,575 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 15:38:21,575 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 15:38:21,575 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 15:38:21,577 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 15:38:21,577 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 15:38:21,577 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 15:38:21,577 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 15:38:21,577 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 15:38:29,714 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:38:29,718 - mms_extractor - INFO - LLM 응답 길이: 1182 문자
2025-08-21 15:38:29,718 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24+",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 워치6",
            "action": "할인"
        },
        {
            "name": "무선충전기",
        ...
2025-08-21 15:38:29,719 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 15:38:29,720 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 15:38:29,720 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 15:38:29,720 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 제공'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 15:38:29,721 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 15:38:29,721 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 15:38:30,090 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 15:38:30,091 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 15:38:30,091 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 15:38:30,091 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 15:38:30,091 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 15:38:30,091 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 15:38:30,091 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 15:38:52,211 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:38:52,214 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2502자
2025-08-21 15:38:52,214 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 웹사이트를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 15:38:52,215 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 15:38:52,216 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-21 15:38:52,216 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 15:38:52,217 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 2, 엣지 수: 1
2025-08-21 15:38:52,217 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매']
2025-08-21 15:38:52,218 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 15:38:52,218 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 15:38:52,218 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:38:52,218 - utils - INFO - 📊 입력 그래프 - 노드 수: 2, 엣지 수: 1
2025-08-21 15:38:52,219 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 15:38:52,447 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 15:38:52,447 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:38:52,447 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.357초
2025-08-21 15:38:52,448 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-21 15:38:52,448 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정...
2025-08-21 15:38:52,448 - mms_extractor - INFO - ============================================================
2025-08-21 15:38:52,448 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 15:38:52,448 - mms_extractor - INFO - ============================================================
2025-08-21 15:38:52,448 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-21 15:38:52,448 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 15:38:52,448 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 15:38:52,448 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 15:38:52,448 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 15:38:52,448 - mms_extractor - INFO - process_message 실행완료: 31.73초
2025-08-21 15:38:52,449 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-21 15:38:52,449 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 15:38:52,449 - __main__ - INFO - 추출 완료: 31.729초
2025-08-21 15:38:52,449 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:38:52] "POST /extract HTTP/1.1" 200 -
2025-08-21 15:38:52,471 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:38:52] "GET /health HTTP/1.1" 200 -
2025-08-21 15:41:04,814 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:41:04] "GET /health HTTP/1.1" 200 -
2025-08-21 15:41:06,511 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:41:06] "GET /health HTTP/1.1" 200 -
2025-08-21 15:41:06,545 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:41:06] "GET /health HTTP/1.1" 200 -
2025-08-21 15:41:08,199 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:41:08] "GET /health HTTP/1.1" 200 -
2025-08-21 15:41:08,211 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 15:41:08,211 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 15:41:08,212 - mms_extractor - INFO - ============================================================
2025-08-21 15:41:08,212 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 15:41:08,212 - mms_extractor - INFO - ============================================================
2025-08-21 15:41:08,212 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 15:41:08,212 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 15:41:08,212 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 15:41:08,212 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 15:41:08,212 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 15:41:08,212 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 15:41:08,212 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 15:41:08,212 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 15:41:08,212 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 15:41:08,212 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 15:41:08,212 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 15:41:08,212 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 15:41:08,225 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 15:41:08,228 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 15:41:08,228 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 15:41:08,230 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 15:41:08,230 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 15:41:08,230 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 15:41:08,230 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 15:41:08,808 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 15:41:08,808 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 15:41:08,809 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 15:41:08,809 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 15:41:09,008 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 15:41:09,008 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 15:41:09,008 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 15:41:09,012 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 15:41:09,016 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 15:41:09,016 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 15:41:09,018 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 15:41:09,022 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 15:41:09,023 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 15:41:09,023 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.81초
2025-08-21 15:41:09,023 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:41:09,023 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 15:41:09,023 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 15:41:09,064 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 15:41:09,064 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 15:41:09,064 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 15:41:09,064 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 15:41:09,064 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 15:41:09,064 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 15:41:09,064 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 15:41:09,064 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 15:41:09,064 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 15:41:09,066 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 15:41:09,066 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 15:41:09,066 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 15:41:09,066 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 15:41:09,066 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 15:41:16,958 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:41:16,962 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-21 15:41:16,963 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-21 15:41:16,963 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 15:41:16,964 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 15:41:16,964 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 15:41:16,964 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 15:41:16,964 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 15:41:16,964 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 15:41:17,340 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 15:41:17,340 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 15:41:17,340 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 15:41:17,340 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 15:41:17,340 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 15:41:17,340 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 15:41:17,340 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 15:41:46,207 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 15:41:46,208 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3119자
2025-08-21 15:41:46,209 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 15:41:46,209 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 15:41:46,209 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-21 15:41:46,209 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 15:41:46,210 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-21 15:41:46,210 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-21 15:41:46,210 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 15:41:46,210 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 15:41:46,210 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:41:46,210 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-21 15:41:46,211 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 15:41:46,460 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 15:41:46,460 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 15:41:46,460 - mms_extractor - INFO - 🕒 DAG 처리 시간: 29.120초
2025-08-21 15:41:46,460 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-21 15:41:46,460 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-21 15:41:46,460 - mms_extractor - INFO - ============================================================
2025-08-21 15:41:46,460 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 15:41:46,460 - mms_extractor - INFO - ============================================================
2025-08-21 15:41:46,460 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-21 15:41:46,460 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 15:41:46,460 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 15:41:46,460 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 15:41:46,460 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 15:41:46,461 - mms_extractor - INFO - process_message 실행완료: 38.25초
2025-08-21 15:41:46,461 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-21 15:41:46,461 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 15:41:46,461 - __main__ - INFO - 추출 완료: 38.249초
2025-08-21 15:41:46,461 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:41:46] "POST /extract HTTP/1.1" 200 -
2025-08-21 15:41:46,479 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:41:46] "GET /health HTTP/1.1" 200 -
2025-08-21 15:42:10,915 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 15:42:10] "GET /health HTTP/1.1" 200 -
2025-08-21 16:19:15,804 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:19:15] "GET /health HTTP/1.1" 200 -
2025-08-21 16:19:17,623 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:19:17] "GET /health HTTP/1.1" 200 -
2025-08-21 16:19:17,655 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:19:17] "GET /health HTTP/1.1" 200 -
2025-08-21 16:19:19,019 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:19:19] "GET /health HTTP/1.1" 200 -
2025-08-21 16:19:19,028 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-21 16:19:19,028 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:19:19,028 - mms_extractor - INFO - ============================================================
2025-08-21 16:19:19,029 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:19:19,029 - mms_extractor - INFO - ============================================================
2025-08-21 16:19:19,029 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-21 16:19:19,029 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-21 16:19:19,029 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:19:19,029 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:19:19,029 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:19:19,029 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:19:19,029 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:19:19,029 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:19:19,029 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:19:19,029 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:19:19,029 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:19:19,029 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-21 16:19:19,038 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:19:19,047 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-21 16:19:19,048 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-21 16:19:19,050 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-21 16:19:19,050 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-21 16:19:19,051 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['키즈폰', 'ZEM폰 포켓몬에디션3', '아이']
2025-08-21 16:19:19,051 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:19:38,948 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-21 16:19:38,948 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-21 16:19:38,949 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-21 16:19:38,949 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:19:39,068 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-21 16:19:39,069 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-21 16:19:39,069 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:19:39,072 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-21 16:19:39,075 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-21 16:19:39,076 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-21 16:19:39,077 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-21 16:19:39,081 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-21 16:19:39,081 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-21 16:19:39,081 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 20.05초
2025-08-21 16:19:39,081 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-21 16:19:39,082 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-21 16:19:39,082 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:19:39,182 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:19:39,182 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:19:39,182 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-21 16:19:39,182 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:19:39,182 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-21 16:19:39,182 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-21 16:19:39,182 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-21 16:19:39,182 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:19:39,182 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-21 16:19:39,183 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-21 16:19:39,183 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-21 16:19:39,183 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:19:39,183 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-21 16:19:39,183 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:19:45,571 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:19:45,574 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-21 16:19:45,574 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-21 16:19:45,574 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:19:45,575 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:19:45,575 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:19:45,575 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 16:19:45,575 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:19:45,576 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-21 16:19:45,985 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:19:45,985 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:19:45,985 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:19:45,985 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-21 16:19:45,985 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:19:45,985 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:19:45,985 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-21 16:20:08,273 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:20:08,276 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-21 16:20:08,277 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-21 16:20:08,277 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:20:08,278 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-21 16:20:08,278 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:20:08,278 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-21 16:20:08,278 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-21 16:20:08,279 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-21 16:20:08,279 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:20:08,279 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 16:20:08,279 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-21 16:20:08,282 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:20:09,202 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-21 16:20:09,203 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 16:20:09,203 - mms_extractor - INFO - 🕒 DAG 처리 시간: 23.218초
2025-08-21 16:20:09,203 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-21 16:20:09,203 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-21 16:20:09,203 - mms_extractor - INFO - ============================================================
2025-08-21 16:20:09,203 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:20:09,203 - mms_extractor - INFO - ============================================================
2025-08-21 16:20:09,203 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-21 16:20:09,203 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 16:20:09,203 - mms_extractor - INFO - 상품 수: 2개
2025-08-21 16:20:09,203 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:20:09,203 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:20:09,203 - mms_extractor - INFO - process_message 실행완료: 50.17초
2025-08-21 16:20:09,203 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 6자
2025-08-21 16:20:09,203 - __main__ - INFO - DAG 내용 미리보기: ['(T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)', '(ZEM폰 포켓몬에디션3:사용) -[사용하면]-> (안전한 사용 환경:경험)', '(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)']...
2025-08-21 16:20:09,203 - __main__ - INFO - 추출 완료: 50.175초
2025-08-21 16:20:09,204 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:20:09] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:20:09,220 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:20:09] "GET /health HTTP/1.1" 200 -
2025-08-21 16:20:31,464 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:20:31] "GET /health HTTP/1.1" 200 -
2025-08-21 16:20:31,499 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:20:31] "GET /health HTTP/1.1" 200 -
2025-08-21 16:20:32,460 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:20:32] "GET /health HTTP/1.1" 200 -
2025-08-21 16:20:32,469 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 16:20:32,469 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:20:32,469 - mms_extractor - INFO - ============================================================
2025-08-21 16:20:32,469 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:20:32,469 - mms_extractor - INFO - ============================================================
2025-08-21 16:20:32,469 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 16:20:32,469 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 16:20:32,469 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:20:32,469 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:20:32,469 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:20:32,470 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:20:32,470 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:20:32,470 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:20:32,470 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:20:32,470 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:20:32,470 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:20:32,470 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 16:20:32,482 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:20:32,485 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 16:20:32,485 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 16:20:32,487 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 16:20:32,487 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 16:20:32,487 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 16:20:32,487 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:20:33,043 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 16:20:33,043 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 16:20:33,044 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 16:20:33,044 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:20:33,242 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 16:20:33,243 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 16:20:33,243 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:20:33,246 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 16:20:33,250 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 16:20:33,250 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 16:20:33,251 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 16:20:33,256 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 16:20:33,256 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 16:20:33,256 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.79초
2025-08-21 16:20:33,256 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:20:33,256 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 16:20:33,257 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:20:33,300 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:20:33,300 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:20:33,300 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 16:20:33,300 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:20:33,300 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 16:20:33,300 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:20:33,301 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 16:20:33,301 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:20:33,301 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 16:20:33,302 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 16:20:33,302 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 16:20:33,302 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:20:33,302 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 16:20:33,302 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:20:41,090 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:20:41,094 - mms_extractor - INFO - LLM 응답 길이: 1182 문자
2025-08-21 16:20:41,094 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24+",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 워치6",
            "action": "할인"
        },
        {
            "name": "무선충전기",
        ...
2025-08-21 16:20:41,094 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:20:41,095 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:20:41,096 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:20:41,097 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 제공'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 16:20:41,097 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:20:41,097 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 16:20:41,483 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:20:41,483 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:20:41,483 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:20:41,483 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 16:20:41,483 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:20:41,483 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:20:41,483 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 16:21:08,008 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:21:08,010 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2908자
2025-08-21 16:21:08,011 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 16:21:08,011 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:21:08,012 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-21 16:21:08,012 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:21:08,012 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-21 16:21:08,012 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-21 16:21:08,013 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 16:21:08,013 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:21:08,013 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:21:08,013 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-21 16:21:08,014 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:21:08,261 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 16:21:08,261 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:21:08,261 - mms_extractor - INFO - 🕒 DAG 처리 시간: 26.778초
2025-08-21 16:21:08,261 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-21 16:21:08,261 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-21 16:21:08,261 - mms_extractor - INFO - ============================================================
2025-08-21 16:21:08,261 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:21:08,261 - mms_extractor - INFO - ============================================================
2025-08-21 16:21:08,261 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-21 16:21:08,261 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 16:21:08,261 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 16:21:08,261 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:21:08,261 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:21:08,262 - mms_extractor - INFO - process_message 실행완료: 35.79초
2025-08-21 16:21:08,262 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-21 16:21:08,262 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 16:21:08,262 - __main__ - INFO - 추출 완료: 35.793초
2025-08-21 16:21:08,262 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:21:08] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:21:08,278 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:21:08] "GET /health HTTP/1.1" 200 -
2025-08-21 16:25:53,747 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:25:53] "GET /health HTTP/1.1" 200 -
2025-08-21 16:25:55,460 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:25:55] "GET /health HTTP/1.1" 200 -
2025-08-21 16:25:55,497 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:25:55] "GET /health HTTP/1.1" 200 -
2025-08-21 16:25:57,039 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:25:57] "GET /health HTTP/1.1" 200 -
2025-08-21 16:25:57,044 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 16:25:57,044 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:25:57,044 - mms_extractor - INFO - ============================================================
2025-08-21 16:25:57,044 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:25:57,044 - mms_extractor - INFO - ============================================================
2025-08-21 16:25:57,044 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 16:25:57,044 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 16:25:57,044 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:25:57,044 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:25:57,044 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:25:57,044 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:25:57,044 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:25:57,044 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:25:57,044 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:25:57,044 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:25:57,044 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:25:57,044 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 16:25:57,051 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:25:57,054 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 16:25:57,054 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 16:25:57,056 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 16:25:57,056 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 16:25:57,057 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 16:25:57,057 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:26:04,152 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 16:26:04,152 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 16:26:04,153 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 16:26:04,153 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:26:04,345 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 16:26:04,346 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 16:26:04,346 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:26:04,349 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 16:26:04,353 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 16:26:04,353 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 16:26:04,355 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 16:26:04,360 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 16:26:04,360 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 16:26:04,361 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.32초
2025-08-21 16:26:04,361 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:26:04,361 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 16:26:04,361 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:26:04,403 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:26:04,403 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:26:04,403 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 16:26:04,403 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:26:04,403 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 16:26:04,403 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:26:04,403 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 16:26:04,403 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:26:04,404 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 16:26:04,405 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 16:26:04,405 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 16:26:04,405 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:26:04,405 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 16:26:04,405 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:26:12,108 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:26:12,112 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-21 16:26:12,112 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-21 16:26:12,112 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:26:12,113 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:26:12,113 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:26:12,114 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 16:26:12,114 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:26:12,114 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 16:26:12,571 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:26:12,571 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:26:12,571 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:26:12,571 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 16:26:12,572 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:26:12,572 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:26:12,572 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 16:26:34,863 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:26:34,866 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2502자
2025-08-21 16:26:34,866 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 웹사이트를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 16:26:34,867 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:26:34,867 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-21 16:26:34,867 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:26:34,868 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 2, 엣지 수: 1
2025-08-21 16:26:34,868 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매']
2025-08-21 16:26:34,868 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 16:26:34,868 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:26:34,868 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:26:34,868 - utils - INFO - 📊 입력 그래프 - 노드 수: 2, 엣지 수: 1
2025-08-21 16:26:34,869 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:26:35,114 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 16:26:35,115 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:26:35,115 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.543초
2025-08-21 16:26:35,115 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-21 16:26:35,115 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정...
2025-08-21 16:26:35,115 - mms_extractor - INFO - ============================================================
2025-08-21 16:26:35,115 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:26:35,115 - mms_extractor - INFO - ============================================================
2025-08-21 16:26:35,115 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-21 16:26:35,115 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 16:26:35,115 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 16:26:35,115 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:26:35,115 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:26:35,116 - mms_extractor - INFO - process_message 실행완료: 38.07초
2025-08-21 16:26:35,116 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-21 16:26:35,116 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 16:26:35,116 - __main__ - INFO - 추출 완료: 38.072초
2025-08-21 16:26:35,116 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:26:35] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:26:35,137 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:26:35] "GET /health HTTP/1.1" 200 -
2025-08-21 16:29:33,348 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:29:33] "GET /health HTTP/1.1" 200 -
2025-08-21 16:29:35,443 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:29:35] "GET /health HTTP/1.1" 200 -
2025-08-21 16:29:35,469 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:29:35] "GET /health HTTP/1.1" 200 -
2025-08-21 16:29:36,584 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:29:36] "GET /health HTTP/1.1" 200 -
2025-08-21 16:29:36,596 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 16:29:36,596 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:29:36,596 - mms_extractor - INFO - ============================================================
2025-08-21 16:29:36,596 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:29:36,596 - mms_extractor - INFO - ============================================================
2025-08-21 16:29:36,596 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 16:29:36,596 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 16:29:36,596 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:29:36,596 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:29:36,596 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:29:36,596 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:29:36,596 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:29:36,597 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:29:36,597 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:29:36,597 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:29:36,597 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:29:36,597 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 16:29:36,608 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:29:36,611 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 16:29:36,611 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 16:29:36,613 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 16:29:36,613 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 16:29:36,613 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 16:29:36,613 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:29:37,171 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 16:29:37,171 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 16:29:37,172 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 16:29:37,172 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:29:37,377 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 16:29:37,378 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 16:29:37,378 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:29:37,381 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 16:29:37,385 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 16:29:37,385 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 16:29:37,386 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 16:29:37,391 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 16:29:37,391 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 16:29:37,392 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.79초
2025-08-21 16:29:37,392 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:29:37,392 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 16:29:37,392 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:29:37,432 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:29:37,432 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:29:37,432 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 16:29:37,432 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:29:37,432 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 16:29:37,432 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:29:37,432 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 16:29:37,432 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:29:37,432 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 16:29:37,433 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 16:29:37,433 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 16:29:37,433 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:29:37,434 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 16:29:37,434 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:29:45,224 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:29:45,227 - mms_extractor - INFO - LLM 응답 길이: 1182 문자
2025-08-21 16:29:45,228 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24+",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 워치6",
            "action": "할인"
        },
        {
            "name": "무선충전기",
        ...
2025-08-21 16:29:45,228 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:29:45,230 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:29:45,230 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:29:45,230 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 제공'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 16:29:45,230 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:29:45,230 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 16:29:45,589 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:29:45,589 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:29:45,589 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:29:45,589 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 16:29:45,589 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:29:45,589 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:29:45,589 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 16:30:13,563 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:30:13,566 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-21 16:30:13,567 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 16:30:13,567 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:30:13,567 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-21 16:30:13,567 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:30:13,568 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-21 16:30:13,568 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-21 16:30:13,570 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 16:30:13,570 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:30:13,570 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:30:13,570 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-21 16:30:13,571 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:30:14,191 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 16:30:14,191 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:30:14,191 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.602초
2025-08-21 16:30:14,191 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-21 16:30:14,191 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-21 16:30:14,191 - mms_extractor - INFO - ============================================================
2025-08-21 16:30:14,191 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:30:14,191 - mms_extractor - INFO - ============================================================
2025-08-21 16:30:14,191 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-21 16:30:14,191 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 16:30:14,191 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 16:30:14,191 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:30:14,191 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:30:14,192 - mms_extractor - INFO - process_message 실행완료: 37.60초
2025-08-21 16:30:14,192 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-21 16:30:14,192 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 16:30:14,192 - __main__ - INFO - 추출 완료: 37.596초
2025-08-21 16:30:14,193 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:30:14] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:30:14,226 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:30:14] "GET /health HTTP/1.1" 200 -
2025-08-21 16:32:34,159 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:32:34] "GET /health HTTP/1.1" 200 -
2025-08-21 16:32:35,414 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:32:35] "GET /health HTTP/1.1" 200 -
2025-08-21 16:32:35,451 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:32:35] "GET /health HTTP/1.1" 200 -
2025-08-21 16:32:36,210 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:32:36] "GET /health HTTP/1.1" 200 -
2025-08-21 16:32:36,237 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:32:36] "GET /health HTTP/1.1" 200 -
2025-08-21 16:32:37,603 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:32:37] "GET /health HTTP/1.1" 200 -
2025-08-21 16:32:37,614 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 284자
2025-08-21 16:32:37,614 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:32:37,614 - mms_extractor - INFO - ============================================================
2025-08-21 16:32:37,614 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:32:37,615 - mms_extractor - INFO - ============================================================
2025-08-21 16:32:37,615 - mms_extractor - INFO - 메시지 내용: [T world] 5G 요금제 특가 혜택
(광고) 5G 슈퍼플랜 특가 이벤트 진행 중!

🎯 이달의 특가
- 5G 슈퍼플랜 (데이터 무제한): 월 79,000원 → 39,000원 (50% 할인)
- 가족 추가 회선: 월 29,000원
- YouTube Premium 6개월 무료

📅 이벤트 기간: 2024.01.01 ~ 2024.01.31
🎁 신규 가입 시...
2025-08-21 16:32:37,615 - mms_extractor - INFO - 메시지 길이: 284 문자
2025-08-21 16:32:37,615 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:32:37,615 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:32:37,615 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:32:37,615 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:32:37,615 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:32:37,615 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:32:37,615 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:32:37,615 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:32:37,615 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:32:37,615 - mms_extractor - INFO - 처리할 메시지 길이: 284 문자
2025-08-21 16:32:37,627 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:32:37,632 - mms_extractor - INFO - 분할된 문장 수: 5개
2025-08-21 16:32:37,632 - mms_extractor - INFO - 필터링된 문장들: [' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', '🎯 이달의 특가 5G 슈퍼플랜 데이터 무제한 월 79,000원 50 할인 - 가족 추가 회선 월 - YouTube Premium 무료', '📅 이벤트 기간 🎁 신규 가입 시 갤럭시 버즈 증정']...
2025-08-21 16:32:37,634 - mms_extractor - INFO - 전체 토큰 수: 95개
2025-08-21 16:32:37,634 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '데이터', '-', '-', 'YouTube Premium', '이벤트', '갤럭시', '버즈', '가입', '매장', '매장', '수신거부']
2025-08-21 16:32:37,634 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['YouTube Premium', '갤럭시', '버즈']
2025-08-21 16:32:37,634 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:32:38,079 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6527, 3)
2025-08-21 16:32:38,079 - mms_extractor - INFO - 퍼지 매칭 성공: 6527개 결과
2025-08-21 16:32:38,080 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5555555555555556}]
2025-08-21 16:32:38,080 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:32:38,235 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6527, 3)
2025-08-21 16:32:38,235 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': 'T-world_국제문자_SureM', 'sim': 0.4555555555555556}, {'sent': ' T world 5G 요금제 특가 혜택 광고 5G 슈퍼플랜 특가 이벤트 진행 중 ', 'item_nm_alias': '6월 영화 이벤트', 'sim': 0.5111111111111112}]
2025-08-21 16:32:38,235 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:32:38,239 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 46개
2025-08-21 16:32:38,242 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 2개
2025-08-21 16:32:38,243 - mms_extractor - INFO - 통합된 후보 아이템 수: 48개
2025-08-21 16:32:38,244 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['YouTube Premium', 'premium', 'Premium', '(T)Premium', '(T)premium', 'YouTube Premium 구독', '데이터 속도 premium', '데이터 속도 Premium', 'YouTube Preium(구)', 'YouTube Premium_구독', '광랜', 'G7', 'MT1', '데이터 100', '비즈데이터 월 50', '갤럭시 버디', '플로 무제한', 'T1 요금제', '클럽T Premium', '포켓원-Premium', '데이터15000 할인', '클럽T premium', '포켓원-premium', '5G 45', '티빙 premium', '티빙 Premium', '5G 69', '데이터10000할인', '우주패스(YouTube Premium)②ⓐ', '우주패스(YouTube Premium)②ⓓ', '우주패스(YouTube Premium)②ⓑ', '우주패스(YouTube Premium)②ⓒ', '포인트캠 premium', '포인트캠 Premium', 'T메모링 premium', '안전결제 premium', '안전결제 Premium', 'T알리미 Premium', 'premium2', 'premium1', 'Premium1', 'Premium2', 'T메모링 Premium', 'T알리미 premium', '데이터차단 50']
2025-08-21 16:32:38,249 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (33, 2)
2025-08-21 16:32:38,249 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}, {'item_nm': '5G 69', 'item_id': ['NA00007200']}]
2025-08-21 16:32:38,250 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.63초
2025-08-21 16:32:38,250 - mms_extractor - INFO - 추출된 후보 엔티티: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-21 16:32:38,250 - mms_extractor - INFO - 매칭된 상품 정보: (33, 2)
2025-08-21 16:32:38,250 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:32:38,291 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:32:38,291 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:32:38,291 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 417 문자
2025-08-21 16:32:38,291 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:32:38,291 - mms_extractor - INFO - 후보 아이템 리스트 크기: 45개
2025-08-21 16:32:38,291 - mms_extractor - INFO - 후보 아이템 리스트: ['YouTube Premium' 'premium' 'Premium' '(T)Premium' '(T)premium'
 'YouTube Premium 구독' '데이터 속도 premium' '데이터 속도 Premium'
 'YouTube Preium(구)' 'YouTube Premium_구독' '광랜' 'G7' 'MT1' '데이터 100'
 '비즈데이터 월 50' '갤럭시 버디' '플로 무제한' 'T1 요금제' '클럽T Premium' '포켓원-Premium'
 '데이터15000 할인' '클럽T premium' '포켓원-premium' '5G 45' '티빙 premium'
 '티빙 Premium' '5G 69' '데이터10000할인' '우주패스(YouTube Premium)②ⓐ'
 '우주패스(YouTube Premium)②ⓓ' '우주패스(YouTube Premium)②ⓑ'
 '우주패스(YouTube Premium)②ⓒ' '포인트캠 premium' '포인트캠 Premium' 'T메모링 premium'
 '안전결제 premium' '안전결제 Premium' 'T알리미 Premium' 'premium2' 'premium1'
 'Premium1' 'Premium2' 'T메모링 Premium' 'T알리미 premium' '데이터차단 50']
2025-08-21 16:32:38,291 - mms_extractor - INFO - extra_item_pdf 크기: (33, 2)
2025-08-21 16:32:38,291 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:32:38,291 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005', 'NS00000005']}, {'item_nm': '5G 45', 'item_id': ['NA00007199']}]
2025-08-21 16:32:38,293 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 32개
2025-08-21 16:32:38,293 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '5G 45', 'action': '기타'}]
2025-08-21 16:32:38,293 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:32:38,293 - mms_extractor - INFO - 구성된 프롬프트 길이: 7407 문자
2025-08-21 16:32:38,293 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:32:45,368 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:32:45,372 - mms_extractor - INFO - LLM 응답 길이: 1037 문자
2025-08-21 16:32:45,372 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[T world] 5G 요금제 특가 혜택",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내",
        "경품 제공 안내"
    ],
    "product": [
        {
            "name": "5G 슈퍼플랜 (데이터 무제한)",
            "action": "가입"
        },
        {
            "name": "가족 추가 회선",
            "action": "가입"
        },
        {
            "name": "YouTube Premium",
            "action": "무료 제공"
        },
        {
            "name": "갤럭시 버즈",
            "action": "증정"
        }
    ],
    "channe...
2025-08-21 16:32:45,372 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:32:45,374 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:32:45,374 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:32:45,374 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[T world] 5G 요금제 특가 혜택', 'purpose': ['상품 가입 유도', '혜택 안내', '경품 제공 안내'], 'product': [{'name': '5G 슈퍼플랜 (데이터 무제한)', 'action': '가입'}, {'name': '가족 추가 회선', 'action': '가입'}, {'name': 'YouTube Premium', 'action': '무료 제공'}, {'name': '갤럭시 버즈', 'action': '증정'}], 'channel': [{'type': 'URL', 'value': 'm.tworld.co.kr', 'action': '가입'}, {'type': '대리점', 'value': '전국 T world 매장', 'action': '가입'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '상품및부가서비스가입유도_단말']}
2025-08-21 16:32:45,374 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:32:45,374 - mms_extractor - INFO - LLM 추출 엔티티: ['5G 슈퍼플랜 (데이터 무제한)', '가족 추가 회선', 'YouTube Premium', '갤럭시 버즈']
2025-08-21 16:32:45,844 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:32:45,844 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:32:45,844 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:32:45,844 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 284자
2025-08-21 16:32:45,844 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:32:45,845 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:32:45,845 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3229자
2025-08-21 16:33:09,721 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:33:09,723 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2736자
2025-08-21 16:33:09,723 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
T world에서 5G 슈퍼플랜 요금제의 특가 이벤트를 진행 중이며, 신규 가입자에게 다양한 혜택을 제공하고자 합니다. 주요 혜택은 50% 할인, 가족 추가 회선 할인, YouTube Premium 6개월 무료, 그리고 신규 가입 시 갤럭시 버즈 증정입니다. 가입은 온라인, 매장, 고객센터를 통...
2025-08-21 16:33:09,724 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:33:09,724 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 468자
2025-08-21 16:33:09,724 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:33:09,725 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 9, 엣지 수: 14
2025-08-21 16:33:09,725 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['온라인:가입', '5G 슈퍼플랜:가입', '50%할인:수령', 'YouTube Premium:수령', '갤럭시버즈:수령', '매장:방문', '고객센터:연락', '가족추가회선:가입', '가족추가회선할인:수령']
2025-08-21 16:33:09,726 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('온라인:가입', '5G 슈퍼플랜:가입'), ('온라인:가입', '50%할인:수령'), ('온라인:가입', 'YouTube Premium:수령'), ('온라인:가입', '갤럭시버즈:수령'), ('5G 슈퍼플랜:가입', '가족추가회선:가입'), ('매장:방문', '5G 슈퍼플랜:가입'), ('매장:방문', '50%할인:수령'), ('매장:방문', 'YouTube Premium:수령'), ('매장:방문', '갤럭시버즈:수령'), ('고객센터:연락', '5G 슈퍼플랜:가입'), ('고객센터:연락', '50%할인:수령'), ('고객센터:연락', 'YouTube Premium:수령'), ('고객센터:연락', '갤럭시버즈:수령'), ('가족추가회선:가입', '가족추가회선할인:수령')]
2025-08-21 16:33:09,726 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:33:09,726 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-21 16:33:09,726 - utils - INFO - 📊 입력 그래프 - 노드 수: 9, 엣지 수: 14
2025-08-21 16:33:09,728 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:33:09,968 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00.png
2025-08-21 16:33:09,969 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_c131c6fa4c3b3e8cf5c90a6d769ab54d2eda841fc185e5633f1e2c0948a18c00
2025-08-21 16:33:09,969 - mms_extractor - INFO - 🕒 DAG 처리 시간: 24.124초
2025-08-21 16:33:09,969 - mms_extractor - INFO - 📏 DAG 섹션 길이: 468자
2025-08-21 16:33:09,969 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입)
(온라인:가입) -[가입하면]-> (50%할인:수령)
(온라인:가입) -[가입하면]-> (YouTube Premium:수령)
(온라인:가입) -[가입하면]-> (갤럭시버즈:수령)

(매장:방문) -[방문하여]-> (5G 슈퍼플랜:가입)
(매장:방문) -[가입하면]-> (50%할인:수령)
(매장:방문)...
2025-08-21 16:33:09,969 - mms_extractor - INFO - ============================================================
2025-08-21 16:33:09,969 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:33:09,969 - mms_extractor - INFO - ============================================================
2025-08-21 16:33:09,969 - mms_extractor - INFO - 제목: [T world] 5G 요금제 특가 혜택
2025-08-21 16:33:09,969 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내', '경품 제공 안내']
2025-08-21 16:33:09,969 - mms_extractor - INFO - 상품 수: 2개
2025-08-21 16:33:09,969 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:33:09,969 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:33:09,969 - mms_extractor - INFO - process_message 실행완료: 32.36초
2025-08-21 16:33:09,969 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 14자
2025-08-21 16:33:09,970 - __main__ - INFO - DAG 내용 미리보기: ['(5G 슈퍼플랜:가입) -[가입후]-> (가족추가회선:가입)', '(가족추가회선:가입) -[가입하면]-> (가족추가회선할인:수령)', '(고객센터:연락) -[가입하면]-> (50%할인:수령)', '(고객센터:연락) -[가입하면]-> (YouTube Premium:수령)', '(고객센터:연락) -[가입하면]-> (갤럭시버즈:수령)', '(고객센터:연락) -[연락하여]-> (5G 슈퍼플랜:가입)', '(매장:방문) -[가입하면]-> (50%할인:수령)', '(매장:방문) -[가입하면]-> (YouTube Premium:수령)', '(매장:방문) -[가입하면]-> (갤럭시버즈:수령)', '(매장:방문) -[방문하여]-> (5G 슈퍼플랜:가입)', '(온라인:가입) -[가입하면]-> (50%할인:수령)', '(온라인:가입) -[가입하면]-> (5G 슈퍼플랜:가입)', '(온라인:가입) -[가입하면]-> (YouTube Premium:수령)', '(온라인:가입) -[가입하면]-> (갤럭시버즈:수령)']...
2025-08-21 16:33:09,970 - __main__ - INFO - 추출 완료: 32.355초
2025-08-21 16:33:09,970 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:33:09] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:33:09,986 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:33:09] "GET /health HTTP/1.1" 200 -
2025-08-21 16:36:04,011 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:36:04] "GET /health HTTP/1.1" 200 -
2025-08-21 16:37:25,103 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:37:25] "GET /health HTTP/1.1" 200 -
2025-08-21 16:37:25,140 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:37:25] "GET /health HTTP/1.1" 200 -
2025-08-21 16:37:26,631 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:37:26] "GET /health HTTP/1.1" 200 -
2025-08-21 16:37:26,641 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 16:37:26,641 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:37:26,642 - mms_extractor - INFO - ============================================================
2025-08-21 16:37:26,642 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:37:26,642 - mms_extractor - INFO - ============================================================
2025-08-21 16:37:26,642 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 16:37:26,642 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 16:37:26,642 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:37:26,642 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:37:26,642 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:37:26,642 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:37:26,642 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:37:26,642 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:37:26,642 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:37:26,642 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:37:26,642 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:37:26,642 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 16:37:26,653 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:37:26,656 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 16:37:26,657 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 16:37:26,659 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 16:37:26,659 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 16:37:26,659 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 16:37:26,659 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:37:27,281 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 16:37:27,281 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 16:37:27,282 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 16:37:27,282 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:37:27,488 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 16:37:27,489 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 16:37:27,489 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:37:27,492 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 16:37:27,496 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 16:37:27,496 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 16:37:27,497 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 16:37:27,502 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 16:37:27,502 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 16:37:27,503 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.86초
2025-08-21 16:37:27,503 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:37:27,503 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 16:37:27,503 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:37:27,580 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:37:27,580 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:37:27,580 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 16:37:27,580 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:37:27,580 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 16:37:27,580 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:37:27,581 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 16:37:27,581 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:37:27,581 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 16:37:27,582 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 16:37:27,582 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 16:37:27,582 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:37:27,582 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 16:37:27,582 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:37:35,378 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:37:35,383 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-21 16:37:35,383 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-21 16:37:35,383 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:37:35,385 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:37:35,385 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:37:35,385 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 16:37:35,385 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:37:35,386 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 16:37:35,759 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:37:35,759 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:37:35,759 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:37:35,759 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 16:37:35,760 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:37:35,760 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:37:35,760 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 16:37:58,082 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:37:58,084 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2502자
2025-08-21 16:37:58,084 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 웹사이트를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 16:37:58,084 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:37:58,085 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 270자
2025-08-21 16:37:58,085 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:37:58,085 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 2, 엣지 수: 1
2025-08-21 16:37:58,085 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매']
2025-08-21 16:37:58,085 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱/웹사이트:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 16:37:58,085 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:37:58,086 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:37:58,086 - utils - INFO - 📊 입력 그래프 - 노드 수: 2, 엣지 수: 1
2025-08-21 16:37:58,086 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:37:58,317 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 16:37:58,318 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:37:58,318 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.558초
2025-08-21 16:37:58,318 - mms_extractor - INFO - 📏 DAG 섹션 길이: 270자
2025-08-21 16:37:58,318 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)
(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정...
2025-08-21 16:37:58,318 - mms_extractor - INFO - ============================================================
2025-08-21 16:37:58,318 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:37:58,318 - mms_extractor - INFO - ============================================================
2025-08-21 16:37:58,318 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-21 16:37:58,318 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 16:37:58,318 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 16:37:58,318 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:37:58,318 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:37:58,318 - mms_extractor - INFO - process_message 실행완료: 31.68초
2025-08-21 16:37:58,319 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-21 16:37:58,319 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:할인)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱/웹사이트:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 16:37:58,319 - __main__ - INFO - 추출 완료: 31.677초
2025-08-21 16:37:58,319 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:37:58] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:37:58,336 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:37:58] "GET /health HTTP/1.1" 200 -
2025-08-21 16:39:50,144 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:39:50] "GET /health HTTP/1.1" 200 -
2025-08-21 16:39:54,622 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:39:54] "GET /health HTTP/1.1" 200 -
2025-08-21 16:39:54,648 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:39:54] "GET /health HTTP/1.1" 200 -
2025-08-21 16:39:55,805 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:39:55] "GET /health HTTP/1.1" 200 -
2025-08-21 16:39:55,815 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-21 16:39:55,816 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:39:55,816 - mms_extractor - INFO - ============================================================
2025-08-21 16:39:55,816 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:39:55,816 - mms_extractor - INFO - ============================================================
2025-08-21 16:39:55,816 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-21 16:39:55,816 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-21 16:39:55,816 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:39:55,816 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:39:55,816 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:39:55,816 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:39:55,817 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:39:55,817 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:39:55,817 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:39:55,817 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:39:55,817 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:39:55,817 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-21 16:39:55,828 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:39:55,831 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-21 16:39:55,831 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-21 16:39:55,834 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-21 16:39:55,834 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-21 16:39:55,834 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['키즈폰', 'ZEM폰 포켓몬에디션3', '아이']
2025-08-21 16:39:55,834 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:39:56,351 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-21 16:39:56,351 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-21 16:39:56,351 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-21 16:39:56,352 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:39:56,460 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-21 16:39:56,461 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-21 16:39:56,461 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:39:56,464 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-21 16:39:56,468 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-21 16:39:56,468 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-21 16:39:56,469 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-21 16:39:56,473 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-21 16:39:56,474 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-21 16:39:56,474 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.66초
2025-08-21 16:39:56,474 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-21 16:39:56,474 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-21 16:39:56,474 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:39:56,513 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:39:56,513 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:39:56,513 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-21 16:39:56,513 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:39:56,513 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-21 16:39:56,513 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-21 16:39:56,513 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-21 16:39:56,513 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:39:56,513 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-21 16:39:56,514 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-21 16:39:56,514 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-21 16:39:56,514 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:39:56,515 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-21 16:39:56,515 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:40:02,860 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:40:02,861 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-21 16:40:02,861 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-21 16:40:02,861 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:40:02,862 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:40:02,862 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:40:02,862 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 16:40:02,862 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:40:02,862 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-21 16:40:03,274 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:40:03,275 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:40:03,275 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:40:03,275 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-21 16:40:03,275 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:40:03,275 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:40:03,275 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-21 16:40:25,650 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:40:25,652 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-21 16:40:25,652 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-21 16:40:25,653 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:40:25,653 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-21 16:40:25,653 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:40:25,654 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-21 16:40:25,654 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-21 16:40:25,654 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-21 16:40:25,655 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:40:25,655 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 16:40:25,655 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-21 16:40:25,656 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:40:25,914 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-21 16:40:25,914 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 16:40:25,914 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.639초
2025-08-21 16:40:25,914 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-21 16:40:25,914 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-21 16:40:25,914 - mms_extractor - INFO - ============================================================
2025-08-21 16:40:25,914 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:40:25,914 - mms_extractor - INFO - ============================================================
2025-08-21 16:40:25,914 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-21 16:40:25,914 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 16:40:25,914 - mms_extractor - INFO - 상품 수: 2개
2025-08-21 16:40:25,914 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:40:25,914 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:40:25,914 - mms_extractor - INFO - process_message 실행완료: 30.10초
2025-08-21 16:40:25,915 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 6자
2025-08-21 16:40:25,915 - __main__ - INFO - DAG 내용 미리보기: ['(T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)', '(ZEM폰 포켓몬에디션3:사용) -[사용하면]-> (안전한 사용 환경:경험)', '(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)']...
2025-08-21 16:40:25,915 - __main__ - INFO - 추출 완료: 30.099초
2025-08-21 16:40:25,915 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:40:25] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:40:25,930 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:40:25] "GET /health HTTP/1.1" 200 -
2025-08-21 16:42:30,895 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:42:30] "GET /health HTTP/1.1" 200 -
2025-08-21 16:42:33,295 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:42:33] "GET /health HTTP/1.1" 200 -
2025-08-21 16:42:33,326 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:42:33] "GET /health HTTP/1.1" 200 -
2025-08-21 16:42:34,672 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:42:34] "GET /health HTTP/1.1" 200 -
2025-08-21 16:42:34,684 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-21 16:42:34,684 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:42:34,684 - mms_extractor - INFO - ============================================================
2025-08-21 16:42:34,684 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:42:34,684 - mms_extractor - INFO - ============================================================
2025-08-21 16:42:34,684 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-21 16:42:34,684 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-21 16:42:34,684 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:42:34,684 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:42:34,685 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:42:34,685 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:42:34,685 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:42:34,685 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:42:34,685 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:42:34,685 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:42:34,685 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:42:34,685 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-21 16:42:34,693 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:42:34,696 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-21 16:42:34,697 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-21 16:42:34,699 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-21 16:42:34,699 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-21 16:42:34,700 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['키즈폰', 'ZEM폰 포켓몬에디션3', '아이']
2025-08-21 16:42:34,700 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:42:35,219 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-21 16:42:35,220 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-21 16:42:35,220 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-21 16:42:35,220 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:42:35,330 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-21 16:42:35,331 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-21 16:42:35,331 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:42:35,334 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-21 16:42:35,337 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-21 16:42:35,338 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-21 16:42:35,339 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-21 16:42:35,343 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-21 16:42:35,343 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-21 16:42:35,343 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.66초
2025-08-21 16:42:35,343 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-21 16:42:35,343 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-21 16:42:35,344 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:42:35,374 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:42:35,374 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:42:35,374 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-21 16:42:35,374 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:42:35,374 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-21 16:42:35,374 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-21 16:42:35,374 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-21 16:42:35,374 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:42:35,375 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-21 16:42:35,376 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-21 16:42:35,376 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-21 16:42:35,376 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:42:35,376 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-21 16:42:35,376 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:42:41,698 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:42:41,701 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-21 16:42:41,702 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-21 16:42:41,702 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:42:41,703 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:42:41,703 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:42:41,703 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 16:42:41,703 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:42:41,703 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-21 16:42:42,098 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:42:42,098 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:42:42,098 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:42:42,098 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-21 16:42:42,098 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:42:42,098 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:42:42,098 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-21 16:43:01,853 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:43:01,855 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2227자
2025-08-21 16:43:01,856 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-21 16:43:01,856 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:43:01,857 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 182자
2025-08-21 16:43:01,857 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:43:01,857 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-21 16:43:01,857 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령']
2025-08-21 16:43:01,858 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령')]
2025-08-21 16:43:01,858 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:43:01,858 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 16:43:01,858 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-21 16:43:01,859 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:43:02,427 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-21 16:43:02,427 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 16:43:02,427 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.329초
2025-08-21 16:43:02,427 - mms_extractor - INFO - 📏 DAG 섹션 길이: 182자
2025-08-21 16:43:02,427 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)...
2025-08-21 16:43:02,427 - mms_extractor - INFO - ============================================================
2025-08-21 16:43:02,427 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:43:02,427 - mms_extractor - INFO - ============================================================
2025-08-21 16:43:02,427 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-21 16:43:02,427 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 16:43:02,427 - mms_extractor - INFO - 상품 수: 2개
2025-08-21 16:43:02,427 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:43:02,427 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:43:02,428 - mms_extractor - INFO - process_message 실행완료: 27.74초
2025-08-21 16:43:02,428 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-21 16:43:02,428 - __main__ - INFO - DAG 내용 미리보기: ['(T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)']...
2025-08-21 16:43:02,428 - __main__ - INFO - 추출 완료: 27.744초
2025-08-21 16:43:02,428 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:43:02] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:43:02,446 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:43:02] "GET /health HTTP/1.1" 200 -
2025-08-21 16:45:02,659 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:45:02] "GET /health HTTP/1.1" 200 -
2025-08-21 16:45:13,475 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:45:13] "GET /health HTTP/1.1" 200 -
2025-08-21 16:45:13,504 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:45:13] "GET /health HTTP/1.1" 200 -
2025-08-21 16:45:14,638 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:45:14] "GET /health HTTP/1.1" 200 -
2025-08-21 16:45:14,645 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 16:45:14,645 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:45:14,645 - mms_extractor - INFO - ============================================================
2025-08-21 16:45:14,645 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:45:14,645 - mms_extractor - INFO - ============================================================
2025-08-21 16:45:14,645 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 16:45:14,645 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 16:45:14,645 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:45:14,645 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:45:14,645 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:45:14,645 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:45:14,645 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:45:14,645 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:45:14,646 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:45:14,646 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:45:14,646 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:45:14,646 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 16:45:14,657 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:45:14,661 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 16:45:14,661 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 16:45:14,663 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 16:45:14,663 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 16:45:14,663 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 16:45:14,663 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:45:15,304 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 16:45:15,304 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 16:45:15,305 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 16:45:15,305 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:45:15,500 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 16:45:15,501 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 16:45:15,501 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:45:15,504 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 16:45:15,508 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 16:45:15,508 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 16:45:15,510 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 16:45:15,515 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 16:45:15,516 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 16:45:15,516 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.87초
2025-08-21 16:45:15,516 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:45:15,516 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 16:45:15,516 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:45:15,549 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:45:15,549 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:45:15,549 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 16:45:15,549 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:45:15,549 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 16:45:15,549 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:45:15,549 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 16:45:15,549 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:45:15,549 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 16:45:15,551 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 16:45:15,551 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 16:45:15,551 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:45:15,551 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 16:45:15,551 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:45:23,391 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:45:23,395 - mms_extractor - INFO - LLM 응답 길이: 1182 문자
2025-08-21 16:45:23,395 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24+",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 워치6",
            "action": "할인"
        },
        {
            "name": "무선충전기",
        ...
2025-08-21 16:45:23,395 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:45:23,396 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:45:23,397 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:45:23,398 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 제공'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 16:45:23,398 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:45:23,399 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 16:45:23,754 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:45:23,754 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:45:23,754 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:45:23,755 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 16:45:23,755 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:45:23,755 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:45:23,755 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 16:45:51,881 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:45:51,884 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-21 16:45:51,884 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 16:45:51,885 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:45:51,886 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-21 16:45:51,886 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:45:51,886 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-21 16:45:51,886 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-21 16:45:51,887 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 16:45:51,887 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:45:51,888 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:45:51,888 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-21 16:45:51,889 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:45:52,103 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 16:45:52,104 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:45:52,104 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.349초
2025-08-21 16:45:52,104 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-21 16:45:52,104 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-21 16:45:52,104 - mms_extractor - INFO - ============================================================
2025-08-21 16:45:52,104 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:45:52,104 - mms_extractor - INFO - ============================================================
2025-08-21 16:45:52,104 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-21 16:45:52,104 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 16:45:52,104 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 16:45:52,104 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:45:52,104 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:45:52,106 - mms_extractor - INFO - process_message 실행완료: 37.46초
2025-08-21 16:45:52,106 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-21 16:45:52,106 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 16:45:52,106 - __main__ - INFO - 추출 완료: 37.461초
2025-08-21 16:45:52,107 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:45:52] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:45:52,130 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:45:52] "GET /health HTTP/1.1" 200 -
2025-08-21 16:50:16,159 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:50:16] "GET /health HTTP/1.1" 200 -
2025-08-21 16:50:25,670 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:50:25] "GET /health HTTP/1.1" 200 -
2025-08-21 16:50:31,875 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:50:31] "GET /health HTTP/1.1" 200 -
2025-08-21 16:50:33,800 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:50:33] "GET /health HTTP/1.1" 200 -
2025-08-21 16:50:33,827 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:50:33] "GET /health HTTP/1.1" 200 -
2025-08-21 16:50:34,642 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:50:34] "GET /health HTTP/1.1" 200 -
2025-08-21 16:50:34,654 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-21 16:50:34,654 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:50:34,654 - mms_extractor - INFO - ============================================================
2025-08-21 16:50:34,654 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:50:34,654 - mms_extractor - INFO - ============================================================
2025-08-21 16:50:34,654 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-21 16:50:34,654 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-21 16:50:34,654 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:50:34,654 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:50:34,654 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:50:34,654 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:50:34,654 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:50:34,655 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:50:34,655 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:50:34,655 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:50:34,655 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:50:34,655 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-21 16:50:34,662 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:50:34,665 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-21 16:50:34,666 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-21 16:50:34,668 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-21 16:50:34,668 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-21 16:50:34,668 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '갤럭시', '충전기']
2025-08-21 16:50:34,668 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:50:52,159 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-21 16:50:52,159 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-21 16:50:52,160 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-21 16:50:52,160 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:50:52,358 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-21 16:50:52,358 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-21 16:50:52,358 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:50:52,362 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-21 16:50:52,366 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-21 16:50:52,366 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-21 16:50:52,367 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-21 16:50:52,371 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-21 16:50:52,372 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-21 16:50:52,372 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 17.72초
2025-08-21 16:50:52,372 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:50:52,372 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-21 16:50:52,372 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:50:52,408 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:50:52,408 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:50:52,408 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-21 16:50:52,408 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:50:52,408 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-21 16:50:52,409 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra' 'Ultra' '갤럭시 S25+' '갤럭시 A25' '갤럭시 S22' '갤럭시 S25' '갤럭시 S22+'
 '갤럭시 A30' '갤럭시 S25 ultra' '갤럭시 S25 ULTRA' '갤럭시 S25 Ultra' '갤럭시 A40'
 '갤럭시 A24' '갤럭시 S24 ultra_256G' '갤럭시 S24 Ultra_256G' '갤럭시 S24 ULTRA_256G'
 '갤럭시S' '갤럭시A' '갤럭시S2' '갤럭시 워치 ultra' '갤럭시S4' '갤럭시 워치 Ultra' '갤럭시A5'
 '갤럭시S5' '갤럭시S3' '갤럭시 S24 ULTRA_1T' '갤럭시 S24 Ultra_1T' 'S20' 'R300' 'L2'
 'I8' 'D2' '갤럭시 S24 ultra_1T' '갤럭시 워치 ULTRA' '갤럭시A3' '갤럭시 S24 ULTRA_512G'
 '갤럭시 S24 Ultra_512G' '갤럭시 S24 ultra_512G' '갤럭시 TAB S4' '갤럭시 TAB S2'
 '갤럭시 tab S4' '갤럭시 Tab S4' '갤럭시 A32' '갤럭시 A34' '갤럭시 A33' '갤럭시 A15'
 '갤럭시 S10' '갤럭시 A53' '갤럭시 S21+' '갤럭시 A31' '갤럭시 A23' '상시20%할인' 'SK텔레콤(주)'
 '갤럭시 S21' '갤럭시 A80' '갤럭시 S24 FE' '상시 30% 할인' '갤럭시 북S' '갤럭시 J4+' '갤럭시 A6'
 '갤럭시 탭 S4' '갤럭시 탭 S2' '갤럭시 A8' '갤럭시 노트20 Ultra' '갤럭시 S24+_256G' 'CU 할인'
 '갤럭시 워치6 40mm' '갤럭시 S24_256G' 'T 탭 24' 'T 탭 18' '갤럭시 A12'
 '갤럭시 탭 S9 Ultra' '갤럭시 탭 S8 Ultra' '갤럭시 S22 ULTRA_256G'
 '갤럭시 S20 ULTRA_256G' '갤럭시 S20 Ultra_256G' '갤럭시 S23 ultra_256G'
 '갤럭시 S23 Ultra_256G' '갤럭시 S23 ULTRA_256G' '갤럭시 S22 ultra_256G'
 '갤럭시 S22 Ultra_256G' '갤럭시 S21 ultra_256G' '갤럭시 S21 Ultra_256G'
 '갤럭시 S21 ULTRA_256G' '갤럭시 S20 ultra_256G' '갤럭시 A5(2016)' '갤럭시 A5(2017)'
 '갤럭시 TAB S10+' '갤럭시 S24+_512G' '(KTF)갤럭시 S25 ultra' '(LGU)갤럭시 S25 ultra'
 '(LGU)갤럭시 S25 Ultra' '(KTF)갤럭시 S25 Ultra' '갤럭시S2 LTE' '갤럭시 TAB S6'
 '갤럭시S22 Ultra 클럽' '갤럭시 Tab S6' '갤럭시 Tab S8' '갤럭시 Tab S8+' '갤럭시 Tab S9'
 '갤럭시 Tab S9+' '갤럭시 tab S6' 'T 탭 9' '더 예약' '갤럭시 S23 ultra_512G' '갤럭시 노트20'
 '갤럭시 S21 ultra_512G' 'T LoL팩' 'Ultra 햅틱' 'ultra 햅틱' '갤럭시 A10e' '갤럭시 A21S'
 '갤럭시 S10e' '갤럭시 S21 Ultra_512G' '갤럭시 S22 Ultra_512G' '갤럭시 S25 ultra_512G'
 '갤럭시 S22 ultra_512G' '갤럭시 S23 Ultra_512G' '갤럭시 S24_512G'
 '갤럭시 S25 ULTRA_1T' '갤럭시 S25 Ultra_1T' '갤럭시 S25 Ultra_512G'
 '갤럭시 S25 ultra_1T' '일상플러스(무료)']
2025-08-21 16:50:52,409 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-21 16:50:52,409 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:50:52,409 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-21 16:50:52,410 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-21 16:50:52,410 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-21 16:50:52,410 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:50:52,410 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-21 16:50:52,410 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:51:00,116 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:51:00,120 - mms_extractor - INFO - LLM 응답 길이: 1168 문자
2025-08-21 16:51:00,120 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24+",
            "action": "구매"
        },
        {
            "name": "갤럭시 S24",
            "action": "구매"
        },
        {
            "name": "갤럭시 워치6",
            "action": "구매"
        },
        {
            "name": "무선충전기",
            "action": ...
2025-08-21 16:51:00,120 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:51:00,121 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:51:00,121 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:51:00,122 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '구매'}, {'name': '갤럭시 S24+', 'action': '구매'}, {'name': '갤럭시 S24', 'action': '구매'}, {'name': '갤럭시 워치6', 'action': '구매'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 이용'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 16:51:00,122 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:51:00,122 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-21 16:51:00,483 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:51:00,483 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:51:00,483 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:51:00,483 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-21 16:51:00,483 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:51:00,483 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:51:00,483 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-21 16:51:31,043 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:51:31,045 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3384자
2025-08-21 16:51:31,045 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-21 16:51:31,045 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:51:31,046 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 502자
2025-08-21 16:51:31,046 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:51:31,046 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-21 16:51:31,046 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장예약링크:예약']
2025-08-21 16:51:31,047 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장예약링크:예약', '갤럭시 S24 시리즈:구매')]
2025-08-21 16:51:31,047 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:51:31,047 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:51:31,047 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-21 16:51:31,048 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:51:31,299 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-21 16:51:31,299 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-21 16:51:31,299 - mms_extractor - INFO - 🕒 DAG 처리 시간: 30.816초
2025-08-21 16:51:31,299 - mms_extractor - INFO - 📏 DAG 섹션 길이: 502자
2025-08-21 16:51:31,299 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-21 16:51:31,299 - mms_extractor - INFO - ============================================================
2025-08-21 16:51:31,299 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:51:31,299 - mms_extractor - INFO - ============================================================
2025-08-21 16:51:31,299 - mms_extractor - INFO - 제목: 갤럭시 S24 사전예약
2025-08-21 16:51:31,299 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 16:51:31,300 - mms_extractor - INFO - 상품 수: 4개
2025-08-21 16:51:31,300 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:51:31,300 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:51:31,300 - mms_extractor - INFO - process_message 실행완료: 56.65초
2025-08-21 16:51:31,300 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-21 16:51:31,300 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:6개월무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장예약링크:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장예약링크:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장예약링크:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:6개월무료이용)', '(매장예약링크:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-21 16:51:31,300 - __main__ - INFO - 추출 완료: 56.646초
2025-08-21 16:51:31,301 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:51:31] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:51:31,316 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:51:31] "GET /health HTTP/1.1" 200 -
2025-08-21 16:56:37,139 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:56:37] "GET /health HTTP/1.1" 200 -
2025-08-21 16:56:40,135 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:56:40] "GET /health HTTP/1.1" 200 -
2025-08-21 16:56:40,171 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:56:40] "GET /health HTTP/1.1" 200 -
2025-08-21 16:56:42,363 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:56:42] "GET /health HTTP/1.1" 200 -
2025-08-21 16:56:42,372 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-21 16:56:42,372 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 16:56:42,372 - mms_extractor - INFO - ============================================================
2025-08-21 16:56:42,372 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 16:56:42,373 - mms_extractor - INFO - ============================================================
2025-08-21 16:56:42,373 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-21 16:56:42,373 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-21 16:56:42,373 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 16:56:42,373 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 16:56:42,373 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 16:56:42,373 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 16:56:42,373 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 16:56:42,373 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 16:56:42,373 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 16:56:42,374 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 16:56:42,374 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 16:56:42,374 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-21 16:56:42,382 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 16:56:42,384 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-21 16:56:42,385 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-21 16:56:42,387 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-21 16:56:42,387 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-21 16:56:42,387 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['키즈폰', 'ZEM폰 포켓몬에디션3', '아이']
2025-08-21 16:56:42,387 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 16:56:49,832 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-21 16:56:49,833 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-21 16:56:49,833 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-21 16:56:49,833 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 16:56:49,939 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-21 16:56:49,939 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-21 16:56:49,940 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 16:56:49,943 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-21 16:56:49,947 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-21 16:56:49,947 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-21 16:56:49,948 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-21 16:56:49,953 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-21 16:56:49,953 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-21 16:56:49,954 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.58초
2025-08-21 16:56:49,954 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-21 16:56:49,954 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-21 16:56:49,954 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 16:56:50,107 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 16:56:50,107 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 16:56:50,107 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-21 16:56:50,107 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 16:56:50,107 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-21 16:56:50,107 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-21 16:56:50,107 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-21 16:56:50,107 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 16:56:50,107 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-21 16:56:50,109 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-21 16:56:50,109 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-21 16:56:50,109 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 16:56:50,109 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-21 16:56:50,109 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 16:57:00,366 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:57:00,371 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-21 16:57:00,372 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-21 16:57:00,372 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 16:57:00,375 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 16:57:00,376 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 16:57:00,376 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 16:57:00,376 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 16:57:00,376 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-21 16:57:00,850 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 16:57:00,851 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 16:57:00,851 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 16:57:00,851 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-21 16:57:00,851 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 16:57:00,851 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 16:57:00,851 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-21 16:57:21,849 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 16:57:21,849 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2227자
2025-08-21 16:57:21,849 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-21 16:57:21,849 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 16:57:21,850 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 182자
2025-08-21 16:57:21,850 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 16:57:21,850 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-21 16:57:21,850 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령']
2025-08-21 16:57:21,850 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령')]
2025-08-21 16:57:21,850 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 16:57:21,850 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 16:57:21,850 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-21 16:57:21,850 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 16:57:22,114 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-21 16:57:22,115 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 16:57:22,115 - mms_extractor - INFO - 🕒 DAG 처리 시간: 21.264초
2025-08-21 16:57:22,115 - mms_extractor - INFO - 📏 DAG 섹션 길이: 182자
2025-08-21 16:57:22,115 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)...
2025-08-21 16:57:22,115 - mms_extractor - INFO - ============================================================
2025-08-21 16:57:22,115 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 16:57:22,115 - mms_extractor - INFO - ============================================================
2025-08-21 16:57:22,115 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-21 16:57:22,115 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 16:57:22,115 - mms_extractor - INFO - 상품 수: 2개
2025-08-21 16:57:22,115 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 16:57:22,115 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 16:57:22,115 - mms_extractor - INFO - process_message 실행완료: 39.74초
2025-08-21 16:57:22,116 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-21 16:57:22,116 - __main__ - INFO - DAG 내용 미리보기: ['(T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)']...
2025-08-21 16:57:22,116 - __main__ - INFO - 추출 완료: 39.743초
2025-08-21 16:57:22,116 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:57:22] "POST /extract HTTP/1.1" 200 -
2025-08-21 16:57:22,139 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 16:57:22] "GET /health HTTP/1.1" 200 -
2025-08-21 17:01:04,120 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:01:04] "GET /health HTTP/1.1" 200 -
2025-08-21 17:01:05,600 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:01:05] "GET /health HTTP/1.1" 200 -
2025-08-21 17:01:05,627 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:01:05] "GET /health HTTP/1.1" 200 -
2025-08-21 17:01:09,116 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:01:09] "GET /health HTTP/1.1" 200 -
2025-08-21 17:01:09,123 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-21 17:01:09,123 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 17:01:09,123 - mms_extractor - INFO - ============================================================
2025-08-21 17:01:09,123 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 17:01:09,123 - mms_extractor - INFO - ============================================================
2025-08-21 17:01:09,123 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-21 17:01:09,123 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-21 17:01:09,123 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 17:01:09,123 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 17:01:09,123 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 17:01:09,123 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 17:01:09,123 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 17:01:09,124 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 17:01:09,124 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 17:01:09,124 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 17:01:09,124 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 17:01:09,124 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-21 17:01:09,133 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 17:01:09,136 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-21 17:01:09,137 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-21 17:01:09,139 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-21 17:01:09,139 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-21 17:01:09,139 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['키즈폰', 'ZEM폰 포켓몬에디션3', '아이']
2025-08-21 17:01:09,139 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 17:01:09,651 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-21 17:01:09,651 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-21 17:01:09,651 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-21 17:01:09,651 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 17:01:09,757 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-21 17:01:09,758 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-21 17:01:09,758 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 17:01:09,761 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-21 17:01:09,765 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-21 17:01:09,765 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-21 17:01:09,767 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-21 17:01:09,771 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-21 17:01:09,771 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-21 17:01:09,772 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.65초
2025-08-21 17:01:09,772 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-21 17:01:09,772 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-21 17:01:09,772 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 17:01:09,816 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 17:01:09,816 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 17:01:09,816 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-21 17:01:09,816 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 17:01:09,816 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-21 17:01:09,816 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3' 'ZEM폰 포켓몬에디션2' '리안' '이마트' '포미' '치안' 'kt키즈폰' '레이'
 '포켓원-프리미엄' '0서비스' '스마트로' '스키' '우리아이' 'SK텔레콤(주)' '(T)프리미엄' 'I-프리미엄'
 'T 서비스' '포켓원-무료서비스' '미스테리 서비스' '프리미엄 플러스']
2025-08-21 17:01:09,816 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-21 17:01:09,816 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 17:01:09,816 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-21 17:01:09,818 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-21 17:01:09,818 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-21 17:01:09,818 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 17:01:09,818 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-21 17:01:09,818 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 17:01:16,144 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 17:01:16,147 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-21 17:01:16,148 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-21 17:01:16,148 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 17:01:16,148 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 17:01:16,149 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 17:01:16,149 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 17:01:16,149 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 17:01:16,149 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-21 17:01:16,555 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 17:01:16,556 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 17:01:16,556 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 17:01:16,556 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-21 17:01:16,556 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x3251286b0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x32ed19880> root_client=<openai.OpenAI object at 0x325083fe0> root_async_client=<openai.AsyncOpenAI object at 0x3251280b0> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 17:01:16,556 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 17:01:16,556 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-21 17:01:37,520 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 17:01:37,524 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2335자
2025-08-21 17:01:37,524 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 다양한 특별 혜택을 강조합니다. 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 등의 혜택을 통해 구매를 유도하고 있습니다.

[식별된 가치 제안 목록]
...
2025-08-21 17:01:37,525 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 17:01:37,526 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 271자
2025-08-21 17:01:37,527 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 17:01:37,527 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 7, 엣지 수: 6
2025-08-21 17:01:37,528 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM 앱:사용']
2025-08-21 17:01:37,528 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 앱:사용'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매')]
2025-08-21 17:01:37,528 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 17:01:37,528 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 17:01:37,528 - utils - INFO - 📊 입력 그래프 - 노드 수: 7, 엣지 수: 6
2025-08-21 17:01:37,530 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 17:01:38,277 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-21 17:01:38,277 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 17:01:38,277 - mms_extractor - INFO - 🕒 DAG 처리 시간: 21.721초
2025-08-21 17:01:38,277 - mms_extractor - INFO - 📏 DAG 섹션 길이: 271자
2025-08-21 17:01:38,277 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-21 17:01:38,277 - mms_extractor - INFO - ============================================================
2025-08-21 17:01:38,277 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 17:01:38,277 - mms_extractor - INFO - ============================================================
2025-08-21 17:01:38,277 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-21 17:01:38,277 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 17:01:38,277 - mms_extractor - INFO - 상품 수: 2개
2025-08-21 17:01:38,277 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 17:01:38,277 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 17:01:38,278 - mms_extractor - INFO - process_message 실행완료: 29.15초
2025-08-21 17:01:38,278 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 6자
2025-08-21 17:01:38,278 - __main__ - INFO - DAG 내용 미리보기: ['(T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 앱:사용)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)', '(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)']...
2025-08-21 17:01:38,278 - __main__ - INFO - 추출 완료: 29.155초
2025-08-21 17:01:38,279 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:01:38] "POST /extract HTTP/1.1" 200 -
2025-08-21 17:01:38,302 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:01:38] "GET /health HTTP/1.1" 200 -
2025-08-21 17:10:26,741 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-21 17:10:26,741 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-21 17:10:26,741 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-21 17:10:26,741 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-21 17:10:26,741 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-21 17:10:26,761 - mms_extractor - INFO - Using device: mps
2025-08-21 17:10:26,761 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-21 17:10:26,762 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-21 17:10:26,762 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-21 17:10:26,762 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-21 17:10:26,762 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-21 17:10:26,762 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-21 17:10:30,657 - mms_extractor - INFO - Model loaded on mps
2025-08-21 17:10:30,657 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 3.90초
2025-08-21 17:10:31,114 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-21 17:10:31,114 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.46초
2025-08-21 17:10:31,114 - mms_extractor - INFO - ============================================================
2025-08-21 17:10:31,114 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-21 17:10:31,114 - mms_extractor - INFO - ============================================================
2025-08-21 17:10:31,114 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-21 17:10:31,114 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-21 17:10:31,114 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-21 17:10:31,114 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-21 17:10:31,114 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-21 17:10:31,223 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-21 17:10:31,223 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-21 17:10:31,231 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-21 17:10:31,235 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-21 17:10:31,236 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-21 17:10:31,239 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-21 17:10:31,239 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-21 17:10:31,239 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-21 17:10:31,239 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-21 17:10:31,240 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-21 17:10:31,240 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-21 17:10:31,240 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-21 17:10:31,246 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-21 17:10:31,247 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-21 17:10:31,247 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-21 17:10:31,550 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-21 17:10:31,552 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-21 17:10:31,552 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-21 17:10:31,552 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-21 17:10:31,552 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-21 17:10:31,553 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-21 17:10:31,553 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-21 17:10:31,553 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-21 17:10:31,553 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-21 17:10:31,560 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-21 17:10:31,562 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-21 17:10:31,562 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-21 17:10:31,612 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-21 17:10:31,613 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-21 17:10:31,613 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-21 17:10:31,624 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-21 17:10:31,625 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-21 17:10:31,811 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-21 17:10:31,811 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-21 17:10:31,812 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-21 17:10:32,310 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-21 17:10:32,311 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-21 17:10:32,311 - mms_extractor - INFO - ============================================================
2025-08-21 17:10:32,311 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-21 17:10:32,311 - mms_extractor - INFO - ============================================================
2025-08-21 17:10:32,311 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-21 17:10:32,311 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-21 17:10:32,311 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-21 17:10:32,311 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-21 17:10:32,311 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-21 17:10:32,316 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-21 17:10:32,322 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-21 17:10:32,326 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-21 17:10:32,326 - mms_extractor - INFO - _load_data 실행완료: 1.21초
2025-08-21 17:10:32,326 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-21 17:10:32,327 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-21 17:10:32,327 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-21 17:10:32,327 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-21 17:10:32,327 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-21 17:10:32,327 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-21 17:10:32,327 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-21 17:10:32,327 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-21 17:10:32,327 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-21 17:10:32,327 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-21 17:10:32,327 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-21 17:10:32,349 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.101:8000
2025-08-21 17:10:32,349 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-21 17:41:01,542 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-21 17:41:01,543 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-21 17:41:01,543 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-21 17:41:01,543 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-21 17:41:01,543 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-21 17:41:01,564 - mms_extractor - INFO - Using device: mps
2025-08-21 17:41:01,564 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-21 17:41:01,565 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-21 17:41:01,565 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-21 17:41:01,565 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-21 17:41:01,565 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-21 17:41:01,565 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-21 17:41:07,530 - mms_extractor - INFO - Model loaded on mps
2025-08-21 17:41:07,530 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 5.97초
2025-08-21 17:41:08,003 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-21 17:41:08,003 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.47초
2025-08-21 17:41:08,003 - mms_extractor - INFO - ============================================================
2025-08-21 17:41:08,003 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-21 17:41:08,003 - mms_extractor - INFO - ============================================================
2025-08-21 17:41:08,003 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-21 17:41:08,003 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-21 17:41:08,003 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-21 17:41:08,003 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-21 17:41:08,003 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-21 17:41:08,115 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-21 17:41:08,116 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-21 17:41:08,124 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-21 17:41:08,128 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-21 17:41:08,129 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-21 17:41:08,133 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-21 17:41:08,133 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-21 17:41:08,133 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-21 17:41:08,133 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-21 17:41:08,133 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-21 17:41:08,133 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-21 17:41:08,134 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-21 17:41:08,138 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-21 17:41:08,139 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-21 17:41:08,139 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-21 17:41:08,442 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-21 17:41:08,443 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-21 17:41:08,443 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-21 17:41:08,444 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-21 17:41:08,444 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-21 17:41:08,445 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-21 17:41:08,445 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-21 17:41:08,445 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-21 17:41:08,445 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-21 17:41:08,452 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-21 17:41:08,454 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-21 17:41:08,454 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-21 17:41:08,507 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-21 17:41:08,508 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-21 17:41:08,508 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-21 17:41:08,519 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-21 17:41:08,519 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-21 17:41:08,715 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-21 17:41:08,715 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-21 17:41:08,715 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-21 17:41:09,203 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-21 17:41:09,203 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-21 17:41:09,203 - mms_extractor - INFO - ============================================================
2025-08-21 17:41:09,203 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-21 17:41:09,203 - mms_extractor - INFO - ============================================================
2025-08-21 17:41:09,203 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-21 17:41:09,203 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-21 17:41:09,203 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-21 17:41:09,203 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-21 17:41:09,203 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-21 17:41:09,208 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-21 17:41:09,216 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-21 17:41:09,220 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-21 17:41:09,220 - mms_extractor - INFO - _load_data 실행완료: 1.22초
2025-08-21 17:41:09,220 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-21 17:41:09,220 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-21 17:41:09,220 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-21 17:41:09,220 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-21 17:41:09,220 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-21 17:41:09,220 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-21 17:41:09,220 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-21 17:41:09,220 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-21 17:41:09,220 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-21 17:41:09,220 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-21 17:41:09,220 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-21 17:41:09,245 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.101:8000
2025-08-21 17:41:09,245 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-21 17:41:51,099 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:41:51] "GET /health HTTP/1.1" 200 -
2025-08-21 17:42:01,384 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:42:01] "GET /health HTTP/1.1" 200 -
2025-08-21 17:42:13,980 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:42:13] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-21 17:42:13,981 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-21 17:42:13,981 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-21 17:42:13,981 - mms_extractor - INFO - ============================================================
2025-08-21 17:42:13,981 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-21 17:42:13,981 - mms_extractor - INFO - ============================================================
2025-08-21 17:42:13,981 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-21 17:42:13,981 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-21 17:42:13,981 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-21 17:42:13,981 - mms_extractor - INFO - 데이터 소스: local
2025-08-21 17:42:13,981 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-21 17:42:13,981 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-21 17:42:13,981 - mms_extractor - INFO - LLM 모델: ax
2025-08-21 17:42:13,982 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-21 17:42:13,982 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-21 17:42:13,982 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-21 17:42:13,982 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-21 17:42:13,982 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-21 17:42:13,989 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-21 17:42:14,587 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-21 17:42:14,588 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-21 17:42:14,589 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-21 17:42:14,590 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-21 17:42:14,590 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-21 17:42:14,590 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-21 17:42:21,957 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-21 17:42:21,957 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-21 17:42:21,964 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-21 17:42:21,964 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-21 17:42:22,070 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-21 17:42:22,070 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-21 17:42:22,070 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-21 17:42:22,073 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-21 17:42:22,078 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-21 17:42:22,079 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-21 17:42:22,080 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-21 17:42:22,084 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-21 17:42:22,084 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-21 17:42:22,085 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 8.10초
2025-08-21 17:42:22,085 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-21 17:42:22,085 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-21 17:42:22,085 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-21 17:42:22,174 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-21 17:42:22,174 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-21 17:42:22,174 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-21 17:42:22,174 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-21 17:42:22,174 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-21 17:42:22,174 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-21 17:42:22,174 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-21 17:42:22,174 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-21 17:42:22,174 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-21 17:42:22,176 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-21 17:42:22,176 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-21 17:42:22,176 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-21 17:42:22,176 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-21 17:42:22,176 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-21 17:42:28,696 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 17:42:28,706 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-21 17:42:28,706 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-21 17:42:28,706 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-21 17:42:28,706 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-21 17:42:28,707 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-21 17:42:28,707 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-21 17:42:28,707 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-21 17:42:28,707 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-21 17:42:29,132 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-21 17:42:29,132 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-21 17:42:29,132 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-21 17:42:29,132 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-21 17:42:29,132 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x34e6b5850> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x3599ae6f0> root_client=<openai.OpenAI object at 0x34e6b5be0> root_async_client=<openai.AsyncOpenAI object at 0x34e6b5520> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-21 17:42:29,132 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-21 17:42:29,132 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-21 17:42:31,331 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:42:31] "GET /health HTTP/1.1" 200 -
2025-08-21 17:42:48,961 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-21 17:42:48,962 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2227자
2025-08-21 17:42:48,962 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-21 17:42:48,962 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-21 17:42:48,963 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 182자
2025-08-21 17:42:48,963 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-21 17:42:48,963 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 4
2025-08-21 17:42:48,963 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령']
2025-08-21 17:42:48,963 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령')]
2025-08-21 17:42:48,963 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-21 17:42:48,963 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 17:42:48,963 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 4
2025-08-21 17:42:48,964 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-21 17:42:49,579 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-21 17:42:49,580 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-21 17:42:49,580 - mms_extractor - INFO - 🕒 DAG 처리 시간: 20.448초
2025-08-21 17:42:49,580 - mms_extractor - INFO - 📏 DAG 섹션 길이: 182자
2025-08-21 17:42:49,580 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)...
2025-08-21 17:42:49,580 - mms_extractor - INFO - ============================================================
2025-08-21 17:42:49,580 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-21 17:42:49,580 - mms_extractor - INFO - ============================================================
2025-08-21 17:42:49,580 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-21 17:42:49,580 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-21 17:42:49,580 - mms_extractor - INFO - 상품 수: 2개
2025-08-21 17:42:49,580 - mms_extractor - INFO - 채널 수: 4개
2025-08-21 17:42:49,580 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-21 17:42:49,581 - mms_extractor - INFO - process_message 실행완료: 35.60초
2025-08-21 17:42:49,581 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 4자
2025-08-21 17:42:49,581 - __main__ - INFO - DAG 내용 미리보기: ['(T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)']...
2025-08-21 17:42:49,581 - __main__ - INFO - 추출 완료: 35.600초
2025-08-21 17:42:49,581 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:42:49] "POST /extract HTTP/1.1" 200 -
2025-08-21 17:43:01,335 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:43:01] "GET /health HTTP/1.1" 200 -
2025-08-21 17:43:31,714 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:43:31] "GET /health HTTP/1.1" 200 -
2025-08-21 17:44:01,715 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:44:01] "GET /health HTTP/1.1" 200 -
2025-08-21 17:44:31,711 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:44:31] "GET /health HTTP/1.1" 200 -
2025-08-21 17:45:01,716 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:45:01] "GET /health HTTP/1.1" 200 -
2025-08-21 17:45:58,717 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:45:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:46:58,711 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:46:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:47:58,710 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:47:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:48:58,717 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:48:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:49:58,714 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:49:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:50:58,715 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:50:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:51:58,711 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:51:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:52:58,712 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:52:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:53:58,708 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:53:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:54:58,709 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:54:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:55:58,708 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:55:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:56:58,710 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:56:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:57:58,710 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:57:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:58:58,708 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:58:58] "GET /health HTTP/1.1" 200 -
2025-08-21 17:59:58,703 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 17:59:58] "GET /health HTTP/1.1" 200 -
2025-08-21 18:00:58,700 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:00:58] "GET /health HTTP/1.1" 200 -
2025-08-21 18:01:58,705 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:01:58] "GET /health HTTP/1.1" 200 -
2025-08-21 18:02:58,696 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:02:58] "GET /health HTTP/1.1" 200 -
2025-08-21 18:03:58,699 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:03:58] "GET /health HTTP/1.1" 200 -
2025-08-21 18:04:58,697 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:04:58] "GET /health HTTP/1.1" 200 -
2025-08-21 18:05:58,763 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:05:58] "GET /health HTTP/1.1" 200 -
2025-08-21 18:06:58,766 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:06:58] "GET /health HTTP/1.1" 200 -
2025-08-21 18:07:58,765 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:07:58] "GET /health HTTP/1.1" 200 -
2025-08-21 18:08:58,767 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:08:58] "GET /health HTTP/1.1" 200 -
2025-08-21 18:09:59,079 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:09:59] "GET /health HTTP/1.1" 200 -
2025-08-21 18:16:09,762 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:16:09] "GET /health HTTP/1.1" 200 -
2025-08-21 18:18:14,861 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:18:14] "GET /health HTTP/1.1" 200 -
2025-08-21 18:24:04,505 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:24:04] "GET /health HTTP/1.1" 200 -
2025-08-21 18:34:24,786 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:34:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:35:24,794 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:35:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:36:24,771 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:36:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:37:24,784 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:37:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:38:24,750 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:38:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:39:24,775 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:39:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:40:24,790 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:40:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:41:24,780 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:41:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:42:24,782 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:42:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:43:24,747 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:43:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:44:24,779 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:44:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:45:24,743 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:45:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:46:24,764 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:46:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:47:24,779 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:47:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:48:24,745 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:48:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:49:24,760 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:49:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:50:24,738 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:50:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:51:24,769 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:51:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:52:24,775 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:52:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:53:24,759 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:53:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:54:24,738 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:54:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:55:24,770 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:55:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:56:24,750 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:56:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:57:24,749 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:57:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:58:24,765 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:58:24] "GET /health HTTP/1.1" 200 -
2025-08-21 18:59:24,754 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 18:59:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:00:24,760 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:00:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:01:24,753 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:01:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:02:24,753 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:02:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:03:24,766 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:03:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:04:24,755 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:04:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:05:24,799 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:05:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:06:24,782 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:06:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:07:24,795 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:07:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:08:24,787 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:08:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:09:24,761 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:09:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:10:24,797 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:10:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:11:24,780 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:11:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:12:24,763 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:12:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:13:24,793 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:13:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:14:24,785 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:14:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:15:24,763 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:15:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:16:24,797 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:16:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:17:24,782 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:17:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:18:24,784 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:18:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:19:24,781 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:19:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:20:24,796 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:20:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:21:24,758 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:21:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:22:24,798 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:22:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:23:24,820 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:23:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:24:24,789 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:24:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:25:24,787 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:25:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:26:24,824 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:26:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:27:24,806 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:27:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:28:24,818 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:28:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:29:24,813 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:29:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:30:24,788 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:30:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:31:24,816 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:31:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:32:24,810 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:32:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:33:24,817 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:33:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:34:24,789 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:34:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:35:24,821 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:35:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:36:24,809 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:36:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:37:24,822 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:37:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:38:24,816 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:38:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:39:24,805 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:39:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:40:24,824 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:40:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:41:24,792 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:41:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:42:24,822 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:42:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:43:24,807 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:43:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:44:24,790 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:44:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:45:24,786 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:45:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:46:24,807 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:46:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:47:24,821 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:47:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:48:24,810 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:48:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:49:24,814 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:49:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:50:24,793 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:50:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:51:24,788 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:51:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:52:24,794 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:52:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:53:24,811 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:53:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:54:24,816 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:54:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:55:24,791 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:55:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:56:24,809 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:56:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:57:24,821 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:57:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:58:24,824 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:58:24] "GET /health HTTP/1.1" 200 -
2025-08-21 19:59:24,813 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 19:59:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:00:24,818 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:00:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:01:24,794 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:01:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:02:24,814 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:02:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:03:24,792 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:03:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:04:24,815 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:04:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:05:24,792 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:05:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:06:24,811 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:06:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:07:24,806 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:07:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:08:24,792 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:08:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:09:24,793 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:09:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:10:24,823 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:10:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:11:24,823 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:11:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:12:24,814 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:12:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:13:24,816 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:13:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:14:24,840 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:14:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:15:24,834 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:15:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:16:24,851 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:16:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:17:24,873 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:17:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:18:24,867 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:18:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:19:24,869 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:19:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:20:24,868 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:20:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:21:24,869 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:21:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:22:24,860 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:22:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:23:24,841 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:23:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:24:24,858 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:24:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:25:24,844 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:25:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:26:24,855 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:26:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:27:24,859 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:27:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:28:24,874 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:28:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:29:24,843 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:29:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:30:24,882 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:30:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:31:24,872 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:31:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:32:24,875 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:32:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:33:24,876 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:33:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:34:24,870 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:34:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:35:24,849 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:35:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:36:24,848 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:36:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:37:24,878 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:37:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:38:24,850 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:38:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:39:24,868 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:39:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:40:24,888 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:40:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:41:24,853 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:41:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:42:24,878 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:42:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:43:24,850 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:43:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:44:24,875 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:44:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:45:24,890 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:45:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:46:24,873 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:46:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:47:24,888 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:47:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:48:24,875 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:48:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:49:24,824 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:49:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:50:24,813 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:50:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:51:24,848 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:51:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:52:24,845 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:52:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:53:24,840 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:53:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:54:24,814 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:54:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:55:24,809 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:55:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:56:24,840 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:56:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:57:24,834 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:57:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:58:24,829 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:58:24] "GET /health HTTP/1.1" 200 -
2025-08-21 20:59:24,833 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 20:59:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:00:24,806 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:00:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:01:24,838 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:01:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:02:24,839 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:02:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:03:24,818 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:03:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:04:24,813 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:04:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:05:24,818 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:05:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:06:24,815 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:06:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:07:24,851 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:07:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:08:24,839 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:08:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:09:24,830 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:09:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:10:24,814 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:10:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:11:24,850 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:11:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:12:24,815 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:12:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:13:24,815 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:13:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:14:24,837 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:14:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:15:24,816 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:15:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:16:24,845 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:16:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:17:24,847 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:17:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:18:24,834 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:18:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:19:24,832 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:19:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:20:24,812 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:20:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:21:24,831 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:21:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:22:24,833 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:22:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:23:24,828 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:23:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:24:24,831 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:24:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:25:24,815 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:25:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:26:24,826 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:26:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:27:24,834 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:27:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:28:24,841 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:28:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:29:24,808 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:29:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:30:24,864 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:30:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:31:24,864 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:31:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:32:24,863 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:32:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:33:24,870 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:33:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:34:24,894 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:34:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:35:24,897 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:35:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:36:24,886 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:36:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:37:24,866 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:37:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:38:24,892 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:38:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:39:24,871 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:39:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:40:24,899 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:40:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:41:24,874 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:41:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:42:24,890 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:42:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:43:24,873 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:43:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:44:24,895 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:44:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:45:24,871 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:45:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:46:24,893 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:46:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:47:24,912 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:47:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:48:24,901 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:48:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:49:24,878 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:49:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:50:24,878 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:50:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:51:24,882 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:51:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:52:24,910 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:52:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:53:24,912 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:53:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:54:24,904 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:54:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:55:24,916 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:55:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:56:24,917 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:56:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:57:24,881 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:57:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:58:24,908 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:58:24] "GET /health HTTP/1.1" 200 -
2025-08-21 21:59:24,887 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 21:59:24] "GET /health HTTP/1.1" 200 -
2025-08-21 22:00:24,886 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 22:00:24] "GET /health HTTP/1.1" 200 -
2025-08-21 22:01:24,912 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 22:01:24] "GET /health HTTP/1.1" 200 -
2025-08-21 22:02:24,879 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 22:02:24] "GET /health HTTP/1.1" 200 -
2025-08-21 22:03:24,886 - werkzeug - INFO - 127.0.0.1 - - [21/Aug/2025 22:03:24] "GET /health HTTP/1.1" 200 -
2025-08-22 18:53:22,839 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:53:22] "GET /health HTTP/1.1" 200 -
2025-08-22 18:53:24,737 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:53:24] "GET /health HTTP/1.1" 200 -
2025-08-22 18:53:52,908 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:53:52] "GET /health HTTP/1.1" 200 -
2025-08-22 18:54:22,912 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:54:22] "GET /health HTTP/1.1" 200 -
2025-08-22 18:54:52,908 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:54:52] "GET /health HTTP/1.1" 200 -
2025-08-22 18:55:22,905 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:55:22] "GET /health HTTP/1.1" 200 -
2025-08-22 18:55:52,905 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:55:52] "GET /health HTTP/1.1" 200 -
2025-08-22 18:56:22,901 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:56:22] "GET /health HTTP/1.1" 200 -
2025-08-22 18:57:29,909 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:57:29] "GET /health HTTP/1.1" 200 -
2025-08-22 18:58:29,906 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:58:29] "GET /health HTTP/1.1" 200 -
2025-08-22 18:59:29,907 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 18:59:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:00:29,902 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:00:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:01:29,904 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:01:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:02:29,905 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:02:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:03:29,905 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:03:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:04:29,903 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:04:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:05:29,903 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:05:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:06:29,903 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:06:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:07:29,906 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:07:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:08:29,900 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:08:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:09:29,900 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:09:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:10:29,900 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:10:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:11:29,901 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:11:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:12:29,899 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:12:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:13:29,900 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:13:29] "GET /health HTTP/1.1" 200 -
2025-08-22 19:14:32,736 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:14:32] "GET /health HTTP/1.1" 200 -
2025-08-22 19:32:09,443 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:32:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:33:09,452 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:33:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:34:09,444 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:34:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:35:09,436 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:35:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:36:09,411 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:36:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:37:09,440 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:37:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:38:09,446 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:38:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:39:09,434 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:39:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:40:09,437 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:40:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:41:09,445 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:41:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:42:09,442 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:42:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:43:09,438 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:43:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:44:09,413 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:44:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:45:09,433 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:45:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:46:09,441 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:46:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:47:09,438 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:47:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:48:09,430 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:48:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:49:09,428 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:49:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:50:09,400 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:50:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:51:09,402 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:51:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:52:09,406 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:52:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:53:09,409 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:53:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:54:09,426 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:54:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:55:09,423 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:55:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:56:09,400 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:56:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:57:09,398 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:57:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:58:09,423 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:58:09] "GET /health HTTP/1.1" 200 -
2025-08-22 19:59:09,402 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 19:59:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:00:09,396 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:00:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:01:09,404 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:01:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:02:09,428 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:02:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:03:09,393 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:03:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:04:09,418 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:04:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:05:09,417 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:05:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:06:09,434 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:06:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:07:09,393 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:07:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:08:09,396 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:08:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:09:09,412 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:09:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:10:09,431 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:10:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:11:09,411 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:11:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:12:09,445 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:12:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:13:09,411 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:13:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:14:09,448 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:14:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:15:09,407 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:15:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:16:09,413 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:16:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:17:09,437 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:17:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:18:09,409 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:18:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:19:09,444 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:19:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:20:09,406 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:20:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:21:09,401 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:21:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:22:09,411 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:22:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:23:09,440 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:23:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:24:09,442 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:24:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:25:09,411 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:25:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:26:09,409 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:26:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:27:09,406 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:27:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:28:09,429 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:28:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:29:09,409 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:29:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:30:09,428 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:30:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:31:09,413 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:31:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:32:09,411 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:32:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:33:09,411 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:33:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:34:09,433 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:34:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:35:09,410 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:35:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:36:09,443 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:36:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:37:09,429 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:37:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:38:09,432 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:38:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:39:09,431 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:39:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:40:09,416 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:40:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:41:09,409 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:41:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:42:09,406 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:42:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:43:09,408 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:43:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:44:09,449 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:44:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:45:09,445 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:45:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:46:09,484 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:46:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:47:09,476 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:47:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:48:09,473 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:48:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:49:09,451 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:49:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:50:09,451 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:50:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:51:09,453 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:51:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:52:09,451 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:52:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:53:09,458 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:53:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:54:09,487 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:54:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:55:09,479 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:55:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:56:09,456 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:56:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:57:09,491 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:57:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:58:09,489 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:58:09] "GET /health HTTP/1.1" 200 -
2025-08-22 20:59:09,462 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 20:59:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:00:09,462 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:00:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:01:09,502 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:01:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:02:09,496 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:02:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:03:09,486 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:03:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:04:09,462 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:04:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:05:09,468 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:05:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:06:09,468 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:06:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:07:09,494 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:07:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:08:09,502 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:08:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:09:09,489 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:09:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:10:09,493 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:10:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:11:09,471 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:11:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:12:09,503 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:12:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:13:09,491 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:13:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:14:09,494 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:14:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:15:09,497 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:15:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:16:09,474 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:16:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:17:09,477 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:17:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:18:09,483 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:18:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:19:09,440 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:19:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:20:09,473 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:20:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:21:09,447 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:21:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:22:09,450 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:22:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:23:09,447 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:23:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:24:09,472 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:24:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:25:09,453 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:25:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:26:09,490 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:26:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:27:09,472 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:27:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:28:09,452 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:28:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:29:09,454 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:29:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:30:09,474 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:30:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:31:09,448 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:31:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:32:09,484 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:32:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:33:09,472 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:33:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:34:09,477 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:34:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:35:09,454 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:35:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:36:09,456 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:36:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:37:09,452 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:37:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:38:09,488 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:38:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:39:09,456 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:39:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:40:09,478 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:40:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:41:09,455 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:41:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:42:09,479 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:42:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:43:09,445 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:43:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:44:09,486 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:44:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:45:09,444 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:45:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:46:09,451 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:46:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:47:09,472 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:47:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:48:09,449 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:48:09] "GET /health HTTP/1.1" 200 -
2025-08-22 21:50:47,031 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:50:47] "GET /health HTTP/1.1" 200 -
2025-08-22 21:51:47,049 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:51:47] "GET /health HTTP/1.1" 200 -
2025-08-22 21:52:47,060 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:52:47] "GET /health HTTP/1.1" 200 -
2025-08-22 21:53:47,063 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:53:47] "GET /health HTTP/1.1" 200 -
2025-08-22 21:54:47,051 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:54:47] "GET /health HTTP/1.1" 200 -
2025-08-22 21:55:47,050 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:55:47] "GET /health HTTP/1.1" 200 -
2025-08-22 21:56:47,024 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:56:47] "GET /health HTTP/1.1" 200 -
2025-08-22 21:57:47,031 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:57:47] "GET /health HTTP/1.1" 200 -
2025-08-22 21:58:47,029 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:58:47] "GET /health HTTP/1.1" 200 -
2025-08-22 21:59:47,050 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 21:59:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:00:47,048 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:00:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:01:47,059 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:01:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:02:47,021 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:02:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:03:47,022 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:03:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:04:47,045 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:04:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:05:47,046 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:05:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:06:47,079 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:06:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:07:47,058 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:07:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:08:47,028 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:08:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:09:47,020 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:09:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:10:47,023 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:10:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:11:47,026 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:11:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:12:47,026 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:12:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:13:47,026 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:13:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:14:47,032 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:14:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:15:47,053 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:15:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:16:47,026 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:16:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:17:47,024 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:17:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:18:47,059 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:18:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:19:47,042 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:19:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:20:47,024 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:20:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:21:47,026 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:21:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:22:47,030 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:22:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:23:47,046 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:23:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:24:47,027 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:24:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:25:47,021 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:25:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:26:47,025 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:26:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:27:47,061 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:27:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:28:47,052 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:28:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:29:47,049 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:29:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:30:47,029 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:30:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:31:46,977 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:31:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:32:47,014 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:32:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:33:47,008 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:33:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:34:46,988 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:34:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:35:46,998 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:35:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:36:46,997 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:36:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:37:46,972 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:37:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:38:46,998 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:38:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:39:47,010 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:39:47] "GET /health HTTP/1.1" 200 -
2025-08-22 22:40:46,971 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:40:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:41:46,993 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:41:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:42:46,969 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:42:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:43:46,988 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:43:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:44:46,965 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:44:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:45:46,992 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:45:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:46:46,972 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:46:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:47:46,965 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:47:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:48:46,997 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:48:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:49:46,992 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:49:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:50:46,985 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:50:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:51:46,955 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:51:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:52:46,952 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:52:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:53:46,981 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:53:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:54:46,979 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:54:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:55:46,971 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:55:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:56:46,950 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:56:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:57:46,945 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:57:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:58:46,972 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:58:46] "GET /health HTTP/1.1" 200 -
2025-08-22 22:59:46,945 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 22:59:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:00:46,952 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:00:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:01:46,978 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:01:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:02:46,943 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:02:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:03:46,972 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:03:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:04:46,973 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:04:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:05:46,963 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:05:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:06:46,969 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:06:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:07:46,939 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:07:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:08:46,937 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:08:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:09:46,963 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:09:46] "GET /health HTTP/1.1" 200 -
2025-08-22 23:10:46,957 - werkzeug - INFO - 127.0.0.1 - - [22/Aug/2025 23:10:46] "GET /health HTTP/1.1" 200 -
2025-08-23 16:13:35,919 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:13:35] "GET /health HTTP/1.1" 200 -
2025-08-23 16:14:05,915 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:14:05] "GET /health HTTP/1.1" 200 -
2025-08-23 16:14:35,912 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:14:35] "GET /health HTTP/1.1" 200 -
2025-08-23 16:15:05,912 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:15:05] "GET /health HTTP/1.1" 200 -
2025-08-23 16:15:35,913 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:15:35] "GET /health HTTP/1.1" 200 -
2025-08-23 16:16:05,913 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:16:05] "GET /health HTTP/1.1" 200 -
2025-08-23 16:17:13,939 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:17:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:18:13,934 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:18:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:19:13,957 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:19:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:20:13,937 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:20:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:21:13,921 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:21:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:22:13,940 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:22:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:23:13,947 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:23:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:24:13,942 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:24:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:25:13,920 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:25:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:26:13,946 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:26:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:27:13,923 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:27:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:28:13,923 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:28:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:29:13,925 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:29:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:30:13,921 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:30:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:31:13,925 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:31:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:32:13,924 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:32:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:33:13,943 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:33:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:34:13,922 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:34:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:35:13,923 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:35:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:36:13,944 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:36:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:37:13,944 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:37:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:38:13,919 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:38:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:39:13,913 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:39:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:40:13,915 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:40:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:41:13,913 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:41:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:42:13,916 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:42:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:43:13,920 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:43:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:44:13,915 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:44:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:45:13,917 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:45:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:46:13,921 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:46:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:47:13,922 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:47:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:48:13,914 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:48:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:49:13,921 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:49:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:50:13,918 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:50:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:51:13,922 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:51:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:52:13,919 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:52:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:53:13,921 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:53:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:54:13,926 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:54:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:55:13,862 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:55:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:56:13,861 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:56:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:57:13,863 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:57:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:58:13,862 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:58:13] "GET /health HTTP/1.1" 200 -
2025-08-23 16:59:13,851 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 16:59:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:00:13,849 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:00:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:01:13,850 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:01:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:02:13,850 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:02:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:03:13,861 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:03:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:04:13,848 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:04:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:05:13,859 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:05:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:06:13,848 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:06:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:07:13,849 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:07:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:08:13,857 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:08:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:09:13,852 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:09:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:10:13,848 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:10:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:11:13,955 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:11:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:12:13,959 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:12:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:13:13,992 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:13:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:14:13,953 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:14:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:15:13,959 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:15:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:16:13,966 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:16:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:17:13,961 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:17:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:18:13,955 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:18:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:19:13,962 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:19:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:20:13,965 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:20:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:21:13,966 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:21:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:22:13,967 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:22:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:23:13,964 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:23:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:24:13,969 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:24:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:25:13,962 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:25:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:26:13,967 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:26:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:27:13,968 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:27:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:28:13,972 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:28:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:29:13,969 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:29:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:30:13,969 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:30:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:31:13,970 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:31:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:32:13,985 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:32:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:33:13,974 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:33:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:34:13,973 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:34:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:35:13,970 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:35:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:36:13,978 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:36:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:37:13,974 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:37:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:38:13,971 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:38:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:39:13,976 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:39:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:40:13,974 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:40:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:41:13,977 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:41:13] "GET /health HTTP/1.1" 200 -
2025-08-23 17:58:26,804 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:58:26] "GET /health HTTP/1.1" 200 -
2025-08-23 17:59:26,799 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 17:59:26] "GET /health HTTP/1.1" 200 -
2025-08-23 18:00:26,837 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:00:26] "GET /health HTTP/1.1" 200 -
2025-08-23 18:01:26,818 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:01:26] "GET /health HTTP/1.1" 200 -
2025-08-23 18:02:26,828 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:02:26] "GET /health HTTP/1.1" 200 -
2025-08-23 18:03:26,794 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:03:26] "GET /health HTTP/1.1" 200 -
2025-08-23 18:19:46,633 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:19:46] "GET /health HTTP/1.1" 200 -
2025-08-23 18:20:46,605 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:20:46] "GET /health HTTP/1.1" 200 -
2025-08-23 18:21:46,633 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:21:46] "GET /health HTTP/1.1" 200 -
2025-08-23 18:22:46,605 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:22:46] "GET /health HTTP/1.1" 200 -
2025-08-23 18:23:46,626 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:23:46] "GET /health HTTP/1.1" 200 -
2025-08-23 18:39:55,043 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:39:55] "GET /health HTTP/1.1" 200 -
2025-08-23 18:40:55,043 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:40:55] "GET /health HTTP/1.1" 200 -
2025-08-23 18:41:55,008 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:41:55] "GET /health HTTP/1.1" 200 -
2025-08-23 18:42:55,026 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:42:55] "GET /health HTTP/1.1" 200 -
2025-08-23 18:43:55,024 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:43:55] "GET /health HTTP/1.1" 200 -
2025-08-23 18:44:55,024 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:44:55] "GET /health HTTP/1.1" 200 -
2025-08-23 18:45:55,005 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:45:55] "GET /health HTTP/1.1" 200 -
2025-08-23 18:46:55,021 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 18:46:55] "GET /health HTTP/1.1" 200 -
2025-08-23 19:03:00,923 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:03:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:04:00,951 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:04:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:05:00,920 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:05:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:06:00,921 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:06:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:07:00,956 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:07:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:08:00,938 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:08:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:09:00,947 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:09:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:10:00,936 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:10:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:11:00,916 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:11:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:12:00,915 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:12:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:13:00,903 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:13:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:14:00,902 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:14:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:15:00,897 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:15:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:16:00,900 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:16:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:17:00,906 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:17:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:18:00,900 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:18:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:19:00,900 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:19:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:20:00,896 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:20:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:21:00,899 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:21:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:22:00,899 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:22:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:23:00,895 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:23:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:24:00,902 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:24:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:25:00,893 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:25:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:26:00,888 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:26:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:27:00,891 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:27:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:28:00,889 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:28:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:29:00,889 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:29:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:30:00,882 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:30:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:31:00,885 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:31:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:32:00,883 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:32:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:33:00,881 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:33:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:34:00,879 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:34:00] "GET /health HTTP/1.1" 200 -
2025-08-23 19:36:54,709 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:36:54] "GET /health HTTP/1.1" 200 -
2025-08-23 19:53:24,503 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:53:24] "GET /health HTTP/1.1" 200 -
2025-08-23 19:54:24,531 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:54:24] "GET /health HTTP/1.1" 200 -
2025-08-23 19:55:24,514 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:55:24] "GET /health HTTP/1.1" 200 -
2025-08-23 19:56:24,512 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:56:24] "GET /health HTTP/1.1" 200 -
2025-08-23 19:57:24,517 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:57:24] "GET /health HTTP/1.1" 200 -
2025-08-23 19:58:24,528 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:58:24] "GET /health HTTP/1.1" 200 -
2025-08-23 19:59:24,493 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 19:59:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:00:24,495 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:00:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:01:24,499 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:01:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:02:24,501 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:02:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:03:24,533 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:03:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:04:24,498 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:04:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:05:24,522 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:05:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:06:24,524 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:06:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:07:24,537 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:07:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:08:24,505 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:08:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:09:24,538 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:09:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:10:24,521 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:10:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:11:24,542 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:11:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:12:24,546 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:12:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:13:24,510 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:13:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:14:24,535 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:14:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:15:24,510 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:15:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:16:24,534 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:16:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:17:24,514 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:17:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:18:24,550 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:18:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:19:24,542 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:19:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:20:24,514 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:20:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:21:24,519 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:21:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:22:24,557 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:22:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:23:24,526 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:23:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:24:24,538 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:24:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:25:24,552 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:25:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:26:24,549 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:26:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:27:24,557 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:27:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:28:24,525 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:28:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:29:24,527 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:29:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:30:24,551 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:30:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:31:24,557 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:31:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:32:24,527 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:32:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:33:24,569 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:33:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:34:24,555 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:34:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:35:24,530 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:35:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:36:24,557 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:36:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:37:24,536 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:37:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:38:24,536 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:38:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:39:24,558 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:39:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:40:24,555 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:40:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:41:24,566 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:41:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:42:24,572 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:42:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:43:24,573 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:43:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:44:24,566 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:44:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:45:24,563 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:45:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:46:24,567 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:46:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:47:24,481 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:47:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:48:24,444 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:48:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:49:24,443 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:49:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:50:24,441 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:50:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:51:24,473 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:51:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:52:24,439 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:52:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:53:24,444 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:53:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:54:24,465 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:54:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:55:24,458 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:55:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:56:24,471 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:56:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:57:24,435 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:57:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:58:24,434 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:58:24] "GET /health HTTP/1.1" 200 -
2025-08-23 20:59:24,472 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 20:59:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:00:24,454 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:00:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:01:24,455 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:01:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:02:24,506 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:02:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:03:24,435 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:03:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:04:24,462 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:04:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:05:24,454 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:05:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:06:24,459 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:06:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:07:24,458 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:07:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:08:24,422 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:08:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:09:24,452 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:09:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:10:24,447 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:10:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:11:24,425 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:11:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:12:24,421 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:12:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:13:24,459 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:13:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:14:24,426 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:14:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:15:24,419 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:15:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:16:24,452 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:16:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:17:24,453 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:17:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:18:24,462 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:18:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:19:24,408 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:19:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:20:24,428 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:20:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:21:24,439 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:21:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:22:24,409 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:22:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:23:24,469 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:23:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:24:24,486 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:24:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:25:24,493 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:25:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:26:24,487 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:26:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:27:24,500 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:27:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:28:24,464 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:28:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:29:24,492 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:29:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:30:24,485 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:30:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:31:24,467 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:31:24] "GET /health HTTP/1.1" 200 -
2025-08-23 21:32:24,492 - werkzeug - INFO - 127.0.0.1 - - [23/Aug/2025 21:32:24] "GET /health HTTP/1.1" 200 -
2025-08-25 08:40:11,720 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:40:11] "GET /health HTTP/1.1" 200 -
2025-08-25 08:40:40,141 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:40:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:41:10,141 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:41:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:41:40,142 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:41:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:42:10,139 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:42:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:42:40,140 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:42:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:43:10,139 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:43:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:43:40,142 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:43:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:44:10,139 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:44:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:44:40,135 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:44:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:45:10,134 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:45:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:45:40,138 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:45:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:46:10,135 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:46:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:46:40,138 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:46:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:47:10,139 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:47:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:47:40,140 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:47:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:48:10,136 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:48:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:48:40,141 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:48:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:49:10,140 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:49:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:49:40,137 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:49:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:50:10,136 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:50:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:50:40,138 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:50:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:51:10,137 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:51:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:51:40,135 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:51:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:52:10,134 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:52:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:52:40,139 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:52:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:53:10,134 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:53:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:53:40,134 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:53:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:54:10,136 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:54:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:54:40,137 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:54:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:55:10,137 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:55:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:55:40,132 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:55:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:56:10,137 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:56:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:56:40,135 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:56:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:57:10,138 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:57:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:57:40,135 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:57:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:58:10,133 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:58:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:58:40,137 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:58:40] "GET /health HTTP/1.1" 200 -
2025-08-25 08:59:10,135 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:59:10] "GET /health HTTP/1.1" 200 -
2025-08-25 08:59:40,135 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 08:59:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:00:10,133 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:00:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:00:40,133 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:00:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:01:10,129 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:01:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:01:40,131 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:01:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:02:10,130 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:02:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:02:40,129 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:02:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:03:10,127 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:03:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:03:40,126 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:03:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:04:10,129 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:04:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:04:40,129 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:04:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:05:10,128 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:05:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:05:40,127 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:05:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:06:10,124 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:06:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:06:40,128 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:06:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:07:10,126 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:07:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:07:40,124 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:07:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:08:10,130 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:08:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:08:40,128 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:08:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:09:10,123 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:09:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:09:40,127 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:09:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:10:10,122 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:10:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:10:40,123 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:10:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:11:10,120 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:11:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:11:40,123 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:11:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:12:10,127 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:12:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:12:40,126 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:12:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:13:10,121 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:13:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:13:40,121 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:13:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:14:10,120 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:14:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:14:40,117 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:14:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:15:10,120 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:15:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:15:40,119 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:15:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:16:10,117 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:16:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:16:40,117 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:16:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:17:10,116 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:17:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:17:40,121 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:17:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:18:10,120 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:18:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:18:40,119 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:18:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:19:10,113 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:19:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:19:40,113 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:19:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:20:10,110 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:20:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:20:40,101 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:20:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:21:10,096 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:21:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:21:40,097 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:21:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:22:10,093 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:22:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:22:40,098 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:22:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:23:10,096 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:23:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:23:40,098 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:23:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:24:10,095 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:24:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:24:40,096 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:24:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:25:10,093 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:25:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:25:40,095 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:25:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:26:10,094 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:26:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:26:40,089 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:26:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:27:10,095 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:27:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:27:40,088 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:27:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:28:10,089 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:28:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:28:40,088 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:28:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:29:10,086 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:29:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:29:40,087 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:29:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:30:10,085 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:30:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:30:40,087 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:30:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:31:10,085 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:31:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:32:07,453 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-25 09:32:07,453 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-25 09:32:07,453 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-25 09:32:07,453 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-25 09:32:07,453 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-25 09:32:07,516 - mms_extractor - INFO - Using device: mps
2025-08-25 09:32:07,516 - mms_extractor - INFO - _initialize_device 실행완료: 0.06초
2025-08-25 09:32:07,516 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-25 09:32:07,517 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-25 09:32:07,517 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-25 09:32:07,517 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-25 09:32:07,517 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-25 09:32:14,217 - mms_extractor - INFO - Model loaded on mps
2025-08-25 09:32:14,217 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 6.70초
2025-08-25 09:32:14,685 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-25 09:32:14,685 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.47초
2025-08-25 09:32:14,685 - mms_extractor - INFO - ============================================================
2025-08-25 09:32:14,685 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-25 09:32:14,685 - mms_extractor - INFO - ============================================================
2025-08-25 09:32:14,685 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-25 09:32:14,685 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-25 09:32:14,685 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-25 09:32:14,685 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-25 09:32:14,685 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-25 09:32:14,797 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-25 09:32:14,798 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-25 09:32:14,806 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-25 09:32:14,810 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-25 09:32:14,811 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-25 09:32:14,816 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-25 09:32:14,816 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-25 09:32:14,816 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-25 09:32:14,816 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-25 09:32:14,816 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-25 09:32:14,816 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-25 09:32:14,816 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-25 09:32:14,822 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-25 09:32:14,823 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-25 09:32:14,823 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-25 09:32:15,128 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-25 09:32:15,130 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-25 09:32:15,130 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-25 09:32:15,130 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-25 09:32:15,130 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-25 09:32:15,131 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-25 09:32:15,131 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-25 09:32:15,131 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-25 09:32:15,131 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-25 09:32:15,139 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-25 09:32:15,141 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-25 09:32:15,141 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-25 09:32:15,195 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-25 09:32:15,196 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-25 09:32:15,196 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-25 09:32:15,207 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-25 09:32:15,207 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-25 09:32:15,446 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-25 09:32:15,446 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-25 09:32:15,446 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-25 09:32:15,946 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-25 09:32:15,947 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-25 09:32:15,947 - mms_extractor - INFO - ============================================================
2025-08-25 09:32:15,947 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-25 09:32:15,947 - mms_extractor - INFO - ============================================================
2025-08-25 09:32:15,947 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-25 09:32:15,947 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-25 09:32:15,947 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-25 09:32:15,947 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-25 09:32:15,947 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-25 09:32:15,952 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-25 09:32:15,959 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-25 09:32:15,963 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-25 09:32:15,963 - mms_extractor - INFO - _load_data 실행완료: 1.28초
2025-08-25 09:32:15,963 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-25 09:32:15,963 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-25 09:32:15,963 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-25 09:32:15,963 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-25 09:32:15,963 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-25 09:32:15,963 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-25 09:32:15,963 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-25 09:32:15,963 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-25 09:32:15,963 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-25 09:32:15,963 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-25 09:32:15,963 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-25 09:32:15,988 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.113.233:8000
2025-08-25 09:32:15,988 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-25 09:32:40,092 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:32:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:33:08,497 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 370자
2025-08-25 09:33:08,497 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 09:33:08,497 - __main__ - INFO - DAG 추출과 함께 병렬 처리 시작
2025-08-25 09:33:08,497 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 ...
2025-08-25 09:33:08,497 - mms_extractor - INFO - ============================================================
2025-08-25 09:33:08,497 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 09:33:08,497 - mms_extractor - INFO - ============================================================
2025-08-25 09:33:08,497 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-25 09:33:08,497 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-25 09:33:08,497 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-25 09:33:08,497 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 09:33:08,498 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-25 09:33:08,498 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 09:33:08,498 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 370자
2025-08-25 09:33:08,498 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 09:33:08,498 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x34c135cd0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x34c05bce0> root_client=<openai.OpenAI object at 0x34badfc80> root_async_client=<openai.AsyncOpenAI object at 0x34bd27110> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-25 09:33:08,498 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 09:33:08,498 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-25 09:33:08,498 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 09:33:08,498 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3315자
2025-08-25 09:33:08,498 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 09:33:08,498 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 09:33:08,499 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 09:33:08,499 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 09:33:08,499 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-25 09:33:08,505 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 09:33:09,081 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-25 09:33:09,082 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-25 09:33:09,084 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-25 09:33:09,084 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-25 09:33:09,084 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '에이닷이빵쏜닷', '베어유', '데일리', '뚜레쥬르']
2025-08-25 09:33:09,084 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 09:33:10,085 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:33:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:33:17,479 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-25 09:33:17,480 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-25 09:33:17,487 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-25 09:33:17,487 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 09:33:17,627 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-25 09:33:17,627 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-25 09:33:17,627 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 09:33:17,632 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-25 09:33:17,638 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-25 09:33:17,638 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-25 09:33:17,640 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 09:33:17,644 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-25 09:33:17,644 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-25 09:33:17,645 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 9.15초
2025-08-25 09:33:17,645 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 09:33:17,645 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-25 09:33:17,645 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 09:33:17,781 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 09:33:17,781 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 09:33:17,781 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-25 09:33:17,781 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 09:33:17,781 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-25 09:33:17,781 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 09:33:17,781 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-25 09:33:17,781 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 09:33:17,781 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-25 09:33:17,781 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 09:33:17,781 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 09:33:17,781 - mms_extractor - INFO - 구성된 프롬프트 길이: 6217 문자
2025-08-25 09:33:17,781 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 09:33:24,431 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 09:33:24,438 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-25 09:33:24,438 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-25 09:33:24,438 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 09:33:24,439 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 09:33:24,439 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 09:33:24,439 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-25 09:33:24,439 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 09:33:24,439 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-25 09:33:25,454 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 09:33:25,699 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.26초
2025-08-25 09:33:25,707 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 09:33:25,708 - mms_extractor - INFO - ============================================================
2025-08-25 09:33:25,708 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 09:33:25,708 - mms_extractor - INFO - ============================================================
2025-08-25 09:33:25,708 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-25 09:33:25,708 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-25 09:33:25,708 - mms_extractor - INFO - 상품 수: 3개
2025-08-25 09:33:25,708 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 09:33:25,708 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 09:33:25,708 - mms_extractor - INFO - process_message 실행완료: 17.21초
2025-08-25 09:33:26,330 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 09:33:26,331 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1871자
2025-08-25 09:33:26,331 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 2월 0 day 혜택으로 만 13~34세 고객에게 베어유 강의 14일 무료 수강 쿠폰을 선착순 3만 명에게 제공하고, 에이닷 T 멤버십 쿠폰함에 '에이닷이빵쏜닷' 시크릿코드를 입력하면 뚜레쥬르 데일리우유식빵 무료 쿠폰을 제공하는 이벤트를 안내하고 있다.

[식별된 가치 제안 목록]
...
2025-08-25 09:33:26,331 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-25 09:33:26,332 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 95자
2025-08-25 09:33:26,332 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-25 09:33:26,332 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 3
2025-08-25 09:33:26,332 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['SKT웹사이트:접속', '베어유쿠폰:수령', 'SKT앱:접속', '시크릿코드:입력', '식빵쿠폰:수령']
2025-08-25 09:33:26,332 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('SKT웹사이트:접속', '베어유쿠폰:수령'), ('SKT앱:접속', '시크릿코드:입력'), ('시크릿코드:입력', '식빵쿠폰:수령')]
2025-08-25 09:33:26,332 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-25 09:33:26,332 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d
2025-08-25 09:33:26,332 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 3
2025-08-25 09:33:26,333 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-25 09:33:26,803 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d.png
2025-08-25 09:33:26,803 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d
2025-08-25 09:33:26,803 - mms_extractor - INFO - 🕒 DAG 처리 시간: 18.305초
2025-08-25 09:33:26,803 - mms_extractor - INFO - 📏 DAG 섹션 길이: 95자
2025-08-25 09:33:26,803 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (SKT웹사이트:접속) -[접속하여]-> (베어유쿠폰:수령)
(SKT앱:접속) -[접속하여]-> (시크릿코드:입력)
(시크릿코드:입력) -[입력하면]-> (식빵쿠폰:수령)...
2025-08-25 09:33:26,803 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 완료
2025-08-25 09:33:26,804 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 3자
2025-08-25 09:33:26,804 - __main__ - INFO - DAG 내용 미리보기: ['(SKT앱:접속) -[접속하여]-> (시크릿코드:입력)', '(SKT웹사이트:접속) -[접속하여]-> (베어유쿠폰:수령)', '(시크릿코드:입력) -[입력하면]-> (식빵쿠폰:수령)']...
2025-08-25 09:33:26,804 - __main__ - INFO - 추출 완료: 18.307초
2025-08-25 09:33:26,804 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:33:26] "POST /extract HTTP/1.1" 200 -
2025-08-25 09:33:37,450 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 370자
2025-08-25 09:33:37,451 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 09:33:37,451 - __main__ - INFO - DAG 추출과 함께 병렬 처리 시작
2025-08-25 09:33:37,451 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 ...
2025-08-25 09:33:37,451 - mms_extractor - INFO - ============================================================
2025-08-25 09:33:37,451 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 09:33:37,451 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-25 09:33:37,451 - mms_extractor - INFO - ============================================================
2025-08-25 09:33:37,451 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-25 09:33:37,451 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-25 09:33:37,451 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 370자
2025-08-25 09:33:37,452 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-25 09:33:37,452 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x34c135cd0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x34c05bce0> root_client=<openai.OpenAI object at 0x34badfc80> root_async_client=<openai.AsyncOpenAI object at 0x34bd27110> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-25 09:33:37,452 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 09:33:37,452 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-25 09:33:37,452 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 09:33:37,452 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3315자
2025-08-25 09:33:37,452 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 09:33:37,454 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 09:33:37,455 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 09:33:37,455 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 09:33:37,455 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 09:33:37,455 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 09:33:37,455 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 09:33:37,455 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-25 09:33:37,465 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 09:33:37,467 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-25 09:33:37,467 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-25 09:33:37,469 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-25 09:33:37,469 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-25 09:33:37,469 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '에이닷이빵쏜닷', '베어유', '데일리', '뚜레쥬르']
2025-08-25 09:33:37,469 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 09:33:38,772 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-25 09:33:38,772 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-25 09:33:38,773 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-25 09:33:38,773 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 09:33:38,904 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-25 09:33:38,904 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-25 09:33:38,904 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 09:33:38,909 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-25 09:33:38,915 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-25 09:33:38,915 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-25 09:33:38,916 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 09:33:38,920 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-25 09:33:38,921 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-25 09:33:38,921 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.47초
2025-08-25 09:33:38,921 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 09:33:38,922 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-25 09:33:38,922 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 09:33:38,983 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 09:33:38,983 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 09:33:38,983 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-25 09:33:38,983 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 09:33:38,983 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-25 09:33:38,983 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 09:33:38,983 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-25 09:33:38,983 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 09:33:38,983 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-25 09:33:38,983 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 09:33:38,983 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 09:33:38,984 - mms_extractor - INFO - 구성된 프롬프트 길이: 6217 문자
2025-08-25 09:33:38,984 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 09:33:40,082 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:33:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:33:45,580 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 09:33:45,583 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-25 09:33:45,583 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-25 09:33:45,584 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 09:33:45,584 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 09:33:45,584 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 09:33:45,584 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-25 09:33:45,584 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 09:33:45,584 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-25 09:33:46,448 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 09:33:46,714 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.13초
2025-08-25 09:33:46,721 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 09:33:46,722 - mms_extractor - INFO - ============================================================
2025-08-25 09:33:46,722 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 09:33:46,722 - mms_extractor - INFO - ============================================================
2025-08-25 09:33:46,722 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-25 09:33:46,722 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-25 09:33:46,722 - mms_extractor - INFO - 상품 수: 3개
2025-08-25 09:33:46,722 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 09:33:46,722 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 09:33:46,722 - mms_extractor - INFO - process_message 실행완료: 9.27초
2025-08-25 09:33:54,537 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 09:33:54,538 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1871자
2025-08-25 09:33:54,538 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 2월 0 day 혜택으로 만 13~34세 고객에게 베어유 강의 14일 무료 수강 쿠폰을 선착순 3만 명에게 제공하고, 에이닷 T 멤버십 쿠폰함에 '에이닷이빵쏜닷' 시크릿코드를 입력하면 뚜레쥬르 데일리우유식빵 무료 쿠폰을 제공하는 이벤트를 안내하고 있다.

[식별된 가치 제안 목록]
...
2025-08-25 09:33:54,538 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-25 09:33:54,538 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 95자
2025-08-25 09:33:54,538 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-25 09:33:54,538 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 3
2025-08-25 09:33:54,538 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['SKT웹사이트:접속', '베어유쿠폰:수령', 'SKT앱:접속', '시크릿코드:입력', '식빵쿠폰:수령']
2025-08-25 09:33:54,538 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('SKT웹사이트:접속', '베어유쿠폰:수령'), ('SKT앱:접속', '시크릿코드:입력'), ('시크릿코드:입력', '식빵쿠폰:수령')]
2025-08-25 09:33:54,538 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-25 09:33:54,538 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d
2025-08-25 09:33:54,538 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 3
2025-08-25 09:33:54,539 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-25 09:33:54,787 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d.png
2025-08-25 09:33:54,787 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d
2025-08-25 09:33:54,787 - mms_extractor - INFO - 🕒 DAG 처리 시간: 17.336초
2025-08-25 09:33:54,787 - mms_extractor - INFO - 📏 DAG 섹션 길이: 95자
2025-08-25 09:33:54,788 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (SKT웹사이트:접속) -[접속하여]-> (베어유쿠폰:수령)
(SKT앱:접속) -[접속하여]-> (시크릿코드:입력)
(시크릿코드:입력) -[입력하면]-> (식빵쿠폰:수령)...
2025-08-25 09:33:54,788 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 완료
2025-08-25 09:33:54,788 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 3자
2025-08-25 09:33:54,788 - __main__ - INFO - DAG 내용 미리보기: ['(SKT앱:접속) -[접속하여]-> (시크릿코드:입력)', '(SKT웹사이트:접속) -[접속하여]-> (베어유쿠폰:수령)', '(시크릿코드:입력) -[입력하면]-> (식빵쿠폰:수령)']...
2025-08-25 09:33:54,788 - __main__ - INFO - 추출 완료: 17.337초
2025-08-25 09:33:54,789 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:33:54] "POST /extract HTTP/1.1" 200 -
2025-08-25 09:34:10,085 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:34:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:34:25,841 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 09:34:25,841 - mms_extractor - INFO - ============================================================
2025-08-25 09:34:25,841 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 09:34:25,841 - mms_extractor - INFO - ============================================================
2025-08-25 09:34:25,841 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-25 09:34:25,841 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-25 09:34:25,841 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 09:34:25,841 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 09:34:25,841 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 09:34:25,841 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 09:34:25,841 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 09:34:25,841 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 09:34:25,841 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 09:34:25,841 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 09:34:25,842 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 09:34:25,842 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-25 09:34:25,850 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 09:34:25,852 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-25 09:34:25,852 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-25 09:34:25,854 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-25 09:34:25,854 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-25 09:34:25,854 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '에이닷이빵쏜닷', '베어유', '데일리', '뚜레쥬르']
2025-08-25 09:34:25,854 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 09:34:27,089 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-25 09:34:27,089 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-25 09:34:27,090 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-25 09:34:27,090 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 09:34:27,217 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-25 09:34:27,217 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-25 09:34:27,217 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 09:34:27,223 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-25 09:34:27,228 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-25 09:34:27,228 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-25 09:34:27,229 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 09:34:27,233 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-25 09:34:27,233 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-25 09:34:27,234 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.39초
2025-08-25 09:34:27,234 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 09:34:27,234 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-25 09:34:27,234 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 09:34:27,271 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 09:34:27,271 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 09:34:27,271 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-25 09:34:27,271 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 09:34:27,271 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-25 09:34:27,271 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 09:34:27,271 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-25 09:34:27,271 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 09:34:27,272 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-25 09:34:27,272 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 09:34:27,272 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 09:34:27,272 - mms_extractor - INFO - 구성된 프롬프트 길이: 6217 문자
2025-08-25 09:34:27,272 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 09:34:33,960 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 09:34:33,961 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-25 09:34:33,961 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-25 09:34:33,961 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 09:34:33,962 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 09:34:33,962 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 09:34:33,962 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-25 09:34:33,962 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 09:34:33,962 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-25 09:34:34,882 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 09:34:35,132 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.17초
2025-08-25 09:34:35,140 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 09:34:35,140 - mms_extractor - INFO - ============================================================
2025-08-25 09:34:35,140 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 09:34:35,141 - mms_extractor - INFO - ============================================================
2025-08-25 09:34:35,141 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-25 09:34:35,141 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-25 09:34:35,141 - mms_extractor - INFO - 상품 수: 3개
2025-08-25 09:34:35,141 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 09:34:35,141 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 09:34:35,141 - mms_extractor - INFO - process_message 실행완료: 9.30초
2025-08-25 09:34:35,141 - __main__ - INFO - 추출 완료: 9.300초
2025-08-25 09:34:35,141 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:34:35] "POST /extract HTTP/1.1" 200 -
2025-08-25 09:34:40,086 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:34:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:35:10,085 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:35:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:35:40,084 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:35:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:36:10,082 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:36:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:36:40,081 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:36:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:37:10,079 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:37:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:37:40,083 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:37:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:38:10,170 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:38:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:38:40,171 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:38:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:39:10,173 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:39:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:39:40,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:39:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:40:10,173 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:40:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:40:40,172 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:40:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:41:10,171 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:41:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:41:40,172 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:41:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:42:10,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:42:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:42:40,172 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:42:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:43:10,173 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:43:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:43:40,172 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:43:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:44:10,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:44:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:44:40,172 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:44:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:45:10,170 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:45:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:45:40,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:45:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:46:10,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:46:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:46:40,171 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:46:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:47:10,171 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:47:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:47:40,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:47:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:48:10,171 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:48:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:48:40,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:48:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:49:10,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:49:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:49:40,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:49:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:50:10,172 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:50:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:50:40,172 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:50:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:51:10,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:51:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:51:40,172 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:51:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:52:10,173 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:52:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:52:40,173 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:52:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:53:10,173 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:53:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:53:40,172 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:53:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:54:10,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:54:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:54:40,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:54:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:55:10,173 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:55:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:55:40,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:55:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:56:10,173 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:56:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:56:40,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:56:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:57:10,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:57:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:57:40,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:57:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:58:10,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:58:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:58:40,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:58:40] "GET /health HTTP/1.1" 200 -
2025-08-25 09:59:10,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:59:10] "GET /health HTTP/1.1" 200 -
2025-08-25 09:59:40,174 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 09:59:40] "GET /health HTTP/1.1" 200 -
2025-08-25 10:00:10,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:00:10] "GET /health HTTP/1.1" 200 -
2025-08-25 10:00:40,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:00:40] "GET /health HTTP/1.1" 200 -
2025-08-25 10:01:04,907 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 10:01:04,907 - mms_extractor - INFO - ============================================================
2025-08-25 10:01:04,907 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:01:04,907 - mms_extractor - INFO - ============================================================
2025-08-25 10:01:04,907 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-25 10:01:04,907 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-25 10:01:04,907 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:01:04,907 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:01:04,907 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 10:01:04,907 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 10:01:04,907 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:01:04,907 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:01:04,907 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:01:04,907 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:01:04,907 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:01:04,907 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-25 10:01:04,917 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:01:04,923 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-25 10:01:04,923 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-25 10:01:04,925 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-25 10:01:04,925 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-25 10:01:04,925 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '에이닷이빵쏜닷', '베어유', '데일리', '뚜레쥬르']
2025-08-25 10:01:04,926 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:01:10,176 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:01:10] "GET /health HTTP/1.1" 200 -
2025-08-25 10:01:27,804 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-25 10:01:27,804 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-25 10:01:27,805 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-25 10:01:27,805 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:01:27,939 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-25 10:01:27,940 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-25 10:01:27,940 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:01:27,945 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-25 10:01:27,950 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-25 10:01:27,951 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-25 10:01:27,952 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 10:01:27,957 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-25 10:01:27,957 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-25 10:01:27,958 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 23.05초
2025-08-25 10:01:27,958 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 10:01:27,958 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-25 10:01:27,958 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:01:28,107 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:01:28,107 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:01:28,107 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-25 10:01:28,107 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:01:28,107 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-25 10:01:28,107 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 10:01:28,107 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-25 10:01:28,107 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:01:28,107 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-25 10:01:28,107 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 10:01:28,107 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:01:28,107 - mms_extractor - INFO - 구성된 프롬프트 길이: 6217 문자
2025-08-25 10:01:28,107 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 10:01:34,751 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:01:34,753 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-25 10:01:34,753 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-25 10:01:34,753 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:01:34,753 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:01:34,754 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:01:34,754 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-25 10:01:34,754 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:01:34,754 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-25 10:01:35,775 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:01:36,027 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.27초
2025-08-25 10:01:36,036 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:01:36,036 - mms_extractor - INFO - ============================================================
2025-08-25 10:01:36,036 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:01:36,036 - mms_extractor - INFO - ============================================================
2025-08-25 10:01:36,036 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-25 10:01:36,036 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-25 10:01:36,036 - mms_extractor - INFO - 상품 수: 3개
2025-08-25 10:01:36,036 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 10:01:36,036 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:01:36,036 - mms_extractor - INFO - process_message 실행완료: 31.13초
2025-08-25 10:01:36,036 - __main__ - INFO - 추출 완료: 31.130초
2025-08-25 10:01:36,036 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:01:36] "POST /extract HTTP/1.1" 200 -
2025-08-25 10:01:40,131 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 10:01:40,132 - mms_extractor - INFO - ============================================================
2025-08-25 10:01:40,132 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:01:40,132 - mms_extractor - INFO - ============================================================
2025-08-25 10:01:40,132 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-25 10:01:40,132 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-25 10:01:40,132 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:01:40,132 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:01:40,132 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 10:01:40,132 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 10:01:40,132 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:01:40,132 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:01:40,132 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:01:40,132 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:01:40,132 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:01:40,132 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-25 10:01:40,138 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:01:40,140 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-25 10:01:40,140 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-25 10:01:40,142 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-25 10:01:40,142 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-25 10:01:40,142 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '에이닷이빵쏜닷', '베어유', '데일리', '뚜레쥬르']
2025-08-25 10:01:40,142 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:01:40,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:01:40] "GET /health HTTP/1.1" 200 -
2025-08-25 10:01:41,495 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-25 10:01:41,495 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-25 10:01:41,496 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-25 10:01:41,496 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:01:41,626 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-25 10:01:41,627 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-25 10:01:41,627 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:01:41,631 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-25 10:01:41,636 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-25 10:01:41,636 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-25 10:01:41,638 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 10:01:41,642 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-25 10:01:41,642 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-25 10:01:41,642 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.51초
2025-08-25 10:01:41,643 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 10:01:41,643 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-25 10:01:41,643 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:01:41,709 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:01:41,709 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:01:41,709 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-25 10:01:41,709 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:01:41,709 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-25 10:01:41,709 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 10:01:41,709 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-25 10:01:41,709 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:01:41,709 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-25 10:01:41,709 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 10:01:41,709 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:01:41,709 - mms_extractor - INFO - 구성된 프롬프트 길이: 6217 문자
2025-08-25 10:01:41,709 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 10:01:48,304 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:01:48,305 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-25 10:01:48,305 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-25 10:01:48,305 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:01:48,306 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:01:48,306 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:01:48,306 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-25 10:01:48,307 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:01:48,307 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-25 10:01:49,292 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:01:49,542 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.23초
2025-08-25 10:01:49,550 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:01:49,550 - mms_extractor - INFO - ============================================================
2025-08-25 10:01:49,550 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:01:49,550 - mms_extractor - INFO - ============================================================
2025-08-25 10:01:49,550 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-25 10:01:49,550 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-25 10:01:49,550 - mms_extractor - INFO - 상품 수: 3개
2025-08-25 10:01:49,550 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 10:01:49,550 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:01:49,550 - mms_extractor - INFO - process_message 실행완료: 9.42초
2025-08-25 10:01:49,550 - __main__ - INFO - 추출 완료: 9.419초
2025-08-25 10:01:49,550 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:01:49] "POST /extract HTTP/1.1" 200 -
2025-08-25 10:01:58,228 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 370자
2025-08-25 10:01:58,228 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 10:01:58,228 - __main__ - INFO - DAG 추출과 함께 병렬 처리 시작
2025-08-25 10:01:58,228 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 ...
2025-08-25 10:01:58,228 - mms_extractor - INFO - ============================================================
2025-08-25 10:01:58,229 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-25 10:01:58,229 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:01:58,229 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-25 10:01:58,229 - mms_extractor - INFO - ============================================================
2025-08-25 10:01:58,229 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 370자
2025-08-25 10:01:58,229 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-25 10:01:58,229 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x34c135cd0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x34c05bce0> root_client=<openai.OpenAI object at 0x34badfc80> root_async_client=<openai.AsyncOpenAI object at 0x34bd27110> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-25 10:01:58,229 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-25 10:01:58,229 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-25 10:01:58,229 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:01:58,229 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3315자
2025-08-25 10:01:58,229 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:01:58,230 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 10:01:58,230 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 10:01:58,230 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:01:58,230 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:01:58,230 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:01:58,230 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:01:58,230 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:01:58,230 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-25 10:01:58,237 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:01:58,238 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-25 10:01:58,238 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-25 10:01:58,240 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-25 10:01:58,240 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-25 10:01:58,240 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['0 day', '시크릿', '에이닷이빵쏜닷', '베어유', '데일리', '뚜레쥬르']
2025-08-25 10:01:58,240 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:01:59,492 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-25 10:01:59,492 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-25 10:01:59,492 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-25 10:01:59,492 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:01:59,635 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-25 10:01:59,635 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-25 10:01:59,635 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:01:59,640 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-25 10:01:59,644 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-25 10:01:59,645 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-25 10:01:59,646 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 10:01:59,650 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-25 10:01:59,650 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-25 10:01:59,651 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.42초
2025-08-25 10:01:59,651 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 10:01:59,651 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-25 10:01:59,651 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:01:59,695 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:01:59,695 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:01:59,695 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-25 10:01:59,695 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:01:59,695 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-25 10:01:59,695 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 10:01:59,695 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-25 10:01:59,695 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:01:59,695 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-25 10:01:59,696 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 10:01:59,696 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:01:59,696 - mms_extractor - INFO - 구성된 프롬프트 길이: 6217 문자
2025-08-25 10:01:59,696 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 10:02:06,496 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:02:06,500 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-25 10:02:06,500 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-25 10:02:06,500 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:02:06,501 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:02:06,501 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:02:06,501 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-25 10:02:06,501 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:02:06,501 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-25 10:02:07,381 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:02:07,635 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.13초
2025-08-25 10:02:07,644 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:02:07,644 - mms_extractor - INFO - ============================================================
2025-08-25 10:02:07,644 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:02:07,644 - mms_extractor - INFO - ============================================================
2025-08-25 10:02:07,644 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-25 10:02:07,644 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-25 10:02:07,644 - mms_extractor - INFO - 상품 수: 3개
2025-08-25 10:02:07,644 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 10:02:07,644 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:02:07,644 - mms_extractor - INFO - process_message 실행완료: 9.42초
2025-08-25 10:02:10,176 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:02:10] "GET /health HTTP/1.1" 200 -
2025-08-25 10:02:15,823 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:02:15,825 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1891자
2025-08-25 10:02:15,825 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 2월 0 day 혜택으로 만 13~34세 고객에게 베어유 강의 14일 무료 수강 쿠폰을 선착순 3만 명에게 제공하며, 에이닷 T 멤버십 쿠폰함에 '에이닷이빵쏜닷' 시크릿코드를 입력하면 뚜레쥬르 데일리우유식빵 무료 쿠폰을 제공하는 이벤트를 안내하고 있다.

[식별된 가치 제안 목록]
...
2025-08-25 10:02:15,825 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-25 10:02:15,825 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 89자
2025-08-25 10:02:15,825 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-25 10:02:15,826 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 3
2025-08-25 10:02:15,826 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['웹사이트:접속', '베어유쿠폰:수령', '앱:접속', '시크릿코드:입력', '식빵쿠폰:수령']
2025-08-25 10:02:15,826 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('웹사이트:접속', '베어유쿠폰:수령'), ('앱:접속', '시크릿코드:입력'), ('시크릿코드:입력', '식빵쿠폰:수령')]
2025-08-25 10:02:15,826 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-25 10:02:15,826 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d
2025-08-25 10:02:15,826 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 3
2025-08-25 10:02:15,826 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-25 10:02:16,266 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d.png
2025-08-25 10:02:16,266 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d
2025-08-25 10:02:16,266 - mms_extractor - INFO - 🕒 DAG 처리 시간: 18.037초
2025-08-25 10:02:16,266 - mms_extractor - INFO - 📏 DAG 섹션 길이: 89자
2025-08-25 10:02:16,266 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (웹사이트:접속) -[접속하여]-> (베어유쿠폰:수령)
(앱:접속) -[접속하여]-> (시크릿코드:입력)
(시크릿코드:입력) -[입력하면]-> (식빵쿠폰:수령)...
2025-08-25 10:02:16,267 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 완료
2025-08-25 10:02:16,267 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 3자
2025-08-25 10:02:16,267 - __main__ - INFO - DAG 내용 미리보기: ['(시크릿코드:입력) -[입력하면]-> (식빵쿠폰:수령)', '(앱:접속) -[접속하여]-> (시크릿코드:입력)', '(웹사이트:접속) -[접속하여]-> (베어유쿠폰:수령)']...
2025-08-25 10:02:16,267 - __main__ - INFO - 추출 완료: 18.039초
2025-08-25 10:02:16,268 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:02:16] "POST /extract HTTP/1.1" 200 -
2025-08-25 10:02:40,177 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:02:40] "GET /health HTTP/1.1" 200 -
2025-08-25 10:03:10,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:03:10] "GET /health HTTP/1.1" 200 -
2025-08-25 10:03:40,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:03:40] "GET /health HTTP/1.1" 200 -
2025-08-25 10:04:10,178 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:04:10] "GET /health HTTP/1.1" 200 -
2025-08-25 10:04:40,180 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:04:40] "GET /health HTTP/1.1" 200 -
2025-08-25 10:05:10,177 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:05:10] "GET /health HTTP/1.1" 200 -
2025-08-25 10:05:40,176 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:05:40] "GET /health HTTP/1.1" 200 -
2025-08-25 10:06:09,308 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:06:09] "GET /health HTTP/1.1" 200 -
2025-08-25 10:06:19,183 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:06:19] "GET /health HTTP/1.1" 200 -
2025-08-25 10:06:19,201 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:06:19] "GET /health HTTP/1.1" 200 -
2025-08-25 10:06:21,192 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:06:21] "GET /health HTTP/1.1" 200 -
2025-08-25 10:06:21,201 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-25 10:06:21,201 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 10:06:21,201 - __main__ - INFO - DAG 추출과 함께 병렬 처리 시작
2025-08-25 10:06:21,201 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 시작: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰,...
2025-08-25 10:06:21,201 - mms_extractor - INFO - ============================================================
2025-08-25 10:06:21,201 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-25 10:06:21,201 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:06:21,202 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-25 10:06:21,202 - mms_extractor - INFO - ============================================================
2025-08-25 10:06:21,202 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-25 10:06:21,202 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-25 10:06:21,202 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x34c135cd0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x34c05bce0> root_client=<openai.OpenAI object at 0x34badfc80> root_async_client=<openai.AsyncOpenAI object at 0x34bd27110> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-25 10:06:21,202 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-25 10:06:21,202 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-25 10:06:21,202 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:06:21,202 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-25 10:06:21,203 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:06:21,204 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-25 10:06:21,204 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-25 10:06:21,204 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:06:21,204 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:06:21,204 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:06:21,204 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:06:21,205 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:06:21,205 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-25 10:06:21,212 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:06:21,217 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-25 10:06:21,217 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-25 10:06:21,219 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-25 10:06:21,219 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-25 10:06:21,219 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-25 10:06:21,219 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:06:21,833 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-25 10:06:21,834 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-25 10:06:21,834 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-25 10:06:21,834 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:06:21,951 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-25 10:06:21,952 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-25 10:06:21,952 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:06:21,955 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-25 10:06:21,959 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-25 10:06:21,959 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-25 10:06:21,961 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-25 10:06:21,965 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-25 10:06:21,966 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-25 10:06:21,966 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.76초
2025-08-25 10:06:21,966 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-25 10:06:21,966 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-25 10:06:21,966 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:06:22,012 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:06:22,012 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:06:22,013 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-25 10:06:22,013 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:06:22,013 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-25 10:06:22,013 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-25 10:06:22,013 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-25 10:06:22,013 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:06:22,013 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-25 10:06:22,014 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-25 10:06:22,014 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-25 10:06:22,014 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:06:22,014 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-25 10:06:22,014 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-25 10:06:28,414 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:06:28,416 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-25 10:06:28,416 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-25 10:06:28,416 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:06:28,417 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:06:28,417 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:06:28,417 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-25 10:06:28,417 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:06:28,417 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-25 10:06:28,852 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:06:28,852 - mms_extractor - INFO - ============================================================
2025-08-25 10:06:28,852 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:06:28,852 - mms_extractor - INFO - ============================================================
2025-08-25 10:06:28,852 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-25 10:06:28,852 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-25 10:06:28,852 - mms_extractor - INFO - 상품 수: 2개
2025-08-25 10:06:28,852 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 10:06:28,852 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:06:28,852 - mms_extractor - INFO - process_message 실행완료: 7.65초
2025-08-25 10:06:43,555 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:06:43,557 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-25 10:06:43,557 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-25 10:06:43,557 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-25 10:06:43,557 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-25 10:06:43,558 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-25 10:06:43,558 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-25 10:06:43,558 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-25 10:06:43,558 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-25 10:06:43,558 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-25 10:06:43,558 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-25 10:06:43,558 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-25 10:06:43,559 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-25 10:06:43,782 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-25 10:06:43,782 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-25 10:06:43,782 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.581초
2025-08-25 10:06:43,782 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-25 10:06:43,782 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-25 10:06:43,782 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 완료
2025-08-25 10:06:43,783 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 6자
2025-08-25 10:06:43,783 - __main__ - INFO - DAG 내용 미리보기: ['(T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)', '(ZEM폰 포켓몬에디션3:사용) -[사용하면]-> (안전한 사용 환경:경험)', '(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)']...
2025-08-25 10:06:43,783 - __main__ - INFO - 추출 완료: 22.582초
2025-08-25 10:06:43,783 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:06:43] "POST /extract HTTP/1.1" 200 -
2025-08-25 10:06:43,802 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:06:43] "GET /health HTTP/1.1" 200 -
2025-08-25 10:14:57,851 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:14:57] "GET /health HTTP/1.1" 200 -
2025-08-25 10:15:51,623 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:15:51] "GET /health HTTP/1.1" 200 -
2025-08-25 10:15:54,194 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:15:54] "GET /health HTTP/1.1" 200 -
2025-08-25 10:15:54,214 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:15:54] "GET /health HTTP/1.1" 200 -
2025-08-25 10:15:55,845 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:15:55] "GET /health HTTP/1.1" 200 -
2025-08-25 10:15:55,853 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 328자
2025-08-25 10:15:55,853 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 10:15:55,853 - __main__ - INFO - DAG 추출과 함께 병렬 처리 시작
2025-08-25 10:15:55,853 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 시작: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 ...
2025-08-25 10:15:55,853 - mms_extractor - INFO - ============================================================
2025-08-25 10:15:55,853 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-25 10:15:55,853 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:15:55,853 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-25 10:15:55,853 - mms_extractor - INFO - ============================================================
2025-08-25 10:15:55,853 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 328자
2025-08-25 10:15:55,853 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 갤럭시 S24 사전예약
(광고) 갤럭시 S24 시리즈 사전예약 시작!

🌟 사전예약 혜택
- 갤럭시 S24 Ultra: 최대 30만원 할인
- 갤럭시 S24+: 최대 25만원 할인  
- 갤럭시 S24: 최대 20만원 할인

🎁 추가 혜택
- 갤럭시 워치6 50% 할인
- 무선충전기 무료 증정
- 케어플러스 6개월 무료

📅 사전예약: 202...
2025-08-25 10:15:55,854 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x34c135cd0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x34c05bce0> root_client=<openai.OpenAI object at 0x34badfc80> root_async_client=<openai.AsyncOpenAI object at 0x34bd27110> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-25 10:15:55,854 - mms_extractor - INFO - 메시지 길이: 328 문자
2025-08-25 10:15:55,854 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-25 10:15:55,854 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:15:55,854 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3273자
2025-08-25 10:15:55,854 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:15:55,856 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-25 10:15:55,856 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-25 10:15:55,856 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:15:55,856 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:15:55,856 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:15:55,856 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:15:55,856 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:15:55,856 - mms_extractor - INFO - 처리할 메시지 길이: 328 문자
2025-08-25 10:15:55,864 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:15:55,867 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-25 10:15:55,867 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', '🌟 사전예약 혜택 - 갤럭시 S24 Ultra 최대 30만원 할인 - 갤럭시 S24 최대 25만원 할인 - 갤럭시 S24 최대 20만원 할인', '🎁 추가 혜택 - 갤럭시 워치6 50 할인 - 무선충전기 무료 증정 - 케어플러스 무료']...
2025-08-25 10:15:55,869 - mms_extractor - INFO - 전체 토큰 수: 106개
2025-08-25 10:15:55,869 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '갤럭시', '광고', '갤럭시', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '할인', '-', '갤럭시', '워치6', '할인', '-', '충전기', '-', '매장', '수신거부']
2025-08-25 10:15:55,869 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['워치6', '충전기', '갤럭시']
2025-08-25 10:15:55,869 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:16:16,919 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8009, 3)
2025-08-25 10:16:16,919 - mms_extractor - INFO - 퍼지 매칭 성공: 8009개 결과
2025-08-25 10:16:16,920 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.6}]
2025-08-25 10:16:16,920 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:16:17,147 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8009, 3)
2025-08-25 10:16:17,148 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 S20 FE', 'sim': 0.6266666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': 'KT_갤럭시 A32', 'sim': 0.5466666666666666}, {'sent': ' SK텔레콤 갤럭시 S24 사전예약 광고 갤럭시 S24 시리즈 사전예약 시작 ', 'item_nm_alias': '갤럭시 퀀텀5', 'sim': 0.5571428571428572}]
2025-08-25 10:16:17,148 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:16:17,153 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 140개
2025-08-25 10:16:17,158 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-25 10:16:17,158 - mms_extractor - INFO - 통합된 후보 아이템 수: 140개
2025-08-25 10:16:17,160 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-25 10:16:17,168 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (90, 2)
2025-08-25 10:16:17,168 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}, {'item_nm': 'CU 할인', 'item_id': ['PR00000344']}]
2025-08-25 10:16:17,169 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 21.31초
2025-08-25 10:16:17,169 - mms_extractor - INFO - 추출된 후보 엔티티: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-25 10:16:17,169 - mms_extractor - INFO - 매칭된 상품 정보: (90, 2)
2025-08-25 10:16:17,169 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:16:17,341 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:16:17,341 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:16:17,341 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 406 문자
2025-08-25 10:16:17,341 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:16:17,341 - mms_extractor - INFO - 후보 아이템 리스트 크기: 124개
2025-08-25 10:16:17,341 - mms_extractor - INFO - 후보 아이템 리스트: ['ultra', 'Ultra', '갤럭시 S25+', '갤럭시 A25', '갤럭시 S22', '갤럭시 S25', '갤럭시 S22+', '갤럭시 A30', '갤럭시 S25 ultra', '갤럭시 S25 ULTRA', '갤럭시 S25 Ultra', '갤럭시 A40', '갤럭시 A24', '갤럭시 S24 ultra_256G', '갤럭시 S24 Ultra_256G', '갤럭시 S24 ULTRA_256G', '갤럭시S', '갤럭시A', '갤럭시S2', '갤럭시 워치 ultra', '갤럭시S4', '갤럭시 워치 Ultra', '갤럭시A5', '갤럭시S5', '갤럭시S3', '갤럭시 S24 ULTRA_1T', '갤럭시 S24 Ultra_1T', 'S20', 'R300', 'L2', 'I8', 'D2', '갤럭시 S24 ultra_1T', '갤럭시 워치 ULTRA', '갤럭시A3', '갤럭시 S24 ULTRA_512G', '갤럭시 S24 Ultra_512G', '갤럭시 S24 ultra_512G', '갤럭시 TAB S4', '갤럭시 TAB S2', '갤럭시 tab S4', '갤럭시 Tab S4', '갤럭시 A32', '갤럭시 A34', '갤럭시 A33', '갤럭시 A15', '갤럭시 S10', '갤럭시 A53', '갤럭시 S21+', '갤럭시 A31', '갤럭시 A23', '상시20%할인', 'SK텔레콤(주)', '갤럭시 S21', '갤럭시 A80', '갤럭시 S24 FE', '상시 30% 할인', '갤럭시 북S', '갤럭시 J4+', '갤럭시 A6', '갤럭시 탭 S4', '갤럭시 탭 S2', '갤럭시 A8', '갤럭시 노트20 Ultra', '갤럭시 S24+_256G', 'CU 할인', '갤럭시 워치6 40mm', '갤럭시 S24_256G', 'T 탭 24', 'T 탭 18', '갤럭시 A12', '갤럭시 탭 S9 Ultra', '갤럭시 탭 S8 Ultra', '갤럭시 S22 ULTRA_256G', '갤럭시 S20 ULTRA_256G', '갤럭시 S20 Ultra_256G', '갤럭시 S23 ultra_256G', '갤럭시 S23 Ultra_256G', '갤럭시 S23 ULTRA_256G', '갤럭시 S22 ultra_256G', '갤럭시 S22 Ultra_256G', '갤럭시 S21 ultra_256G', '갤럭시 S21 Ultra_256G', '갤럭시 S21 ULTRA_256G', '갤럭시 S20 ultra_256G', '갤럭시 A5(2016)', '갤럭시 A5(2017)', '갤럭시 TAB S10+', '갤럭시 S24+_512G', '(KTF)갤럭시 S25 ultra', '(LGU)갤럭시 S25 ultra', '(LGU)갤럭시 S25 Ultra', '(KTF)갤럭시 S25 Ultra', '갤럭시S2 LTE', '갤럭시 TAB S6', '갤럭시S22 Ultra 클럽', '갤럭시 Tab S6', '갤럭시 Tab S8', '갤럭시 Tab S8+', '갤럭시 Tab S9', '갤럭시 Tab S9+', '갤럭시 tab S6', 'T 탭 9', '더 예약', '갤럭시 S23 ultra_512G', '갤럭시 노트20', '갤럭시 S21 ultra_512G', 'T LoL팩', 'Ultra 햅틱', 'ultra 햅틱', '갤럭시 A10e', '갤럭시 A21S', '갤럭시 S10e', '갤럭시 S21 Ultra_512G', '갤럭시 S22 Ultra_512G', '갤럭시 S25 ultra_512G', '갤럭시 S22 ultra_512G', '갤럭시 S23 Ultra_512G', '갤럭시 S24_512G', '갤럭시 S25 ULTRA_1T', '갤럭시 S25 Ultra_1T', '갤럭시 S25 Ultra_512G', '갤럭시 S25 ultra_1T', '일상플러스(무료)']
2025-08-25 10:16:17,341 - mms_extractor - INFO - extra_item_pdf 크기: (90, 2)
2025-08-25 10:16:17,342 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:16:17,342 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(KTF)갤럭시 S25 울트라', 'item_id': ['A66Z', 'A66Z']}, {'item_nm': '(LGU)갤럭시 S25 울트라', 'item_id': ['A67A', 'A67A']}]
2025-08-25 10:16:17,343 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 89개
2025-08-25 10:16:17,344 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(KTF)갤럭시 S25 울트라', 'action': '기타'}, {'name': '(LGU)갤럭시 S25 울트라', 'action': '기타'}]
2025-08-25 10:16:17,344 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:16:17,344 - mms_extractor - INFO - 구성된 프롬프트 길이: 12029 문자
2025-08-25 10:16:17,344 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-25 10:16:24,078 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:16:24,080 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 3103자
2025-08-25 10:16:24,080 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ## 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 갤럭시 S24 시리즈의 사전예약을 시작하며, 다양한 할인 및 추가 혜택을 제공하여 고객의 구매를 유도하고자 합니다. 고객은 T world 앱 또는 지정된 매장 링크를 통해 사전예약을 할 수 있습니다.

[식별된 가치 제안 목록]
- 갤럭시 S24 시리즈 구매 시 모델별 최대 할인 혜택...
2025-08-25 10:16:24,080 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-25 10:16:24,081 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 480자
2025-08-25 10:16:24,081 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-25 10:16:24,081 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 3, 엣지 수: 2
2025-08-25 10:16:24,081 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 앱:예약', '갤럭시 S24 시리즈:구매', '매장:예약']
2025-08-25 10:16:24,081 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 앱:예약', '갤럭시 S24 시리즈:구매'), ('매장:예약', '갤럭시 S24 시리즈:구매')]
2025-08-25 10:16:24,081 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-25 10:16:24,081 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-25 10:16:24,081 - utils - INFO - 📊 입력 그래프 - 노드 수: 3, 엣지 수: 2
2025-08-25 10:16:24,082 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-25 10:16:24,451 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753.png
2025-08-25 10:16:24,451 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_cde17c728469553c86e0a126b0eae19295d966bb880276643d1ecf6fb5f9a753
2025-08-25 10:16:24,451 - mms_extractor - INFO - 🕒 DAG 처리 시간: 28.598초
2025-08-25 10:16:24,451 - mms_extractor - INFO - 📏 DAG 섹션 길이: 480자
2025-08-25 10:16:24,451 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)
(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)
(T world 앱...
2025-08-25 10:16:25,179 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:16:25,184 - mms_extractor - INFO - LLM 응답 길이: 1182 문자
2025-08-25 10:16:25,185 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 갤럭시 S24 사전예약",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S24 Ultra",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24+",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 S24",
            "action": "사전예약"
        },
        {
            "name": "갤럭시 워치6",
            "action": "할인"
        },
        {
            "name": "무선충전기",
        ...
2025-08-25 10:16:25,185 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:16:25,186 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:16:25,186 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:16:25,186 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 갤럭시 S24 사전예약', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S24 Ultra', 'action': '사전예약'}, {'name': '갤럭시 S24+', 'action': '사전예약'}, {'name': '갤럭시 S24', 'action': '사전예약'}, {'name': '갤럭시 워치6', 'action': '할인'}, {'name': '무선충전기', 'action': '무료 증정'}, {'name': '케어플러스', 'action': '무료 제공'}], 'channel': [{'type': '앱', 'value': 'T world 앱', 'action': '가입'}, {'type': 'URL', 'value': 'tworldfriends.co.kr/D123456789', 'action': '가입'}, {'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-25 10:16:25,186 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:16:25,187 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S24 Ultra', '갤럭시 S24+', '갤럭시 S24', '갤럭시 워치6', '무선충전기', '케어플러스']
2025-08-25 10:16:25,558 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:16:25,559 - mms_extractor - INFO - ============================================================
2025-08-25 10:16:25,559 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:16:25,559 - mms_extractor - INFO - ============================================================
2025-08-25 10:16:25,559 - mms_extractor - INFO - 제목: [SK텔레콤] 갤럭시 S24 사전예약
2025-08-25 10:16:25,559 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-25 10:16:25,559 - mms_extractor - INFO - 상품 수: 4개
2025-08-25 10:16:25,559 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 10:16:25,559 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:16:25,559 - mms_extractor - INFO - process_message 실행완료: 29.71초
2025-08-25 10:16:25,559 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 완료
2025-08-25 10:16:25,559 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 8자
2025-08-25 10:16:25,559 - __main__ - INFO - DAG 내용 미리보기: ['(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(T world 앱:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (갤럭시 워치6:50%할인)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (무선충전기:무료증정)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (케어플러스:무료이용)', '(매장:예약) -[예약후]-> (갤럭시 S24 시리즈:구매) -[구매하면]-> (할인:수령)']...
2025-08-25 10:16:25,559 - __main__ - INFO - 추출 완료: 29.706초
2025-08-25 10:16:25,560 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:16:25] "POST /extract HTTP/1.1" 200 -
2025-08-25 10:16:25,579 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:16:25] "GET /health HTTP/1.1" 200 -
2025-08-25 10:17:42,173 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:17:42] "GET /health HTTP/1.1" 200 -
2025-08-25 10:18:09,796 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:18:09] "GET /health HTTP/1.1" 200 -
2025-08-25 10:18:27,764 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:18:27] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-25 10:18:27,768 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-25 10:18:27,768 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 10:18:27,768 - __main__ - INFO - DAG 추출과 함께 병렬 처리 시작
2025-08-25 10:18:27,768 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 시작: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰,...
2025-08-25 10:18:27,768 - mms_extractor - INFO - ============================================================
2025-08-25 10:18:27,768 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-25 10:18:27,769 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:18:27,769 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-25 10:18:27,769 - mms_extractor - INFO - ============================================================
2025-08-25 10:18:27,769 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-25 10:18:27,769 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-25 10:18:27,769 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x34c135cd0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x34c05bce0> root_client=<openai.OpenAI object at 0x34badfc80> root_async_client=<openai.AsyncOpenAI object at 0x34bd27110> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-25 10:18:27,769 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-25 10:18:27,769 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-25 10:18:27,770 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:18:27,770 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-25 10:18:27,770 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:18:27,772 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-25 10:18:27,772 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-25 10:18:27,772 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:18:27,772 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:18:27,773 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:18:27,773 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:18:27,773 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:18:27,773 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-25 10:18:27,781 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:18:27,784 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-25 10:18:27,784 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-25 10:18:27,787 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-25 10:18:27,787 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-25 10:18:27,787 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-25 10:18:27,787 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:18:28,314 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-25 10:18:28,314 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-25 10:18:28,314 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-25 10:18:28,314 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:18:28,432 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-25 10:18:28,433 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-25 10:18:28,433 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:18:28,436 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-25 10:18:28,440 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-25 10:18:28,440 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-25 10:18:28,441 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-25 10:18:28,446 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-25 10:18:28,446 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-25 10:18:28,447 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.67초
2025-08-25 10:18:28,447 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-25 10:18:28,447 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-25 10:18:28,447 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:18:28,499 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:18:28,499 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:18:28,499 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-25 10:18:28,499 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:18:28,499 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-25 10:18:28,499 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-25 10:18:28,499 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-25 10:18:28,499 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:18:28,499 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-25 10:18:28,501 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-25 10:18:28,501 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-25 10:18:28,501 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:18:28,501 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-25 10:18:28,501 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-25 10:18:35,935 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:18:35,938 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-25 10:18:35,938 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-25 10:18:35,938 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:18:35,939 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:18:35,939 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:18:35,939 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-25 10:18:35,939 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:18:35,939 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-25 10:18:36,353 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:18:36,353 - mms_extractor - INFO - ============================================================
2025-08-25 10:18:36,353 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:18:36,353 - mms_extractor - INFO - ============================================================
2025-08-25 10:18:36,353 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-25 10:18:36,353 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-25 10:18:36,353 - mms_extractor - INFO - 상품 수: 2개
2025-08-25 10:18:36,353 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 10:18:36,353 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:18:36,353 - mms_extractor - INFO - process_message 실행완료: 8.59초
2025-08-25 10:18:39,750 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:18:39] "GET /health HTTP/1.1" 200 -
2025-08-25 10:18:50,120 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:18:50,121 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-25 10:18:50,122 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-25 10:18:50,122 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-25 10:18:50,122 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-25 10:18:50,122 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-25 10:18:50,123 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-25 10:18:50,123 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-25 10:18:50,123 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-25 10:18:50,123 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-25 10:18:50,123 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-25 10:18:50,123 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-25 10:18:50,126 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-25 10:18:50,363 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-25 10:18:50,363 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-25 10:18:50,363 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.595초
2025-08-25 10:18:50,363 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-25 10:18:50,363 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-25 10:18:50,364 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 완료
2025-08-25 10:18:50,364 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 6자
2025-08-25 10:18:50,364 - __main__ - INFO - DAG 내용 미리보기: ['(T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)', '(ZEM폰 포켓몬에디션3:사용) -[사용하면]-> (안전한 사용 환경:경험)', '(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)']...
2025-08-25 10:18:50,364 - __main__ - INFO - 추출 완료: 22.596초
2025-08-25 10:18:50,364 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:18:50] "POST /extract HTTP/1.1" 200 -
2025-08-25 10:19:09,751 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:19:09] "GET /health HTTP/1.1" 200 -
2025-08-25 10:19:39,753 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:19:39] "GET /health HTTP/1.1" 200 -
2025-08-25 10:20:09,752 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:20:09] "GET /health HTTP/1.1" 200 -
2025-08-25 10:20:39,988 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:20:39] "GET /health HTTP/1.1" 200 -
2025-08-25 10:21:09,988 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:21:09] "GET /health HTTP/1.1" 200 -
2025-08-25 10:21:58,986 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:21:58] "GET /health HTTP/1.1" 200 -
2025-08-25 10:22:16,319 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:22:16] "GET /health HTTP/1.1" 200 -
2025-08-25 10:22:39,986 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:22:39] "GET /health HTTP/1.1" 200 -
2025-08-25 10:23:09,987 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:23:09] "GET /health HTTP/1.1" 200 -
2025-08-25 10:23:58,986 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:23:58] "GET /health HTTP/1.1" 200 -
2025-08-25 10:24:58,987 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:24:58] "GET /health HTTP/1.1" 200 -
2025-08-25 10:25:58,988 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:25:58] "GET /health HTTP/1.1" 200 -
2025-08-25 10:26:23,790 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:26:23] "GET /health HTTP/1.1" 200 -
2025-08-25 10:26:33,760 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:26:33] "GET /health HTTP/1.1" 200 -
2025-08-25 10:26:39,755 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:26:39] "GET /health HTTP/1.1" 200 -
2025-08-25 10:27:09,755 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:27:09] "GET /health HTTP/1.1" 200 -
2025-08-25 10:27:39,755 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:27:39] "GET /health HTTP/1.1" 200 -
2025-08-25 10:28:09,756 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:28:09] "GET /health HTTP/1.1" 200 -
2025-08-25 10:28:30,761 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:28:30] "GET /health HTTP/1.1" 200 -
2025-08-25 10:28:39,825 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:28:39] "OPTIONS /extract HTTP/1.1" 200 -
2025-08-25 10:28:39,828 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 323자
2025-08-25 10:28:39,828 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 10:28:39,828 - __main__ - INFO - DAG 추출과 함께 병렬 처리 시작
2025-08-25 10:28:39,829 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 시작: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰,...
2025-08-25 10:28:39,829 - mms_extractor - INFO - ============================================================
2025-08-25 10:28:39,829 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:28:39,829 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-25 10:28:39,830 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-25 10:28:39,830 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 323자
2025-08-25 10:28:39,829 - mms_extractor - INFO - ============================================================
2025-08-25 10:28:39,830 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
(광고)[SKT] 우리 아이 첫 번째 스마트폰, ZEM 키즈폰__#04 고객님, 안녕하세요!
우리 아이 스마트폰 고민 중이셨다면, 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전한 키즈폰,
ZEM폰 포켓몬에디션3으로 우리 아이 취향을 저격해 보세요!

✨ 특별 혜택
- 월 요금 20% 할인 (첫 6개월)
-...
2025-08-25 10:28:39,830 - mms_extractor - INFO - 메시지 길이: 323 문자
2025-08-25 10:28:39,830 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:28:39,831 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:28:39,831 - mms_extractor - INFO - 상품 정보 추출 모드: nlp
2025-08-25 10:28:39,830 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x34c135cd0> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x34c05bce0> root_client=<openai.OpenAI object at 0x34badfc80> root_async_client=<openai.AsyncOpenAI object at 0x34bd27110> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-25 10:28:39,831 - mms_extractor - INFO - 엔티티 추출 모드: logic
2025-08-25 10:28:39,831 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-25 10:28:39,831 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:28:39,831 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3268자
2025-08-25 10:28:39,831 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:28:39,834 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:28:39,834 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:28:39,834 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:28:39,834 - mms_extractor - INFO - 처리할 메시지 길이: 323 문자
2025-08-25 10:28:39,842 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:28:39,844 - mms_extractor - INFO - 분할된 문장 수: 7개
2025-08-25 10:28:39,845 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', ' 고객님 안녕하세요 ', '우리 아이 스마트폰 고민 중이셨다면 자녀 스마트폰 관리 앱 ZEM이 설치된 SKT만의 안전 키즈폰 ZEM폰 포켓몬에디션3으로 우리 아이 취향 저격 보세요 ']...
2025-08-25 10:28:39,847 - mms_extractor - INFO - 전체 토큰 수: 119개
2025-08-25 10:28:39,847 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', 'ZEM폰 포켓몬에디션3', '광고', '우리', '스마트폰', '우리', '아이', '스마트폰', '키즈폰', 'ZEM폰 포켓몬에디션3', '-', '포켓몬', '-', '프리미엄', '매장', '수신거부']
2025-08-25 10:28:39,847 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['ZEM폰 포켓몬에디션3', '키즈폰', '아이']
2025-08-25 10:28:39,847 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:28:47,616 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4784, 3)
2025-08-25 10:28:47,616 - mms_extractor - INFO - 퍼지 매칭 성공: 4784개 결과
2025-08-25 10:28:47,617 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.5}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.4285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.41666666666666663}]
2025-08-25 10:28:47,617 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:28:47,725 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4784, 3)
2025-08-25 10:28:47,726 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '아이폰 14', 'sim': 0.4}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': '스마트피싱보호', 'sim': 0.34285714285714286}, {'sent': ' SK텔레콤 ZEM폰 포켓몬에디션3 안내 광고 SKT 우리 아이 첫 번째 스마트폰 ZEM 키즈폰', 'item_nm_alias': 'PPS스마트폰 프리미엄', 'sim': 0.4}]
2025-08-25 10:28:47,726 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:28:47,728 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 26개
2025-08-25 10:28:47,733 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-25 10:28:47,733 - mms_extractor - INFO - 통합된 후보 아이템 수: 27개
2025-08-25 10:28:47,734 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-25 10:28:47,739 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-25 10:28:47,739 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}, {'item_nm': 'I-PREMIUM', 'item_id': ['NA00002268']}]
2025-08-25 10:28:47,740 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.91초
2025-08-25 10:28:47,740 - mms_extractor - INFO - 추출된 후보 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-25 10:28:47,740 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-25 10:28:47,740 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:28:47,795 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:28:47,795 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:28:47,795 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 400 문자
2025-08-25 10:28:47,795 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:28:47,795 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-25 10:28:47,795 - mms_extractor - INFO - 후보 아이템 리스트: ['ZEM폰 포켓몬에디션3', 'ZEM폰 포켓몬에디션2', '리안', '이마트', '포미', '치안', 'kt키즈폰', '레이', '포켓원-프리미엄', '0서비스', '스마트로', '스키', '우리아이', 'SK텔레콤(주)', '(T)프리미엄', 'I-프리미엄', 'T 서비스', '포켓원-무료서비스', '미스테리 서비스', '프리미엄 플러스']
2025-08-25 10:28:47,795 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-25 10:28:47,795 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:28:47,796 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0서비스', 'item_id': ['NA00008607']}]
2025-08-25 10:28:47,797 - mms_extractor - INFO - NLP 모드: 제품 요소 준비 완료 - 20개
2025-08-25 10:28:47,797 - mms_extractor - INFO - NLP 모드 제품 요소 샘플: [{'name': '(T)프리미엄', 'action': '기타'}, {'name': '0서비스', 'action': '기타'}]
2025-08-25 10:28:47,797 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:28:47,797 - mms_extractor - INFO - 구성된 프롬프트 길이: 6351 문자
2025-08-25 10:28:47,797 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: False
2025-08-25 10:28:55,109 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:28:55,112 - mms_extractor - INFO - LLM 응답 길이: 939 문자
2025-08-25 10:28:55,112 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] ZEM폰 포켓몬에디션3 안내",
    "purpose": [
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "ZEM폰 포켓몬에디션3",
            "action": "가입"
        },
        {
            "name": "ZEM 프리미엄 서비스",
            "action": "가입"
        },
        {
            "name": "포켓몬 케이스",
            "action": "증정"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "1588-0011",
            "action": "문의"
    ...
2025-08-25 10:28:55,112 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:28:55,113 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:28:55,113 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:28:55,113 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] ZEM폰 포켓몬에디션3 안내', 'purpose': ['상품 가입 유도', '혜택 안내'], 'product': [{'name': 'ZEM폰 포켓몬에디션3', 'action': '가입'}, {'name': 'ZEM 프리미엄 서비스', 'action': '가입'}, {'name': '포켓몬 케이스', 'action': '증정'}], 'channel': [{'type': '전화번호', 'value': '1588-0011', 'action': '문의'}, {'type': '대리점', 'value': '가까운 T world 매장', 'action': '가입'}, {'type': 'URL', 'value': 'www.tworld.co.kr', 'action': '추가 정보'}, {'type': '전화번호', 'value': '080-011-0000', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_단말', '사용법/혜택/이벤트안내_단말']}
2025-08-25 10:28:55,113 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:28:55,114 - mms_extractor - INFO - LLM 추출 엔티티: ['ZEM폰 포켓몬에디션3', 'ZEM 프리미엄 서비스', '포켓몬 케이스']
2025-08-25 10:28:55,529 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:28:55,529 - mms_extractor - INFO - ============================================================
2025-08-25 10:28:55,529 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:28:55,529 - mms_extractor - INFO - ============================================================
2025-08-25 10:28:55,529 - mms_extractor - INFO - 제목: [SK텔레콤] ZEM폰 포켓몬에디션3 안내
2025-08-25 10:28:55,529 - mms_extractor - INFO - 목적: ['상품 가입 유도', '혜택 안내']
2025-08-25 10:28:55,529 - mms_extractor - INFO - 상품 수: 2개
2025-08-25 10:28:55,529 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 10:28:55,529 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:28:55,529 - mms_extractor - INFO - process_message 실행완료: 15.70초
2025-08-25 10:29:00,758 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:29:00] "GET /health HTTP/1.1" 200 -
2025-08-25 10:29:02,263 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:29:02,265 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 2464자
2025-08-25 10:29:02,265 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 자녀의 첫 스마트폰으로 ZEM폰 포켓몬에디션3을 추천하며, 안전한 사용 환경과 특별 혜택을 강조합니다. 주요 혜택으로는 월 요금 20% 할인(첫 6개월), 포켓몬 케이스 무료 증정, ZEM 프리미엄 서비스 3개월 무료 이용이 제공됩니다.

[식별된 가치 제안 목록]
- ZEM폰 포켓...
2025-08-25 10:29:02,265 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-25 10:29:02,265 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 275자
2025-08-25 10:29:02,265 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-25 10:29:02,266 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 8, 엣지 수: 6
2025-08-25 10:29:02,266 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매', 'www.tworld.co.kr:접속', '월 요금 20% 할인:수령', '포켓몬 케이스:수령', 'ZEM 프리미엄 서비스 3개월 무료:수령', 'ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험']
2025-08-25 10:29:02,266 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('T world 매장:방문', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:구매', '월 요금 20% 할인:수령'), ('ZEM폰 포켓몬에디션3:구매', '포켓몬 케이스:수령'), ('ZEM폰 포켓몬에디션3:구매', 'ZEM 프리미엄 서비스 3개월 무료:수령'), ('www.tworld.co.kr:접속', 'ZEM폰 포켓몬에디션3:구매'), ('ZEM폰 포켓몬에디션3:사용', '안전한 사용 환경:경험')]
2025-08-25 10:29:02,266 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-25 10:29:02,266 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-25 10:29:02,266 - utils - INFO - 📊 입력 그래프 - 노드 수: 8, 엣지 수: 6
2025-08-25 10:29:02,267 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-25 10:29:02,528 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be.png
2025-08-25 10:29:02,528 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7918d9d4d4c330a6d67eec805db2f25918f6da467b9c0f04752a6d08c07595be
2025-08-25 10:29:02,529 - mms_extractor - INFO - 🕒 DAG 처리 시간: 22.699초
2025-08-25 10:29:02,529 - mms_extractor - INFO - 📏 DAG 섹션 길이: 275자
2025-08-25 10:29:02,529 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)
(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)
(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)
(ZEM폰 포켓몬에디션3:구매) -[...
2025-08-25 10:29:02,529 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 완료
2025-08-25 10:29:02,529 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 6자
2025-08-25 10:29:02,529 - __main__ - INFO - DAG 내용 미리보기: ['(T world 매장:방문) -[방문하여]-> (ZEM폰 포켓몬에디션3:구매)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (ZEM 프리미엄 서비스 3개월 무료:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (월 요금 20% 할인:수령)', '(ZEM폰 포켓몬에디션3:구매) -[구매하면]-> (포켓몬 케이스:수령)', '(ZEM폰 포켓몬에디션3:사용) -[사용하면]-> (안전한 사용 환경:경험)', '(www.tworld.co.kr:접속) -[접속하여]-> (ZEM폰 포켓몬에디션3:구매)']...
2025-08-25 10:29:02,529 - __main__ - INFO - 추출 완료: 22.701초
2025-08-25 10:29:02,530 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:29:02] "POST /extract HTTP/1.1" 200 -
2025-08-25 10:29:30,760 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:29:30] "GET /health HTTP/1.1" 200 -
2025-08-25 10:30:00,760 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:30:00] "GET /health HTTP/1.1" 200 -
2025-08-25 10:30:30,757 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:30:30] "GET /health HTTP/1.1" 200 -
2025-08-25 10:31:00,759 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:31:00] "GET /health HTTP/1.1" 200 -
2025-08-25 10:31:30,760 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:31:30] "GET /health HTTP/1.1" 200 -
2025-08-25 10:32:00,758 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:32:00] "GET /health HTTP/1.1" 200 -
2025-08-25 10:32:30,759 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:32:30] "GET /health HTTP/1.1" 200 -
2025-08-25 10:33:00,760 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:33:00] "GET /health HTTP/1.1" 200 -
2025-08-25 10:33:30,760 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:33:30] "GET /health HTTP/1.1" 200 -
2025-08-25 10:34:00,764 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:34:00] "GET /health HTTP/1.1" 200 -
2025-08-25 10:34:30,760 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:34:30] "GET /health HTTP/1.1" 200 -
2025-08-25 10:34:33,416 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:34:33] "GET /health HTTP/1.1" 200 -
2025-08-25 10:35:00,191 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 10:35:00] "GET /health HTTP/1.1" 200 -
2025-08-25 11:00:01,020 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-25 11:00:01,020 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-25 11:00:01,020 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-25 11:00:01,020 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-25 11:00:01,020 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-25 11:00:01,045 - mms_extractor - INFO - Using device: mps
2025-08-25 11:00:01,045 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-25 11:00:01,045 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-25 11:00:01,045 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-25 11:00:01,045 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-25 11:00:01,045 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-25 11:00:01,045 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-25 11:00:07,242 - mms_extractor - INFO - Model loaded on mps
2025-08-25 11:00:07,242 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 6.20초
2025-08-25 11:00:07,777 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-25 11:00:07,777 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.53초
2025-08-25 11:00:07,777 - mms_extractor - INFO - ============================================================
2025-08-25 11:00:07,777 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-25 11:00:07,777 - mms_extractor - INFO - ============================================================
2025-08-25 11:00:07,777 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-25 11:00:07,777 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-25 11:00:07,777 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-25 11:00:07,777 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-25 11:00:07,777 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-25 11:00:07,891 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-25 11:00:07,891 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-25 11:00:07,902 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-25 11:00:07,907 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-25 11:00:07,909 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-25 11:00:07,913 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-25 11:00:07,913 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-25 11:00:07,914 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-25 11:00:07,914 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-25 11:00:07,914 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-25 11:00:07,914 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-25 11:00:07,914 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-25 11:00:07,921 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-25 11:00:07,922 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-25 11:00:07,922 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-25 11:00:08,227 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-25 11:00:08,229 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-25 11:00:08,229 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-25 11:00:08,229 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-25 11:00:08,229 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-25 11:00:08,230 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-25 11:00:08,230 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-25 11:00:08,230 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-25 11:00:08,230 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-25 11:00:08,238 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-25 11:00:08,241 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-25 11:00:08,241 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-25 11:00:08,294 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-25 11:00:08,294 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-25 11:00:08,294 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-25 11:00:08,306 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-25 11:00:08,306 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-25 11:00:08,588 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-25 11:00:08,588 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-25 11:00:08,588 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-25 11:00:09,106 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-25 11:00:09,106 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-25 11:00:09,106 - mms_extractor - INFO - ============================================================
2025-08-25 11:00:09,106 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-25 11:00:09,106 - mms_extractor - INFO - ============================================================
2025-08-25 11:00:09,106 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-25 11:00:09,106 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-25 11:00:09,106 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-25 11:00:09,106 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-25 11:00:09,106 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-25 11:00:09,111 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-25 11:00:09,119 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-25 11:00:09,124 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-25 11:00:09,124 - mms_extractor - INFO - _load_data 실행완료: 1.35초
2025-08-25 11:00:09,124 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-25 11:00:09,124 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-25 11:00:09,124 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-25 11:00:09,124 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-25 11:00:09,124 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-25 11:00:09,124 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-25 11:00:09,124 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-25 11:00:09,124 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-25 11:00:09,124 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-25 11:00:09,124 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-25 11:00:09,124 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-25 11:00:09,148 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.23.113.233:8000
2025-08-25 11:00:09,148 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-25 11:11:15,125 - __main__ - INFO - CLI 데이터 소스 설정: local
2025-08-25 11:11:15,125 - __main__ - INFO - 전역 추출기 초기화 중...
2025-08-25 11:11:15,125 - __main__ - INFO - 데이터 소스로 전역 추출기 초기화 중: local
2025-08-25 11:11:15,125 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-25 11:11:15,125 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-25 11:11:15,143 - mms_extractor - INFO - Using device: mps
2025-08-25 11:11:15,143 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-25 11:11:15,144 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-25 11:11:15,144 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-25 11:11:15,144 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-25 11:11:15,144 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-25 11:11:15,144 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-25 11:11:22,713 - mms_extractor - INFO - Model loaded on mps
2025-08-25 11:11:22,714 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 7.57초
2025-08-25 11:11:23,198 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-25 11:11:23,199 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.49초
2025-08-25 11:11:23,199 - mms_extractor - INFO - ============================================================
2025-08-25 11:11:23,199 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-25 11:11:23,199 - mms_extractor - INFO - ============================================================
2025-08-25 11:11:23,199 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-25 11:11:23,199 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-25 11:11:23,199 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-25 11:11:23,199 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-25 11:11:23,199 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-25 11:11:23,310 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-25 11:11:23,310 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-25 11:11:23,319 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-25 11:11:23,323 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-25 11:11:23,324 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-25 11:11:23,328 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-25 11:11:23,328 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-25 11:11:23,328 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-25 11:11:23,328 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-25 11:11:23,328 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-25 11:11:23,328 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-25 11:11:23,328 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-25 11:11:23,336 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-25 11:11:23,337 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-25 11:11:23,337 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-25 11:11:23,636 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-25 11:11:23,638 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-25 11:11:23,638 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-25 11:11:23,638 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-25 11:11:23,638 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-25 11:11:23,640 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-25 11:11:23,640 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-25 11:11:23,640 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-25 11:11:23,640 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-25 11:11:23,647 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-25 11:11:23,650 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-25 11:11:23,650 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-25 11:11:23,702 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-25 11:11:23,702 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-25 11:11:23,702 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-25 11:11:23,715 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-25 11:11:23,715 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-25 11:11:24,000 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-25 11:11:24,001 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-25 11:11:24,001 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-25 11:11:24,496 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-25 11:11:24,496 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-25 11:11:24,496 - mms_extractor - INFO - ============================================================
2025-08-25 11:11:24,496 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-25 11:11:24,496 - mms_extractor - INFO - ============================================================
2025-08-25 11:11:24,496 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-25 11:11:24,496 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-25 11:11:24,496 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-25 11:11:24,496 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-25 11:11:24,496 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-25 11:11:24,501 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-25 11:11:24,508 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-25 11:11:24,512 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-25 11:11:24,513 - mms_extractor - INFO - _load_data 실행완료: 1.31초
2025-08-25 11:11:24,513 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-25 11:11:24,513 - __main__ - INFO - 전역 추출기 초기화 완료
2025-08-25 11:11:24,513 - __main__ - INFO - 파싱된 인자: host=0.0.0.0, port=8000, debug=False
2025-08-25 11:11:24,513 - __main__ - INFO - ✅ 전역 추출기 초기화 완료, 요청 처리 준비됨
2025-08-25 11:11:24,513 - __main__ - INFO - MMS 추출기 API 서버를 0.0.0.0:8000에서 시작합니다
2025-08-25 11:11:24,513 - __main__ - INFO - 사용 가능한 엔드포인트:
2025-08-25 11:11:24,513 - __main__ - INFO -   GET  /health - 헬스체크
2025-08-25 11:11:24,513 - __main__ - INFO -   GET  /models - 사용 가능한 모델 목록
2025-08-25 11:11:24,513 - __main__ - INFO -   GET  /status - 서버 상태 조회
2025-08-25 11:11:24,513 - __main__ - INFO -   POST /extract - 단일 메시지 추출
2025-08-25 11:11:24,513 - __main__ - INFO -   POST /extract/batch - 다중 메시지 배치 추출
2025-08-25 11:12:49,162 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 11:12:49] "GET /health HTTP/1.1" 200 -
2025-08-25 11:13:12,449 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 11:13:12] "GET /health HTTP/1.1" 200 -
2025-08-25 11:13:50,441 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 11:13:50] "GET /health HTTP/1.1" 200 -
2025-08-25 11:14:31,622 - __main__ - INFO - 🎯 DAG 추출 요청됨 - LLM: ax, 메시지 길이: 370자
2025-08-25 11:14:31,623 - __main__ - INFO - 데이터 소스로 메시지 처리 중: local
2025-08-25 11:14:31,623 - __main__ - INFO - DAG 추출과 함께 병렬 처리 시작
2025-08-25 11:14:31,623 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 시작: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 ...
2025-08-25 11:14:31,623 - mms_extractor - INFO - ============================================================
2025-08-25 11:14:31,623 - mms_extractor - INFO - ============================== DAG 추출 시작 ==============================
2025-08-25 11:14:31,623 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 11:14:31,623 - entity_dag_extractor - INFO - 🚀 DAG 추출 프로세스 시작
2025-08-25 11:14:31,623 - mms_extractor - INFO - ============================================================
2025-08-25 11:14:31,623 - entity_dag_extractor - INFO - 📝 입력 메시지 길이: 370자
2025-08-25 11:14:31,623 - mms_extractor - INFO - 메시지 내용: 광고 제목:[SK텔레콤] 2월 0 day 혜택 안내
광고 내용:(광고)[SKT] 2월 0 day 혜택 안내__[2월 10일(토) 혜택]_만 13~34세 고객이라면_베어유 모든 강의 14일 무료 수강 쿠폰 드립니다!_(선착순 3만 명 증정)_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3...
2025-08-25 11:14:31,624 - entity_dag_extractor - INFO - 🤖 사용 LLM 모델: client=<openai.resources.chat.completions.completions.Completions object at 0x341c5f140> async_client=<openai.resources.chat.completions.completions.AsyncCompletions object at 0x357ab7200> root_client=<openai.OpenAI object at 0x341d2d760> root_async_client=<openai.AsyncOpenAI object at 0x341c5fa40> model_name='skt/ax4' temperature=0.0 model_kwargs={} openai_api_key=SecretStr('**********') openai_api_base='https://api.platform.a15t.com/v1' max_tokens=4000
2025-08-25 11:14:31,624 - mms_extractor - INFO - 메시지 길이: 370 문자
2025-08-25 11:14:31,624 - entity_dag_extractor - INFO - 🤖 LLM에 DAG 추출 요청 중...
2025-08-25 11:14:31,624 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 11:14:31,624 - entity_dag_extractor - INFO - 📏 프롬프트 길이: 3315자
2025-08-25 11:14:31,624 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 11:14:31,624 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 11:14:31,624 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 11:14:31,624 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 11:14:31,624 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 11:14:31,625 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 11:14:31,625 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 11:14:31,625 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 11:14:31,625 - mms_extractor - INFO - 처리할 메시지 길이: 370 문자
2025-08-25 11:14:31,631 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 11:14:32,221 - mms_extractor - INFO - 분할된 문장 수: 14개
2025-08-25 11:14:32,221 - mms_extractor - INFO - 필터링된 문장들: ['광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', ' 토 혜택 ', '만 13 고객이라면']...
2025-08-25 11:14:32,223 - mms_extractor - INFO - 전체 토큰 수: 134개
2025-08-25 11:14:32,223 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '베어유', '에이닷', '시크릿', '이벤트', '에이닷', '쿠폰', '에이닷이빵쏜닷', '뚜레쥬르', '데일리', '쿠폰', '시크릿', '수신거부']
2025-08-25 11:14:32,224 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['뚜레쥬르', '시크릿', '에이닷이빵쏜닷', '베어유', '0 day', '데일리']
2025-08-25 11:14:32,224 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 11:14:40,588 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14323, 3)
2025-08-25 11:14:40,588 - mms_extractor - INFO - 퍼지 매칭 성공: 14323개 결과
2025-08-25 11:14:40,597 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-25 11:14:40,597 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 11:14:40,729 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14323, 3)
2025-08-25 11:14:40,729 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.2909090909090909}, {'sent': '광고 제목 SK텔레콤 0 day 혜택 안내 광고 내용 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-25 11:14:40,729 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 11:14:40,736 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 11개
2025-08-25 11:14:40,742 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-25 11:14:40,742 - mms_extractor - INFO - 통합된 후보 아이템 수: 15개
2025-08-25 11:14:40,746 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 11:14:40,750 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (10, 2)
2025-08-25 11:14:40,751 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-25 11:14:40,751 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 9.13초
2025-08-25 11:14:40,751 - mms_extractor - INFO - 추출된 후보 엔티티: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 11:14:40,751 - mms_extractor - INFO - 매칭된 상품 정보: (10, 2)
2025-08-25 11:14:40,751 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 11:14:40,925 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 11:14:40,925 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 11:14:40,925 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 387 문자
2025-08-25 11:14:40,925 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 11:14:40,925 - mms_extractor - INFO - 후보 아이템 리스트 크기: 10개
2025-08-25 11:14:40,925 - mms_extractor - INFO - 후보 아이템 리스트: ['0 day', '뚜레쥬르', '베어유', '시크릿', 'T쿠폰', 'data', '우드', 'T 에이스', 'CU(0 day)', 'LTE 혜택 안내']
2025-08-25 11:14:40,925 - mms_extractor - INFO - extra_item_pdf 크기: (10, 2)
2025-08-25 11:14:40,925 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 11:14:40,926 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'CU(0 day)', 'item_id': ['V861']}]
2025-08-25 11:14:40,926 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 11:14:40,926 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 11:14:40,926 - mms_extractor - INFO - 구성된 프롬프트 길이: 6217 문자
2025-08-25 11:14:40,926 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 11:14:47,660 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 11:14:47,671 - mms_extractor - INFO - LLM 응답 길이: 921 문자
2025-08-25 11:14:47,671 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 2월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "이벤트 응모 유도"
    ],
    "product": [
        {
            "name": "베어유 모든 강의",
            "action": "사용"
        },
        {
            "name": "뚜레쥬르 데일리우유식빵",
            "action": "구매"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc",
            "action": "추가 정보"
        },
...
2025-08-25 11:14:47,671 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 11:14:47,672 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 11:14:47,672 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 11:14:47,672 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 2월 0 day 혜택 안내', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도'], 'product': [{'name': '베어유 모든 강의', 'action': '사용'}, {'name': '뚜레쥬르 데일리우유식빵', 'action': '구매'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=24589&a=&u=https://bit.ly/3SfBjjc', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3HCUhLM', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_T멤버십']}
2025-08-25 11:14:47,672 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 11:14:47,672 - mms_extractor - INFO - LLM 추출 엔티티: ['베어유 모든 강의', '뚜레쥬르 데일리우유식빵']
2025-08-25 11:14:48,907 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 11:14:49,165 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.49초
2025-08-25 11:14:49,173 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 11:14:49,173 - mms_extractor - INFO - ============================================================
2025-08-25 11:14:49,173 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 11:14:49,173 - mms_extractor - INFO - ============================================================
2025-08-25 11:14:49,173 - mms_extractor - INFO - 제목: [SK텔레콤] 2월 0 day 혜택 안내
2025-08-25 11:14:49,173 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '이벤트 응모 유도']
2025-08-25 11:14:49,173 - mms_extractor - INFO - 상품 수: 3개
2025-08-25 11:14:49,173 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 11:14:49,173 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 11:14:49,174 - mms_extractor - INFO - process_message 실행완료: 17.55초
2025-08-25 11:14:49,756 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 11:14:49,756 - entity_dag_extractor - INFO - 📝 LLM 응답 길이: 1891자
2025-08-25 11:14:49,757 - entity_dag_extractor - INFO - 📄 LLM 응답 미리보기: ### 1. 메시지 분석
```
[메시지 요약 및 핵심 의도]
SK텔레콤은 2월 0 day 혜택으로 만 13~34세 고객에게 베어유 강의 14일 무료 수강 쿠폰을 선착순 3만 명에게 제공하며, 에이닷 T 멤버십 쿠폰함에 '에이닷이빵쏜닷' 시크릿코드를 입력하면 뚜레쥬르 데일리우유식빵 무료 쿠폰을 제공하는 이벤트를 안내하고 있다.

[식별된 가치 제안 목록]
...
2025-08-25 11:14:49,757 - entity_dag_extractor - INFO - 🔍 DAG 섹션 추출 중...
2025-08-25 11:14:49,757 - entity_dag_extractor - INFO - 📄 추출된 DAG 섹션 길이: 89자
2025-08-25 11:14:49,757 - entity_dag_extractor - INFO - 🔗 DAG 파싱 중...
2025-08-25 11:14:49,757 - entity_dag_extractor - INFO - 📊 파싱된 DAG - 노드 수: 5, 엣지 수: 3
2025-08-25 11:14:49,757 - entity_dag_extractor - INFO - 🎯 DAG 노드 목록: ['웹사이트:접속', '베어유쿠폰:수령', '앱:접속', '시크릿코드:입력', '식빵쿠폰:수령']
2025-08-25 11:14:49,757 - entity_dag_extractor - INFO - 🔗 DAG 엣지 목록: [('웹사이트:접속', '베어유쿠폰:수령'), ('앱:접속', '시크릿코드:입력'), ('시크릿코드:입력', '식빵쿠폰:수령')]
2025-08-25 11:14:49,757 - entity_dag_extractor - INFO - ✅ DAG 추출 프로세스 완료
2025-08-25 11:14:49,757 - utils - INFO - 🎨 DAG 다이어그램 생성 시작 - 파일명: dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d
2025-08-25 11:14:49,757 - utils - INFO - 📊 입력 그래프 - 노드 수: 5, 엣지 수: 3
2025-08-25 11:14:49,757 - utils - INFO - 🖼️ DAG 이미지 렌더링 중...
2025-08-25 11:14:50,636 - utils - INFO - ✅ DAG 다이어그램 생성 완료: dag_images/dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d.png
2025-08-25 11:14:50,636 - mms_extractor - INFO - ✅ DAG 추출 완료: dag_7624a7d9dc579604383d572d683a433d2c942896ac4eaab92562f8ebd1814b0d
2025-08-25 11:14:50,636 - mms_extractor - INFO - 🕒 DAG 처리 시간: 19.013초
2025-08-25 11:14:50,637 - mms_extractor - INFO - 📏 DAG 섹션 길이: 89자
2025-08-25 11:14:50,637 - mms_extractor - INFO - 📄 DAG 내용 미리보기: (웹사이트:접속) -[접속하여]-> (베어유쿠폰:수령)
(앱:접속) -[접속하여]-> (시크릿코드:입력)
(시크릿코드:입력) -[입력하면]-> (식빵쿠폰:수령)...
2025-08-25 11:14:50,637 - mms_extractor - INFO - 워커 프로세스에서 메시지 처리 완료
2025-08-25 11:14:50,637 - __main__ - INFO - ✅ DAG 추출 성공 - 길이: 3자
2025-08-25 11:14:50,637 - __main__ - INFO - DAG 내용 미리보기: ['(시크릿코드:입력) -[입력하면]-> (식빵쿠폰:수령)', '(앱:접속) -[접속하여]-> (시크릿코드:입력)', '(웹사이트:접속) -[접속하여]-> (베어유쿠폰:수령)']...
2025-08-25 11:14:50,637 - __main__ - INFO - 추출 완료: 19.014초
2025-08-25 11:14:50,638 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 11:14:50] "POST /extract HTTP/1.1" 200 -
2025-08-25 11:18:52,217 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 11:18:52] "GET /health HTTP/1.1" 200 -
2025-08-25 11:20:20,175 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 11:20:20] "GET /health HTTP/1.1" 200 -
2025-08-25 11:20:36,293 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 11:20:36] "GET /health HTTP/1.1" 200 -
2025-08-25 11:21:26,465 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 11:21:26] "GET /health HTTP/1.1" 200 -
