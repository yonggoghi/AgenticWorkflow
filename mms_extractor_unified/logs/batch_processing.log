2025-08-13 17:17:24,327 - __main__ - INFO - ==================================================
2025-08-13 17:17:24,327 - __main__ - INFO - Starting Batch MMS Processing
2025-08-13 17:17:24,327 - __main__ - INFO - ==================================================
2025-08-13 17:17:24,327 - __main__ - INFO - Batch size: 3
2025-08-13 17:17:24,327 - __main__ - INFO - Output file: ./data/batch_results.csv
2025-08-13 17:17:24,327 - __main__ - INFO - Extractor config: {'offer_info_data_src': 'local', 'product_info_extraction_mode': 'llm', 'entity_extraction_mode': 'llm', 'llm_model': 'ax'}
2025-08-13 17:17:24,327 - __main__ - INFO - ==================================================
2025-08-13 17:17:24,327 - __main__ - INFO - Loading MMS data from: ./data/mms_data_250806.csv
2025-08-13 17:17:24,814 - __main__ - INFO - Loaded 23950 messages
2025-08-13 17:17:24,814 - __main__ - INFO - Initializing MMS Extractor...
2025-08-13 17:17:24,814 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-13 17:17:24,853 - mms_extractor - INFO - Using device: mps
2025-08-13 17:17:24,853 - mms_extractor - INFO - _initialize_device 실행완료: 0.04초
2025-08-13 17:17:25,410 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-13 17:17:25,410 - mms_extractor - INFO - _initialize_llm 실행완료: 0.56초
2025-08-13 17:17:25,410 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-13 17:17:25,410 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-13 17:17:25,410 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-13 17:17:27,599 - mms_extractor - INFO - Model loaded on mps
2025-08-13 17:17:27,599 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 2.19초
2025-08-13 17:17:28,045 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-13 17:17:28,045 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.45초
2025-08-13 17:17:28,045 - mms_extractor - INFO - 데이터 로딩 시작
2025-08-13 17:17:28,172 - mms_extractor - INFO - 상품 정보 로드 완료: 44275개 상품
2025-08-13 17:17:28,482 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-13 17:17:28,484 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-13 17:17:28,545 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개
2025-08-13 17:17:28,546 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-13 17:17:28,549 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-13 17:17:28,549 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-13 17:17:28,725 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-13 17:17:29,219 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-13 17:17:29,219 - mms_extractor - INFO - 데이터 로딩 완료
2025-08-13 17:17:29,219 - mms_extractor - INFO - _load_data 실행완료: 1.17초
2025-08-13 17:17:29,219 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-13 17:17:29,219 - __main__ - INFO - MMS Extractor initialized successfully
2025-08-13 17:17:29,222 - __main__ - INFO - Found 18 previously processed messages
2025-08-13 17:17:29,234 - __main__ - INFO - Total messages: 23950
2025-08-13 17:17:29,234 - __main__ - INFO - Previously processed: 18
2025-08-13 17:17:29,234 - __main__ - INFO - Unprocessed messages: 23932
2025-08-13 17:17:29,234 - __main__ - INFO - Sampled 3 messages for processing
2025-08-13 17:17:29,234 - __main__ - INFO - Processing 3 messages...
2025-08-13 17:17:29,234 - __main__ - INFO - Processing message 21987: 새로 가입만 하면 100% 선물을 드립니다!
(광고)[SKT] 0캠퍼스 신규가입 혜택 안내...
2025-08-13 17:17:29,235 - mms_extractor - INFO - 메시지 처리 시작: 새로 가입만 하면 100% 선물을 드립니다!
(광고)[SKT] 0캠퍼스 신규가입 혜택 안내  스타벅스 비아 vs 올리브영 5,000원 쿠폰, 당신의 선택은? 0캠퍼스 새로 가입하고...
2025-08-13 17:17:29,776 - mms_extractor - INFO - Kiwi 추출 엔티티: ['아쿠아', '록시땅', '히어로8', '뿌링클', '여기어때', '올리브영', '레오티에', '스페셜', '데이브', '비아', '스타벅스', '미니빔', '고프로', '치즈볼', '굿 나잇', '0캠퍼스', '꿀팁', '홈캉스', '스키', '키트']
2025-08-13 17:17:36,352 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.12초
2025-08-13 17:17:46,178 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:17:46,193 - mms_extractor - INFO - LLM 추출 엔티티: ['0캠퍼스', '스타벅스 비아 아이스커피(5개입)', '올리브영 5,000원 할인 쿠폰', '고프로 히어로8 블랙', '록시땅 아쿠아 레오티에 스킨 키트', '여기어때 50,000원 할인권', 'LG 시네빔 PH550', 'BHC 뿌링클+치즈볼+콜라 쿠폰', '굿나잇데이브 파자마 교환권']
2025-08-13 17:17:48,456 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:17:50,130 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 3.94초
2025-08-13 17:17:50,138 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 17:17:50,138 - mms_extractor - INFO - process_message 실행완료: 20.90초
2025-08-13 17:17:50,138 - __main__ - INFO - Successfully processed message 21987
2025-08-13 17:17:50,138 - __main__ - INFO - Processing message 10339: [SK텔레콤] 걷는 것에 자신있나요? 
(광고)[SKT] AIA Vitality 앱 혜택 ...
2025-08-13 17:17:50,138 - mms_extractor - INFO - 메시지 처리 시작: [SK텔레콤] 걷는 것에 자신있나요? 
(광고)[SKT] AIA Vitality 앱 혜택 안내  #04 고객님, 안녕하세요. 걷기만 해도 갤럭시 워치, 스타벅스 커피 등의 혜택을 ...
2025-08-13 17:17:50,149 - mms_extractor - INFO - Kiwi 추출 엔티티: ['AIA Vitality', '갤럭시', '기프트', '스타벅스', '이마트', '교보문고']
2025-08-13 17:17:51,387 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.25초
2025-08-13 17:18:02,464 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:18:02,466 - mms_extractor - INFO - LLM 추출 엔티티: []
2025-08-13 17:18:03,503 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:18:04,133 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.67초
2025-08-13 17:18:04,141 - mms_extractor - WARNING - 필수 필드 누락: title
2025-08-13 17:18:04,141 - mms_extractor - WARNING - 필수 필드 누락: purpose
2025-08-13 17:18:04,141 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 17:18:04,141 - mms_extractor - INFO - process_message 실행완료: 14.00초
2025-08-13 17:18:04,141 - __main__ - INFO - Successfully processed message 10339
2025-08-13 17:18:04,141 - __main__ - INFO - Processing message 13885: [SK텔레콤] 신창 대리점 광운대직영점 봄맞이 행사
(광고)[SKT]신창 대리점 광운대직영...
2025-08-13 17:18:04,141 - mms_extractor - INFO - 메시지 처리 시작: [SK텔레콤] 신창 대리점 광운대직영점 봄맞이 행사
(광고)[SKT]신창 대리점 광운대직영점 봄맞이 행사__고객님, 안녕하세요._SK텔레콤 광운대점에서 다양한 이벤트를 진행합니다....
2025-08-13 17:18:04,152 - mms_extractor - INFO - Kiwi 추출 엔티티: ['도어가드', '에디션', '캡스', '포켓몬', '신창', '잼폰', '광운대', '택1', '갤럭시S', '태블릿', '문자']
2025-08-13 17:18:07,315 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 3.17초
2025-08-13 17:18:20,811 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:18:20,813 - mms_extractor - INFO - LLM 추출 엔티티: []
2025-08-13 17:18:22,348 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-13 17:18:22,830 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 2.02초
2025-08-13 17:18:22,837 - mms_extractor - WARNING - 필수 필드 누락: title
2025-08-13 17:18:22,837 - mms_extractor - WARNING - 필수 필드 누락: purpose
2025-08-13 17:18:22,837 - mms_extractor - INFO - 메시지 처리 완료
2025-08-13 17:18:22,837 - mms_extractor - INFO - process_message 실행완료: 18.70초
2025-08-13 17:18:22,837 - __main__ - INFO - Successfully processed message 13885
2025-08-13 17:18:22,837 - __main__ - INFO - Completed processing 3 messages
2025-08-13 17:18:22,837 - __main__ - INFO - Appending 3 results to existing file: ./data/batch_results.csv
2025-08-13 17:18:22,848 - __main__ - INFO - Results saved to: ./data/batch_results.csv
2025-08-13 17:18:22,848 - __main__ - INFO - Successfully processed 3 messages
2025-08-13 17:18:22,848 - __main__ - INFO - Processed message IDs: ['21987', '10339', '13885']
2025-08-13 17:18:22,848 - __main__ - INFO - ==================================================
2025-08-13 17:18:22,849 - __main__ - INFO - Batch Processing Summary
2025-08-13 17:18:22,849 - __main__ - INFO - ==================================================
2025-08-13 17:18:22,849 - __main__ - INFO - status: completed
2025-08-13 17:18:22,849 - __main__ - INFO - processed_count: 3
2025-08-13 17:18:22,849 - __main__ - INFO - successful_count: 3
2025-08-13 17:18:22,849 - __main__ - INFO - failed_count: 0
2025-08-13 17:18:22,849 - __main__ - INFO - results_file: ./data/batch_results.csv
2025-08-13 17:18:22,849 - __main__ - INFO - ==================================================
2025-08-19 15:03:10,299 - __main__ - INFO - ==================================================
2025-08-19 15:03:10,299 - __main__ - INFO - Starting Batch MMS Processing
2025-08-19 15:03:10,299 - __main__ - INFO - ==================================================
2025-08-19 15:03:10,299 - __main__ - INFO - Batch size: 3
2025-08-19 15:03:10,299 - __main__ - INFO - Output file: ./data/batch_results.csv
2025-08-19 15:03:10,299 - __main__ - INFO - Extractor config: {'offer_info_data_src': 'local', 'product_info_extraction_mode': 'llm', 'entity_extraction_mode': 'llm', 'llm_model': 'ax', 'extract_entity_dag': True}
2025-08-19 15:03:10,299 - __main__ - INFO - ==================================================
2025-08-19 15:03:10,299 - __main__ - INFO - Loading MMS data from: ./data/mms_data_250806.csv
2025-08-19 15:03:10,741 - __main__ - INFO - Loaded 23950 messages
2025-08-19 15:03:10,741 - __main__ - INFO - Initializing MMS Extractor...
2025-08-19 15:03:10,741 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-19 15:03:10,815 - mms_extractor - INFO - Using device: mps
2025-08-19 15:03:10,816 - mms_extractor - INFO - _initialize_device 실행완료: 0.07초
2025-08-19 15:03:10,816 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-19 15:03:10,816 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-19 15:03:10,816 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-19 15:03:10,816 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-19 15:03:10,816 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-19 15:03:16,837 - mms_extractor - INFO - Model loaded on mps
2025-08-19 15:03:16,837 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 6.02초
2025-08-19 15:03:17,275 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-19 15:03:17,275 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.44초
2025-08-19 15:03:17,275 - mms_extractor - INFO - ============================================================
2025-08-19 15:03:17,275 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-19 15:03:17,275 - mms_extractor - INFO - ============================================================
2025-08-19 15:03:17,275 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-19 15:03:17,275 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-19 15:03:17,275 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-19 15:03:17,275 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-19 15:03:17,275 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-19 15:03:17,389 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-19 15:03:17,389 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-19 15:03:17,398 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-19 15:03:17,402 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-19 15:03:17,403 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-19 15:03:17,406 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-19 15:03:17,406 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-19 15:03:17,407 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-19 15:03:17,407 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-19 15:03:17,407 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-19 15:03:17,407 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-19 15:03:17,407 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-19 15:03:17,414 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-19 15:03:17,415 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-19 15:03:17,415 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-19 15:03:17,755 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-19 15:03:17,757 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-19 15:03:17,757 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-19 15:03:17,757 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-19 15:03:17,757 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-19 15:03:17,758 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-19 15:03:17,759 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-19 15:03:17,759 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-19 15:03:17,759 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-19 15:03:17,765 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-19 15:03:17,768 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-19 15:03:17,768 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-19 15:03:17,817 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-19 15:03:17,817 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-19 15:03:17,817 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-19 15:03:17,826 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-19 15:03:17,826 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-19 15:03:18,011 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-19 15:03:18,011 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-19 15:03:18,012 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-19 15:03:18,501 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-19 15:03:18,501 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-19 15:03:18,501 - mms_extractor - INFO - ============================================================
2025-08-19 15:03:18,501 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-19 15:03:18,501 - mms_extractor - INFO - ============================================================
2025-08-19 15:03:18,501 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-19 15:03:18,501 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-19 15:03:18,501 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-19 15:03:18,501 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-19 15:03:18,501 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-19 15:03:18,506 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-19 15:03:18,514 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-19 15:03:18,517 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-19 15:03:18,517 - mms_extractor - INFO - _load_data 실행완료: 1.24초
2025-08-19 15:03:18,517 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-19 15:03:18,517 - __main__ - INFO - MMS Extractor initialized successfully
2025-08-19 15:03:18,524 - __main__ - INFO - Found 21 previously processed messages
2025-08-19 15:03:18,535 - __main__ - INFO - Total messages: 23950
2025-08-19 15:03:18,535 - __main__ - INFO - Previously processed: 21
2025-08-19 15:03:18,535 - __main__ - INFO - Unprocessed messages: 23929
2025-08-19 15:03:18,535 - __main__ - INFO - Sampled 3 messages for processing
2025-08-19 15:03:18,535 - __main__ - INFO - Processing 3 messages...
2025-08-19 15:03:18,535 - __main__ - INFO - Processing message 15922: [SK텔레콤] 정원 대리점 하남직영점 행사안내드립니다.
(광고)[SKT]  정원 대리점 하...
2025-08-19 15:03:18,535 - mms_extractor - INFO - ============================================================
2025-08-19 15:03:18,535 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-19 15:03:18,535 - mms_extractor - INFO - ============================================================
2025-08-19 15:03:18,535 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 정원 대리점 하남직영점 행사안내드립니다.
(광고)[SKT]  정원 대리점 하남직영점 행사안내__고객님, 안녕하세요 _SK공식인증대리점 정원대리점 하남직영점 입니다.__■매장 오픈 기념 전기종 세일행사이벤트 진행                                                      _■수험생분들을 위한 아이폰 갤럭시 파...
2025-08-19 15:03:18,535 - mms_extractor - INFO - 메시지 길이: 994 문자
2025-08-19 15:03:18,536 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-19 15:03:18,536 - mms_extractor - INFO - 데이터 소스: local
2025-08-19 15:03:18,536 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-19 15:03:18,536 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-19 15:03:18,536 - mms_extractor - INFO - LLM 모델: ax
2025-08-19 15:03:18,536 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-19 15:03:18,536 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-19 15:03:18,536 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-19 15:03:18,536 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-19 15:03:18,536 - mms_extractor - INFO - 처리할 메시지 길이: 994 문자
2025-08-19 15:03:18,541 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-19 15:03:19,043 - mms_extractor - INFO - 분할된 문장 수: 22개
2025-08-19 15:03:19,043 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 정원 대리점 하남직영점 행사안내드립니다 광고 SKT ', '정원 대리점 하남직영점 행사안내', '고객님 안녕하세요']...
2025-08-19 15:03:19,050 - mms_extractor - INFO - 전체 토큰 수: 252개
2025-08-19 15:03:19,050 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '하남', '광고', '하남', '하남', '매장', '아이폰', '갤럭시', '할인', '단종', '갤럭시', '갤럭시', '삼성', '태블릿', '삼성 갤럭시 북', '택1', '-', '프라임 플러스', '인터넷', '-', '유선', '인터넷', '가입', '-', '우리', '-', '하남', '-', '매장', '전화', '-', '매장', '경기도', '하남시', '신장로', '대동', '피렌체', '수신거부']
2025-08-19 15:03:19,050 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['대동', '신장로', '피렌체', '택1', '태블릿', '하남시', '단종', '경기도', '프라임 플러스', '아이폰', '삼성 갤럭시 북']
2025-08-19 15:03:19,050 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-19 15:03:26,718 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14008, 3)
2025-08-19 15:03:26,718 - mms_extractor - INFO - 퍼지 매칭 성공: 14008개 결과
2025-08-19 15:03:26,727 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 정원 대리점 하남직영점 행사안내드립니다 광고 SKT ', 'item_nm_alias': '미정', 'sim': 0.5}, {'sent': ' SK텔레콤 정원 대리점 하남직영점 행사안내드립니다 광고 SKT ', 'item_nm_alias': 'test', 'sim': 0.5714285714285714}, {'sent': ' SK텔레콤 정원 대리점 하남직영점 행사안내드립니다 광고 SKT ', 'item_nm_alias': 'smart29', 'sim': 0.4}]
2025-08-19 15:03:26,727 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-19 15:03:26,869 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14008, 3)
2025-08-19 15:03:26,869 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 정원 대리점 하남직영점 행사안내드립니다 광고 SKT ', 'item_nm_alias': '미정', 'sim': 0.4}, {'sent': ' SK텔레콤 정원 대리점 하남직영점 행사안내드립니다 광고 SKT ', 'item_nm_alias': 'test', 'sim': 0.4}, {'sent': ' SK텔레콤 정원 대리점 하남직영점 행사안내드립니다 광고 SKT ', 'item_nm_alias': 'smart29', 'sim': 0.22857142857142856}]
2025-08-19 15:03:26,869 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-19 15:03:26,873 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 24개
2025-08-19 15:03:26,878 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 4개
2025-08-19 15:03:26,879 - mms_extractor - INFO - 통합된 후보 아이템 수: 28개
2025-08-19 15:03:26,880 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['프라임 플러스', '삼성 갤럭시 북', '갤럭시 S21', '갤럭시 S21+', 'T가드', '이반', '우리아이', '문자', '리안', '갤럭시S3', '갤럭시S2', '갤럭시S', 'SK텔레콤(주)', '갤럭시 S25', '갤럭시 S22+', '갤럭시 S22', '갤럭시 S10', '갤럭시 A31', '갤럭시 A23', '갤럭시 S25+', '갤럭시 S23 FE', '갤럭시 북S', '적립+할인', '갤럭시 S10e', '스펀지 무료체험']
2025-08-19 15:03:26,884 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (25, 2)
2025-08-19 15:03:26,885 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': 'SK텔레콤(주)', 'item_id': ['V275']}, {'item_nm': 'SMS', 'item_id': ['NK00000057', 'PD00002401']}, {'item_nm': 'T가드', 'item_id': ['NA00003916']}]
2025-08-19 15:03:26,885 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 8.35초
2025-08-19 15:03:26,885 - mms_extractor - INFO - 추출된 후보 엔티티: ['프라임 플러스' '삼성 갤럭시 북' '갤럭시 S21' '갤럭시 S21+' 'T가드' '이반' '우리아이' '문자' '리안'
 '갤럭시S3' '갤럭시S2' '갤럭시S' 'SK텔레콤(주)' '갤럭시 S25' '갤럭시 S22+' '갤럭시 S22'
 '갤럭시 S10' '갤럭시 A31' '갤럭시 A23' '갤럭시 S25+' '갤럭시 S23 FE' '갤럭시 북S' '적립+할인'
 '갤럭시 S10e' '스펀지 무료체험']
2025-08-19 15:03:26,885 - mms_extractor - INFO - 매칭된 상품 정보: (25, 2)
2025-08-19 15:03:26,885 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-19 15:03:27,210 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-19 15:03:27,210 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-19 15:03:27,211 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 389 문자
2025-08-19 15:03:27,211 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-19 15:03:27,211 - mms_extractor - INFO - 후보 아이템 리스트 크기: 25개
2025-08-19 15:03:27,211 - mms_extractor - INFO - 후보 아이템 리스트: ['프라임 플러스' '삼성 갤럭시 북' '갤럭시 S21' '갤럭시 S21+' 'T가드' '이반' '우리아이' '문자' '리안'
 '갤럭시S3' '갤럭시S2' '갤럭시S' 'SK텔레콤(주)' '갤럭시 S25' '갤럭시 S22+' '갤럭시 S22'
 '갤럭시 S10' '갤럭시 A31' '갤럭시 A23' '갤럭시 S25+' '갤럭시 S23 FE' '갤럭시 북S' '적립+할인'
 '갤럭시 S10e' '스펀지 무료체험']
2025-08-19 15:03:27,211 - mms_extractor - INFO - extra_item_pdf 크기: (25, 2)
2025-08-19 15:03:27,211 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-19 15:03:27,211 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': 'SK텔레콤(주)', 'item_id': ['V275']}, {'item_nm': 'SMS', 'item_id': ['NK00000057', 'PD00002401']}]
2025-08-19 15:03:27,211 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-19 15:03:27,211 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-19 15:03:27,211 - mms_extractor - INFO - 구성된 프롬프트 길이: 6988 문자
2025-08-19 15:03:27,211 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-19 15:03:35,988 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:03:35,994 - mms_extractor - INFO - LLM 응답 길이: 1073 문자
2025-08-19 15:03:35,994 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "정원 대리점 하남직영점 행사안내",
    "purpose": [
        "대리점/매장 방문 유도",
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {"name": "아이폰", "action": "구매"},
        {"name": "갤럭시", "action": "구매"},
        {"name": "갤럭시 S23", "action": "구매"},
        {"name": "갤럭시워치", "action": "구매"},
        {"name": "삼성태블릿", "action": "구매"},
        {"name": "삼성갤럭시북", "action": "구매"},
        {"name": "ADT 도어가드", "action": "가입"},
        {"name": "이너가드", "action": "가입"},
        {"...
2025-08-19 15:03:35,994 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-19 15:03:35,994 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-19 15:03:35,994 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-19 15:03:35,995 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '정원 대리점 하남직영점 행사안내', 'purpose': ['대리점/매장 방문 유도', '상품 가입 유도', '혜택 안내'], 'product': [{'name': '아이폰', 'action': '구매'}, {'name': '갤럭시', 'action': '구매'}, {'name': '갤럭시 S23', 'action': '구매'}, {'name': '갤럭시워치', 'action': '구매'}, {'name': '삼성태블릿', 'action': '구매'}, {'name': '삼성갤럭시북', 'action': '구매'}, {'name': 'ADT 도어가드', 'action': '가입'}, {'name': '이너가드', 'action': '가입'}, {'name': 'TV+GIGA인터넷', 'action': '가입'}, {'name': '프라임플러스', 'action': '가입'}], 'channel': [{'type': '대리점', 'value': '정원 대리점 하남직영점', 'action': '방문'}, {'type': '전화번호', 'value': '031-794-6779', 'action': '문의'}, {'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=22786&a=&u=https://tworldfriends.co.kr/d151730034', 'action': '추가 정보'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['매장오픈안내및방문유도', '상품및부가서비스가입유도_단말']}
2025-08-19 15:03:35,995 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-19 15:03:35,995 - mms_extractor - INFO - LLM 추출 엔티티: ['아이폰', '갤럭시', '갤럭시 S23', '갤럭시워치', '삼성태블릿', '삼성갤럭시북', 'ADT 도어가드', '이너가드', 'TV+GIGA인터넷', '프라임플러스']
2025-08-19 15:03:37,250 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:03:38,115 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 2.12초
2025-08-19 15:03:38,736 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-19 15:04:02,880 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:04:03,517 - mms_extractor - INFO - ============================================================
2025-08-19 15:04:03,517 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-19 15:04:03,517 - mms_extractor - INFO - ============================================================
2025-08-19 15:04:03,517 - mms_extractor - INFO - 제목: 정원 대리점 하남직영점 행사안내
2025-08-19 15:04:03,517 - mms_extractor - INFO - 목적: ['대리점/매장 방문 유도', '상품 가입 유도', '혜택 안내']
2025-08-19 15:04:03,517 - mms_extractor - INFO - 상품 수: 5개
2025-08-19 15:04:03,517 - mms_extractor - INFO - 채널 수: 5개
2025-08-19 15:04:03,517 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-19 15:04:03,518 - mms_extractor - INFO - process_message 실행완료: 44.98초
2025-08-19 15:04:03,518 - __main__ - INFO - Successfully processed message 15922
2025-08-19 15:04:03,518 - __main__ - INFO - Processing message 5655: [SK텔레콤] 5월 0 day 혜택 안내
(광고)[SKT] 5월 0 day 혜택 안내__[...
2025-08-19 15:04:03,518 - mms_extractor - INFO - ============================================================
2025-08-19 15:04:03,518 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-19 15:04:03,518 - mms_extractor - INFO - ============================================================
2025-08-19 15:04:03,519 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 5월 0 day 혜택 안내
(광고)[SKT] 5월 0 day 혜택 안내__[every day 혜택]_만 13~34세 고객이라면_5GX 프리미엄 요금제 퀴즈 이벤트 참여하시고,_스타벅스 카페 아메리카노(Tall) 1잔 get 하세요! _(3,000명 당첨 응모 이벤트)__*every day 혜택은 10일/20일/30일 혜택과 중복으로 이용하실 ...
2025-08-19 15:04:03,519 - mms_extractor - INFO - 메시지 길이: 447 문자
2025-08-19 15:04:03,519 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-19 15:04:03,519 - mms_extractor - INFO - 데이터 소스: local
2025-08-19 15:04:03,519 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-19 15:04:03,519 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-19 15:04:03,519 - mms_extractor - INFO - LLM 모델: ax
2025-08-19 15:04:03,519 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-19 15:04:03,519 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-19 15:04:03,519 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-19 15:04:03,519 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-19 15:04:03,519 - mms_extractor - INFO - 처리할 메시지 길이: 447 문자
2025-08-19 15:04:03,525 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-19 15:04:03,528 - mms_extractor - INFO - 분할된 문장 수: 16개
2025-08-19 15:04:03,529 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 0 day 혜택 안내 광고 SKT 0 day 혜택 안내', ' every day 혜택 ', '만 13 고객이라면']...
2025-08-19 15:04:03,531 - mms_extractor - INFO - 전체 토큰 수: 164개
2025-08-19 15:04:03,531 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '0 day', '광고', '0 day', '프리미엄', '이벤트', '스타벅스', '카페', '아메리카노', '이벤트', '이벤트', '에이닷', '쿠폰', '에이닷과카스테라어때', '뚜레쥬르', '쿠폰', '시크릿', '수신거부']
2025-08-19 15:04:03,531 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['아메리카노', '에이닷과카스테라어때', '스타벅스', '0 day', '시크릿', '뚜레쥬르']
2025-08-19 15:04:03,531 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-19 15:04:04,948 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (18795, 3)
2025-08-19 15:04:04,948 - mms_extractor - INFO - 퍼지 매칭 성공: 18795개 결과
2025-08-19 15:04:04,949 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 0 day 혜택 안내 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': ' SK텔레콤 0 day 혜택 안내 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': ' SK텔레콤 0 day 혜택 안내 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-19 15:04:04,949 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-19 15:04:05,087 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (18795, 3)
2025-08-19 15:04:05,088 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 0 day 혜택 안내 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.36363636363636365}, {'sent': ' SK텔레콤 0 day 혜택 안내 광고 SKT 0 day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.36363636363636365}, {'sent': ' SK텔레콤 0 day 혜택 안내 광고 SKT 0 day 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-19 15:04:05,088 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-19 15:04:05,093 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 24개
2025-08-19 15:04:05,096 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 6개
2025-08-19 15:04:05,096 - mms_extractor - INFO - 통합된 후보 아이템 수: 30개
2025-08-19 15:04:05,097 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['시크릿', '스타벅스', '뚜레쥬르', '0 day', 'T 에이스', 'T쿠폰', '프리미엄요금제', '5GX 프리미엄(디즈니+)', 'data', 'SK텔레콤(주)', 'All+', '(T)프리미엄', 'I-프리미엄', '프리존 퀴즈', 'CU(0 day)', '5GX 프리미엄(T 우주)', 'LTE 혜택 안내', '5GX 프리미엄(스마트기기)', 'T 케어', '[이벤트]ⓜ여고괴담', '카페 집']
2025-08-19 15:04:05,100 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (22, 2)
2025-08-19 15:04:05,101 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': '5GX 프리미엄(T 우주)', 'item_id': ['NA00008565']}]
2025-08-19 15:04:05,101 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.58초
2025-08-19 15:04:05,101 - mms_extractor - INFO - 추출된 후보 엔티티: ['시크릿' '스타벅스' '뚜레쥬르' '0 day' 'T 에이스' 'T쿠폰' '프리미엄요금제' '5GX 프리미엄(디즈니+)'
 'data' 'SK텔레콤(주)' 'All+' '(T)프리미엄' 'I-프리미엄' '프리존 퀴즈' 'CU(0 day)'
 '5GX 프리미엄(T 우주)' 'LTE 혜택 안내' '5GX 프리미엄(스마트기기)' 'T 케어' '[이벤트]ⓜ여고괴담' '카페 집']
2025-08-19 15:04:05,101 - mms_extractor - INFO - 매칭된 상품 정보: (22, 2)
2025-08-19 15:04:05,101 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-19 15:04:05,197 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-19 15:04:05,197 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-19 15:04:05,197 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 377 문자
2025-08-19 15:04:05,197 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-19 15:04:05,197 - mms_extractor - INFO - 후보 아이템 리스트 크기: 21개
2025-08-19 15:04:05,197 - mms_extractor - INFO - 후보 아이템 리스트: ['시크릿' '스타벅스' '뚜레쥬르' '0 day' 'T 에이스' 'T쿠폰' '프리미엄요금제' '5GX 프리미엄(디즈니+)'
 'data' 'SK텔레콤(주)' 'All+' '(T)프리미엄' 'I-프리미엄' '프리존 퀴즈' 'CU(0 day)'
 '5GX 프리미엄(T 우주)' 'LTE 혜택 안내' '5GX 프리미엄(스마트기기)' 'T 케어' '[이벤트]ⓜ여고괴담' '카페 집']
2025-08-19 15:04:05,197 - mms_extractor - INFO - extra_item_pdf 크기: (22, 2)
2025-08-19 15:04:05,197 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-19 15:04:05,197 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(T)프리미엄', 'item_id': ['NS00000005']}, {'item_nm': '0 day', 'item_id': ['9301']}]
2025-08-19 15:04:05,197 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-19 15:04:05,197 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-19 15:04:05,198 - mms_extractor - INFO - 구성된 프롬프트 길이: 6408 문자
2025-08-19 15:04:05,198 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-19 15:04:13,461 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:04:13,463 - mms_extractor - INFO - LLM 응답 길이: 1170 문자
2025-08-19 15:04:13,463 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 5월 0 day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "이벤트 응모 유도",
        "쿠폰 제공 안내"
    ],
    "product": [
        {
            "name": "5GX 프리미엄 요금제",
            "action": "가입"
        },
        {
            "name": "스타벅스 카페 아메리카노(Tall) 1잔",
            "action": "기타"
        },
        {
            "name": "T 멤버십",
            "action": "사용"
        },
        {
            "name": "에이닷",
            "action": "사용"
        },
        {
            "...
2025-08-19 15:04:13,464 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-19 15:04:13,465 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-19 15:04:13,465 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-19 15:04:13,465 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 5월 0 day 혜택 안내', 'purpose': ['혜택 안내', '이벤트 응모 유도', '쿠폰 제공 안내'], 'product': [{'name': '5GX 프리미엄 요금제', 'action': '가입'}, {'name': '스타벅스 카페 아메리카노(Tall) 1잔', 'action': '기타'}, {'name': 'T 멤버십', 'action': '사용'}, {'name': '에이닷', 'action': '사용'}, {'name': '뚜레쥬르 카스테라', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=26048&a=&u=https://bit.ly/4aR30XC', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/3QGem99', 'action': '추가 정보'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_T멤버십', '사용법/혜택/이벤트안내_SKT']}
2025-08-19 15:04:13,465 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-19 15:04:13,465 - mms_extractor - INFO - LLM 추출 엔티티: ['5GX 프리미엄 요금제', '스타벅스 카페 아메리카노(Tall) 1잔', 'T 멤버십', '에이닷', '뚜레쥬르 카스테라']
2025-08-19 15:04:14,470 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:04:14,678 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.21초
2025-08-19 15:04:14,684 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-19 15:04:33,972 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:04:34,184 - mms_extractor - INFO - ============================================================
2025-08-19 15:04:34,185 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-19 15:04:34,185 - mms_extractor - INFO - ============================================================
2025-08-19 15:04:34,185 - mms_extractor - INFO - 제목: [SK텔레콤] 5월 0 day 혜택 안내
2025-08-19 15:04:34,185 - mms_extractor - INFO - 목적: ['혜택 안내', '이벤트 응모 유도', '쿠폰 제공 안내']
2025-08-19 15:04:34,185 - mms_extractor - INFO - 상품 수: 2개
2025-08-19 15:04:34,185 - mms_extractor - INFO - 채널 수: 4개
2025-08-19 15:04:34,185 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-19 15:04:34,185 - mms_extractor - INFO - process_message 실행완료: 30.67초
2025-08-19 15:04:34,185 - __main__ - INFO - Successfully processed message 5655
2025-08-19 15:04:34,185 - __main__ - INFO - Processing message 15458: [SK텔레콤] 이랜드몰 이런위크 
(광고)[SKT] 24FW 어썸한 더블혜택_　 　_■ 이...
2025-08-19 15:04:34,185 - mms_extractor - INFO - ============================================================
2025-08-19 15:04:34,185 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-19 15:04:34,185 - mms_extractor - INFO - ============================================================
2025-08-19 15:04:34,185 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 이랜드몰 이런위크 
(광고)[SKT] 24FW 어썸한 더블혜택_　 　_■ 이랜드몰 이런위크 _■ T 멤버십 10% 상시 할인쿠폰 중복사용 가능__▶ 쿠폰 다운로드 : http://t-mms.kr/t.do?m=#61&s=28516&a=&u=https://m.sktmembership.co.kr/l/zK8wQr_※ 해당 쿠폰은 이랜드몰에서 발급된 ...
2025-08-19 15:04:34,186 - mms_extractor - INFO - 메시지 길이: 348 문자
2025-08-19 15:04:34,186 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-19 15:04:34,186 - mms_extractor - INFO - 데이터 소스: local
2025-08-19 15:04:34,186 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-19 15:04:34,186 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-19 15:04:34,186 - mms_extractor - INFO - LLM 모델: ax
2025-08-19 15:04:34,186 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-19 15:04:34,186 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-19 15:04:34,186 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-19 15:04:34,186 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-19 15:04:34,186 - mms_extractor - INFO - 처리할 메시지 길이: 348 문자
2025-08-19 15:04:34,192 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-19 15:04:34,194 - mms_extractor - INFO - 분할된 문장 수: 9개
2025-08-19 15:04:34,194 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 이랜드몰 이런위크 광고 SKT 24FW 어썸한 더블혜택', ' 이랜드몰 이런위크', ' T 멤버십 10 상시 할인쿠폰 중복사용 가능']...
2025-08-19 15:04:34,195 - mms_extractor - INFO - 전체 토큰 수: 103개
2025-08-19 15:04:34,195 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '이랜드몰', '이런위크', '광고', '이랜드몰', '이런위크', '쿠폰', '쿠폰', '이랜드몰', '쿠폰', '이벤트', '이랜드몰', '수신거부']
2025-08-19 15:04:34,195 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['이랜드몰', '이런위크']
2025-08-19 15:04:34,195 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-19 15:04:34,720 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6351, 3)
2025-08-19 15:04:34,720 - mms_extractor - INFO - 퍼지 매칭 성공: 6351개 결과
2025-08-19 15:04:34,721 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 이랜드몰 이런위크 광고 SKT 24FW 어썸한 더블혜택', 'item_nm_alias': '갤럭시 S24 FE', 'sim': 0.4}, {'sent': ' SK텔레콤 이랜드몰 이런위크 광고 SKT 24FW 어썸한 더블혜택', 'item_nm_alias': 'test', 'sim': 0.5}, {'sent': ' SK텔레콤 이랜드몰 이런위크 광고 SKT 24FW 어썸한 더블혜택', 'item_nm_alias': 'Pot 200 옵션 3', 'sim': 0.41666666666666663}]
2025-08-19 15:04:34,721 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-19 15:04:34,804 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6351, 3)
2025-08-19 15:04:34,805 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 이랜드몰 이런위크 광고 SKT 24FW 어썸한 더블혜택', 'item_nm_alias': '갤럭시 S24 FE', 'sim': 0.4}, {'sent': ' SK텔레콤 이랜드몰 이런위크 광고 SKT 24FW 어썸한 더블혜택', 'item_nm_alias': 'test', 'sim': 0.4}, {'sent': ' SK텔레콤 이랜드몰 이런위크 광고 SKT 24FW 어썸한 더블혜택', 'item_nm_alias': 'Pot 200 옵션 3', 'sim': 0.33333333333333337}]
2025-08-19 15:04:34,805 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-19 15:04:34,807 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 23개
2025-08-19 15:04:34,810 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-19 15:04:34,810 - mms_extractor - INFO - 통합된 후보 아이템 수: 24개
2025-08-19 15:04:34,811 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['이랜드몰', '멤버십 할인', 'CT40', '레이', 'wer', 'WT400', 'V40', 'V20', 'T쿠폰', 'LTE28', 'L2', 'D2', 'SK텔레콤(주)', 'I♥Event', 'All+', '상시 할인(주중)', 'LTE 49', 'wavve', 'T 오토 10', 'M-01']
2025-08-19 15:04:34,815 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-19 15:04:34,815 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': 'All+', 'item_id': ['NT00001978']}, {'item_nm': 'CT40', 'item_id': ['A1XS']}, {'item_nm': 'D2', 'item_id': ['NI00001412']}]
2025-08-19 15:04:34,815 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.63초
2025-08-19 15:04:34,815 - mms_extractor - INFO - 추출된 후보 엔티티: ['이랜드몰' '멤버십 할인' 'CT40' '레이' 'wer' 'WT400' 'V40' 'V20' 'T쿠폰' 'LTE28' 'L2'
 'D2' 'SK텔레콤(주)' 'I♥Event' 'All+' '상시 할인(주중)' 'LTE 49' 'wavve' 'T 오토 10'
 'M-01']
2025-08-19 15:04:34,815 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-19 15:04:34,815 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-19 15:04:34,881 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-19 15:04:34,881 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-19 15:04:34,881 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 401 문자
2025-08-19 15:04:34,881 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-19 15:04:34,881 - mms_extractor - INFO - 후보 아이템 리스트 크기: 20개
2025-08-19 15:04:34,881 - mms_extractor - INFO - 후보 아이템 리스트: ['이랜드몰' '멤버십 할인' 'CT40' '레이' 'wer' 'WT400' 'V40' 'V20' 'T쿠폰' 'LTE28' 'L2'
 'D2' 'SK텔레콤(주)' 'I♥Event' 'All+' '상시 할인(주중)' 'LTE 49' 'wavve' 'T 오토 10'
 'M-01']
2025-08-19 15:04:34,881 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-19 15:04:34,881 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-19 15:04:34,881 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': 'All+', 'item_id': ['NT00001978']}, {'item_nm': 'CT40', 'item_id': ['A1XS']}]
2025-08-19 15:04:34,881 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-19 15:04:34,881 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-19 15:04:34,881 - mms_extractor - INFO - 구성된 프롬프트 길이: 6277 문자
2025-08-19 15:04:34,881 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-19 15:04:41,473 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:04:41,478 - mms_extractor - INFO - LLM 응답 길이: 859 문자
2025-08-19 15:04:41,478 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 이랜드몰 이런위크",
    "purpose": [
        "혜택 안내",
        "쿠폰 제공 안내",
        "웹/앱 접속 유도"
    ],
    "product": [
        {
            "name": "이랜드몰",
            "action": "사용"
        },
        {
            "name": "T 멤버십 10% 상시 할인쿠폰",
            "action": "쿠폰다운로드"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=28516&a=&u=https://m.sktmembership.co.kr/l/zK8wQr",
            "action": "쿠폰다...
2025-08-19 15:04:41,478 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-19 15:04:41,479 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-19 15:04:41,479 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-19 15:04:41,480 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 이랜드몰 이런위크', 'purpose': ['혜택 안내', '쿠폰 제공 안내', '웹/앱 접속 유도'], 'product': [{'name': '이랜드몰', 'action': '사용'}, {'name': 'T 멤버십 10% 상시 할인쿠폰', 'action': '쿠폰다운로드'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=28516&a=&u=https://m.sktmembership.co.kr/l/zK8wQr', 'action': '쿠폰다운로드'}, {'type': 'URL', 'value': 'www.elandmall.co.kr/e/event?evtNo=E240920198', 'action': '추가 정보'}, {'type': '전화번호', 'value': '1899-9500', 'action': '문의'}], 'pgm': ['사용법/혜택/이벤트안내_T멤버십', '사용법/혜택/이벤트안내_SKT']}
2025-08-19 15:04:41,480 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-19 15:04:41,480 - mms_extractor - INFO - LLM 추출 엔티티: ['이랜드몰', 'T 멤버십 10% 상시 할인쿠폰']
2025-08-19 15:04:42,153 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:04:42,292 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 0.81초
2025-08-19 15:04:42,298 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-19 15:05:00,078 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:05:00,298 - mms_extractor - INFO - ============================================================
2025-08-19 15:05:00,298 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-19 15:05:00,298 - mms_extractor - INFO - ============================================================
2025-08-19 15:05:00,298 - mms_extractor - INFO - 제목: [SK텔레콤] 이랜드몰 이런위크
2025-08-19 15:05:00,298 - mms_extractor - INFO - 목적: ['혜택 안내', '쿠폰 제공 안내', '웹/앱 접속 유도']
2025-08-19 15:05:00,298 - mms_extractor - INFO - 상품 수: 1개
2025-08-19 15:05:00,298 - mms_extractor - INFO - 채널 수: 3개
2025-08-19 15:05:00,299 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-19 15:05:00,299 - mms_extractor - INFO - process_message 실행완료: 26.11초
2025-08-19 15:05:00,299 - __main__ - INFO - Successfully processed message 15458
2025-08-19 15:05:00,299 - __main__ - INFO - Completed processing 3 messages
2025-08-19 15:05:00,300 - __main__ - INFO - Appending 3 results to existing file: ./data/batch_results.csv
2025-08-19 15:05:00,311 - __main__ - INFO - Results saved to: ./data/batch_results.csv
2025-08-19 15:05:00,311 - __main__ - INFO - Successfully processed 3 messages
2025-08-19 15:05:00,311 - __main__ - INFO - Processed message IDs: ['15922', '5655', '15458']
2025-08-19 15:05:00,312 - __main__ - INFO - ==================================================
2025-08-19 15:05:00,312 - __main__ - INFO - Batch Processing Summary
2025-08-19 15:05:00,312 - __main__ - INFO - ==================================================
2025-08-19 15:05:00,312 - __main__ - INFO - status: completed
2025-08-19 15:05:00,312 - __main__ - INFO - processed_count: 3
2025-08-19 15:05:00,312 - __main__ - INFO - successful_count: 3
2025-08-19 15:05:00,312 - __main__ - INFO - failed_count: 0
2025-08-19 15:05:00,312 - __main__ - INFO - results_file: ./data/batch_results.csv
2025-08-19 15:05:00,312 - __main__ - INFO - ==================================================
2025-08-19 15:39:04,232 - __main__ - INFO - ==================================================
2025-08-19 15:39:04,232 - __main__ - INFO - Starting Batch MMS Processing
2025-08-19 15:39:04,232 - __main__ - INFO - ==================================================
2025-08-19 15:39:04,232 - __main__ - INFO - Batch size: 2
2025-08-19 15:39:04,232 - __main__ - INFO - Output file: ./data/batch_results.csv
2025-08-19 15:39:04,232 - __main__ - INFO - Extractor config: {'offer_info_data_src': 'local', 'product_info_extraction_mode': 'llm', 'entity_extraction_mode': 'llm', 'llm_model': 'ax', 'extract_entity_dag': True}
2025-08-19 15:39:04,232 - __main__ - INFO - ==================================================
2025-08-19 15:39:04,233 - __main__ - INFO - Loading MMS data from: ./data/mms_data_250806.csv
2025-08-19 15:39:04,676 - __main__ - INFO - Loaded 23950 messages
2025-08-19 15:39:04,677 - __main__ - INFO - Initializing MMS Extractor...
2025-08-19 15:39:04,677 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-19 15:39:04,696 - mms_extractor - INFO - Using device: mps
2025-08-19 15:39:04,696 - mms_extractor - INFO - _initialize_device 실행완료: 0.02초
2025-08-19 15:39:04,697 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-19 15:39:04,697 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-19 15:39:04,697 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-19 15:39:04,697 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-19 15:39:04,697 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-19 15:39:05,738 - mms_extractor - INFO - Model loaded on mps
2025-08-19 15:39:05,738 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 1.04초
2025-08-19 15:39:06,196 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-19 15:39:06,196 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.46초
2025-08-19 15:39:06,196 - mms_extractor - INFO - ============================================================
2025-08-19 15:39:06,196 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-19 15:39:06,196 - mms_extractor - INFO - ============================================================
2025-08-19 15:39:06,196 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-19 15:39:06,196 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-19 15:39:06,196 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-19 15:39:06,196 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-19 15:39:06,196 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-19 15:39:06,304 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-19 15:39:06,304 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-19 15:39:06,312 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-19 15:39:06,316 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-19 15:39:06,317 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-19 15:39:06,321 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-19 15:39:06,322 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-19 15:39:06,322 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-19 15:39:06,322 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-19 15:39:06,322 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-19 15:39:06,322 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-19 15:39:06,322 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-19 15:39:06,325 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-19 15:39:06,326 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-19 15:39:06,326 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-19 15:39:06,630 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-19 15:39:06,632 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-19 15:39:06,632 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-19 15:39:06,633 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-19 15:39:06,633 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-19 15:39:06,634 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-19 15:39:06,634 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-19 15:39:06,634 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-19 15:39:06,634 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-19 15:39:06,641 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-19 15:39:06,643 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-19 15:39:06,643 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-19 15:39:06,695 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-19 15:39:06,696 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-19 15:39:06,696 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-19 15:39:06,698 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-19 15:39:06,698 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-19 15:39:06,874 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-19 15:39:06,874 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-19 15:39:06,875 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-19 15:39:07,362 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-19 15:39:07,362 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-19 15:39:07,362 - mms_extractor - INFO - ============================================================
2025-08-19 15:39:07,362 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-19 15:39:07,362 - mms_extractor - INFO - ============================================================
2025-08-19 15:39:07,362 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-19 15:39:07,362 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-19 15:39:07,362 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-19 15:39:07,362 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-19 15:39:07,362 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-19 15:39:07,367 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-19 15:39:07,374 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-19 15:39:07,378 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-19 15:39:07,378 - mms_extractor - INFO - _load_data 실행완료: 1.18초
2025-08-19 15:39:07,378 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-19 15:39:07,378 - __main__ - INFO - MMS Extractor initialized successfully
2025-08-19 15:39:07,388 - __main__ - INFO - Found 24 previously processed messages
2025-08-19 15:39:07,402 - __main__ - INFO - Total messages: 23950
2025-08-19 15:39:07,402 - __main__ - INFO - Previously processed: 24
2025-08-19 15:39:07,402 - __main__ - INFO - Unprocessed messages: 23926
2025-08-19 15:39:07,402 - __main__ - INFO - Sampled 2 messages for processing
2025-08-19 15:39:07,402 - __main__ - INFO - Processing 2 messages...
2025-08-19 15:39:07,402 - __main__ - INFO - Processing message 16788: [SK텔레콤] 코로나 걱정 없는 핼러윈 파티, Jump!
(광고)[SKT] Jump 언택트...
2025-08-19 15:39:07,402 - mms_extractor - INFO - ============================================================
2025-08-19 15:39:07,402 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-19 15:39:07,402 - mms_extractor - INFO - ============================================================
2025-08-19 15:39:07,402 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 코로나 걱정 없는 핼러윈 파티, Jump!
(광고)[SKT] Jump 언택트 핼러윈 파티 이벤트 안내  #04 고객님, 안녕하세요. 언택트 시대의 핼러윈을 Jump와 함께하세요! 다양한 핼러윈 특수 효과로 찍은 사진을 SNS에 필수 해시태그와 함께 게시해 보세요. 추첨을 통해 20명에게 치킨 세트를 드립니다.  ▶ 이벤트 자세히 보기: htt...
2025-08-19 15:39:07,402 - mms_extractor - INFO - 메시지 길이: 446 문자
2025-08-19 15:39:07,402 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-19 15:39:07,402 - mms_extractor - INFO - 데이터 소스: local
2025-08-19 15:39:07,403 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-19 15:39:07,403 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-19 15:39:07,403 - mms_extractor - INFO - LLM 모델: ax
2025-08-19 15:39:07,403 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-19 15:39:07,403 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-19 15:39:07,403 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-19 15:39:07,403 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-19 15:39:07,403 - mms_extractor - INFO - 처리할 메시지 길이: 446 문자
2025-08-19 15:39:07,408 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-19 15:39:07,950 - mms_extractor - INFO - 분할된 문장 수: 9개
2025-08-19 15:39:07,950 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 코로나 걱정 없는 핼러윈 파티 Jump 광고 SKT ', 'Jump 언택트 핼러윈 파티 이벤트 안내 고객님 안녕하세요 ', '언택트 시대의 핼러윈을 Jump와 함께하세요 ']...
2025-08-19 15:39:07,953 - mms_extractor - INFO - 전체 토큰 수: 149개
2025-08-19 15:39:07,953 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '코로나', '핼러윈 파티', '광고', '핼러윈 파티', '이벤트', '해시태그', '이벤트', '바로가기', '코로나', '수신거부']
2025-08-19 15:39:07,953 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['핼러윈 파티', '코로나', '해시태그']
2025-08-19 15:39:07,953 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-19 15:39:15,201 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (3602, 3)
2025-08-19 15:39:15,201 - mms_extractor - INFO - 퍼지 매칭 성공: 3602개 결과
2025-08-19 15:39:15,203 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 코로나 걱정 없는 핼러윈 파티 Jump 광고 SKT ', 'item_nm_alias': 'G6 프로', 'sim': 0.4}, {'sent': ' SK텔레콤 코로나 걱정 없는 핼러윈 파티 Jump 광고 SKT ', 'item_nm_alias': '미정', 'sim': 0.5}, {'sent': ' SK텔레콤 코로나 걱정 없는 핼러윈 파티 Jump 광고 SKT ', 'item_nm_alias': 'test', 'sim': 0.5714285714285714}]
2025-08-19 15:39:15,203 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-19 15:39:15,270 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (3602, 3)
2025-08-19 15:39:15,271 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 코로나 걱정 없는 핼러윈 파티 Jump 광고 SKT ', 'item_nm_alias': 'G6 프로', 'sim': 0.32000000000000006}, {'sent': ' SK텔레콤 코로나 걱정 없는 핼러윈 파티 Jump 광고 SKT ', 'item_nm_alias': '미정', 'sim': 0.4}, {'sent': ' SK텔레콤 코로나 걱정 없는 핼러윈 파티 Jump 광고 SKT ', 'item_nm_alias': 'test', 'sim': 0.4}]
2025-08-19 15:39:15,271 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-19 15:39:15,274 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 7개
2025-08-19 15:39:15,280 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-19 15:39:15,280 - mms_extractor - INFO - 통합된 후보 아이템 수: 7개
2025-08-19 15:39:15,282 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['J5', 'U9', '가나다', '트윈', 'SK텔레콤(주)', '라이트(무료)']
2025-08-19 15:39:15,287 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (6, 2)
2025-08-19 15:39:15,287 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': 'J5', 'item_id': ['SST0', 'SST7']}, {'item_nm': 'SK텔레콤(주)', 'item_id': ['V275']}, {'item_nm': 'U9', 'item_id': ['A213']}]
2025-08-19 15:39:15,287 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 7.88초
2025-08-19 15:39:15,288 - mms_extractor - INFO - 추출된 후보 엔티티: ['J5' 'U9' '가나다' '트윈' 'SK텔레콤(주)' '라이트(무료)']
2025-08-19 15:39:15,288 - mms_extractor - INFO - 매칭된 상품 정보: (6, 2)
2025-08-19 15:39:15,288 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-19 15:39:15,486 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-19 15:39:15,486 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-19 15:39:15,486 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 360 문자
2025-08-19 15:39:15,486 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-19 15:39:15,487 - mms_extractor - INFO - 후보 아이템 리스트 크기: 6개
2025-08-19 15:39:15,487 - mms_extractor - INFO - 후보 아이템 리스트: ['J5' 'U9' '가나다' '트윈' 'SK텔레콤(주)' '라이트(무료)']
2025-08-19 15:39:15,487 - mms_extractor - INFO - extra_item_pdf 크기: (6, 2)
2025-08-19 15:39:15,487 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-19 15:39:15,487 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': 'J5', 'item_id': ['SST0', 'SST7']}, {'item_nm': 'SK텔레콤(주)', 'item_id': ['V275']}]
2025-08-19 15:39:15,487 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-19 15:39:15,487 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-19 15:39:15,487 - mms_extractor - INFO - 구성된 프롬프트 길이: 6222 문자
2025-08-19 15:39:15,487 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-19 15:39:22,133 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:39:22,143 - mms_extractor - INFO - LLM 응답 길이: 840 문자
2025-08-19 15:39:22,143 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 코로나 걱정 없는 핼러윈 파티, Jump!",
    "purpose": [
        "이벤트 응모 유도",
        "경품 제공 안내"
    ],
    "product": [
        {
            "name": "Jump",
            "action": "사용"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&u=https://bit.ly/34BEXfz",
            "action": "추가 정보"
        },
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&u=https://bit.ly/2O9et...
2025-08-19 15:39:22,143 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-19 15:39:22,144 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-19 15:39:22,144 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-19 15:39:22,144 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 코로나 걱정 없는 핼러윈 파티, Jump!', 'purpose': ['이벤트 응모 유도', '경품 제공 안내'], 'product': [{'name': 'Jump', 'action': '사용'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&u=https://bit.ly/34BEXfz', 'action': '추가 정보'}, {'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&u=https://bit.ly/2O9etcg', 'action': '사용'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_SKT', '사용법/혜택/이벤트안내_AI']}
2025-08-19 15:39:22,144 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-19 15:39:22,144 - mms_extractor - INFO - LLM 추출 엔티티: ['Jump']
2025-08-19 15:39:22,984 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:39:23,151 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.01초
2025-08-19 15:39:23,152 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-19 15:39:40,692 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:39:40,899 - mms_extractor - INFO - ============================================================
2025-08-19 15:39:40,899 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-19 15:39:40,900 - mms_extractor - INFO - ============================================================
2025-08-19 15:39:40,900 - mms_extractor - INFO - 제목: [SK텔레콤] 코로나 걱정 없는 핼러윈 파티, Jump!
2025-08-19 15:39:40,900 - mms_extractor - INFO - 목적: ['이벤트 응모 유도', '경품 제공 안내']
2025-08-19 15:39:40,900 - mms_extractor - INFO - 상품 수: 1개
2025-08-19 15:39:40,900 - mms_extractor - INFO - 채널 수: 4개
2025-08-19 15:39:40,900 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-19 15:39:40,900 - mms_extractor - INFO - process_message 실행완료: 33.50초
2025-08-19 15:39:40,900 - __main__ - INFO - Successfully processed message 16788
2025-08-19 15:39:40,900 - __main__ - INFO - Processing message 894: 5월에는 특별한 혜택과 함께 5G를 만나보세요
(광고)[SKT] 5G를 지금 바로 내손에!...
2025-08-19 15:39:40,900 - mms_extractor - INFO - ============================================================
2025-08-19 15:39:40,900 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-19 15:39:40,901 - mms_extractor - INFO - ============================================================
2025-08-19 15:39:40,901 - mms_extractor - INFO - 메시지 내용: 5월에는 특별한 혜택과 함께 5G를 만나보세요
(광고)[SKT] 5G를 지금 바로 내손에!  #04 고객님! 안녕하세요.  지금 갤럭시 S10 5G, LG V50 ThinQ를 구매하고 모두의 생활을 바꾸는 거대한 변화, 5G를 경험해보세요.  ▶ T월드 다이렉트에서 5G 휴대폰 자세히 보기 http://t-mms.kr/t.do?m=#61&u=http://b...
2025-08-19 15:39:40,901 - mms_extractor - INFO - 메시지 길이: 734 문자
2025-08-19 15:39:40,901 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-19 15:39:40,901 - mms_extractor - INFO - 데이터 소스: local
2025-08-19 15:39:40,901 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-19 15:39:40,901 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-19 15:39:40,901 - mms_extractor - INFO - LLM 모델: ax
2025-08-19 15:39:40,901 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-19 15:39:40,901 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-19 15:39:40,901 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-19 15:39:40,901 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-19 15:39:40,901 - mms_extractor - INFO - 처리할 메시지 길이: 734 문자
2025-08-19 15:39:40,907 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-19 15:39:40,914 - mms_extractor - INFO - 분할된 문장 수: 8개
2025-08-19 15:39:40,915 - mms_extractor - INFO - 필터링된 문장들: [' 에는 특별 혜택과 함께 5G 보세요 광고 SKT ', '5G 지금 바로 내손에 ', ' 고객님 ']...
2025-08-19 15:39:40,919 - mms_extractor - INFO - 전체 토큰 수: 299개
2025-08-19 15:39:40,919 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '갤럭시 S10', '-', '삼성', '퓨리', '-', '데이터', '5GX프라임', '-', '5GX프라임', '-', 'All', '5GX프라임', '-', '스마트워치', '쿠키즈', '태블릿', '플래티넘', '5GX 프라임', '-', '5GX 게임팩', '데이터', '매장', '카카오톡', '카카오톡', '수신거부']
2025-08-19 15:39:40,919 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['5GX 프라임', '5GX프라임', '플래티넘', '태블릿', '5GX 게임팩', '퓨리', '스마트워치', '갤럭시 S10', '쿠키즈', '카카오톡']
2025-08-19 15:39:40,919 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-19 15:39:41,638 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8515, 3)
2025-08-19 15:39:41,638 - mms_extractor - INFO - 퍼지 매칭 성공: 8515개 결과
2025-08-19 15:39:41,638 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' 에는 특별 혜택과 함께 5G 보세요 광고 SKT ', 'item_nm_alias': 'X5', 'sim': 0.5}, {'sent': ' 에는 특별 혜택과 함께 5G 보세요 광고 SKT ', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.5}, {'sent': ' 에는 특별 혜택과 함께 5G 보세요 광고 SKT ', 'item_nm_alias': '특별한혜택Charge 개편', 'sim': 0.4285714285714286}]
2025-08-19 15:39:41,638 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-19 15:39:42,305 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8515, 3)
2025-08-19 15:39:42,305 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' 에는 특별 혜택과 함께 5G 보세요 광고 SKT ', 'item_nm_alias': 'X5', 'sim': 0.4}, {'sent': ' 에는 특별 혜택과 함께 5G 보세요 광고 SKT ', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}, {'sent': ' 에는 특별 혜택과 함께 5G 보세요 광고 SKT ', 'item_nm_alias': '특별한혜택Charge 개편', 'sim': 0.3142857142857143}]
2025-08-19 15:39:42,305 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-19 15:39:42,309 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 179개
2025-08-19 15:39:42,312 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 6개
2025-08-19 15:39:42,313 - mms_extractor - INFO - 통합된 후보 아이템 수: 185개
2025-08-19 15:39:42,314 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['T 케어', '5GX프라임', '데이터 100', '쿠키즈', '5GX 게임팩', '갤럭시 S10', '5GX 프라임', 'V50+', 'V50', 'All+', 'T All케어 100', 'LG K10', '5G 멤버십VIP', 'TLK-100', 'T All케어 100보험', 'T All케어 100N 보험', 'STA-100', '5GX 플래티넘(T 우주)', '라이트(무료)', 'T1 요금제', 'VIP 클럽 100 보험', 'LTE 100 요금제', '3G데이터전용 5G', 'T 에이스', 'T 아이폰케어10', 'TLX게임', '데이터100', 'ⓜ한게임', '다이렉트5G 55', '이마트', '갤럭시S', 'T All케어 i100', '공장', '갤럭시S5', 'X10', '갤럭시 S10e', '데이터500', '스마트로', 'V10', '005팩', '조선', '라라키즈', '프라임 Plus', '스키', '5G MV 요금제', '한한', '한게임', 'T All케어 100N', '5GX 무제한 프로모션', '5GX플래티넘', 'A10', '프라임 plus', '프라임 PLUS', 'G100S', 'T All케어 200', 'T All케어 150', 'LTE데이터전용 5G', 'LG G8 ThinQ', '엘티이 100 요금제', '보안 LTE 100', 'T All케어 70', 'T All케어 85', '어르신 데이터 제어', '갤럭시 WIN', '갤럭시 S21', '갤럭시 A15', 'T 다이렉트샵', '태블릿 세이프', '갤럭시 S25+', 'T끼리 100', '갤럭시 S21+', '갤럭시 S25', '카카오', '쿠키', 'T All케어 100_강', '신 LTE 100 요금제', 'T All케어 100_당', 'T All케어 100_예', '갤럭시 A90 5G', '5G 데이터(신세계)', '갤럭시 A51 5G', '갤럭시 탭S6 5G', 'T 올케어+5 고급', '플로 무제한', '갤럭시 북S', '무선 이용료', '뉴LTE 100 요금제', 'T 아이폰케어 15 프로', '갤럭시 탭 S10+', '엘티이 혜택 안내', '갤럭시 폴드 5G', '순액 요금제 적용', 'LTE 혜택 안내', '엘티이데이터전용 5G', '국제IX 이용료', '요금제 test', '갤럭시 S10+_512G', 'T 아이폰케어 15', '신 엘티이 100 요금제', '공기청정기(스마트홈 요청)', 'T All케어 100보험_당', 'T All케어 100보험_예', 'T All케어 100보험_강', '요기요 혜택팩', 'All_S', '0틴 5G', '5G 음성', '5G 45', 'T 안심팩', 'oksusu 플레이', 'T 케어2', 'T All케어 150N', 'T All케어 200N', '뉴엘티이 100 요금제', 'T All케어 i150', 'T All케어 i200', 'T 우주PASS 100', '갤럭시 S10_512G', 'T All케어 파손보험', '패스 프라임 (무료)', '갤럭시 A35 5G', 'T 우주Pass 100', 'T 우주pass 100', 'AIG-100', 'T All케어 파손N 보험', '보안 LTE 100 부가', '데이터차단 100', 'oksusu CJ', 'T멤버십 더블카드', 'oksusu 애니', 'T 아이폰케어16', 'oksusu 비키', 'T 아이폰케어12', 'oksusu 쿠폰', 'oksusu B tv', 'T All케어 i85', 'T All케어 i70', 'T All케어 250', 'P500S', '미주 데이터무제한1', '미주 데이터무제한5', 'P500T', '다라이어스', '데이터1G', 'VIP Pick-Oksusu', '갤럭시 A52S 5G', 'UCC 무제한 요금제', '휴대폰결제 멤버십', '다이렉트5G 31', '다이렉트5G 52', 'T 베이스볼(무료)', '전국민 무한 100', 'T 올케어+5 고급 예', '미디엄_oksusu 데이터', '밴드 데이터 3.5G', '밴드 데이터 6.5G', 'LoRa 100', 'LTE데이터전용 10G', 'Data 100', '보이스팩', 'B tv 케이블', '5G 태블릿 추가데이터 6기가', '5G 캐스트', '홍콩 데이터로밍 무제한 요금제', '휴대폰 안심결제', 'T pet요금제', 'V30S+ThinQ', '쿠키즈워치 할인', 'V30S ThinQ', '친구끼리 데이터', '★라이브벨100% 무료', '갤럭시 A10e', '다이렉트_경제형', '다이렉트_고급형', '바로 요금제', '애니케어 100', 'X500']
2025-08-19 15:39:42,322 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (168, 2)
2025-08-19 15:39:42,322 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '005팩', 'item_id': ['NP00000209']}, {'item_nm': '0틴 5G', 'item_id': ['NA00006817']}, {'item_nm': '3G데이터전용 5G', 'item_id': ['NA00004921']}]
2025-08-19 15:39:42,323 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.42초
2025-08-19 15:39:42,323 - mms_extractor - INFO - 추출된 후보 엔티티: ['T 케어' '5GX프라임' '데이터 100' '쿠키즈' '5GX 게임팩' '갤럭시 S10' '5GX 프라임' 'V50+'
 'V50' 'All+' 'T All케어 100' 'LG K10' '5G 멤버십VIP' 'TLK-100' 'T All케어 100보험'
 'T All케어 100N 보험' 'STA-100' '5GX 플래티넘(T 우주)' '라이트(무료)' 'T1 요금제'
 'VIP 클럽 100 보험' 'LTE 100 요금제' '3G데이터전용 5G' 'T 에이스' 'T 아이폰케어10' 'TLX게임'
 '데이터100' 'ⓜ한게임' '다이렉트5G 55' '이마트' '갤럭시S' 'T All케어 i100' '공장' '갤럭시S5'
 'X10' '갤럭시 S10e' '데이터500' '스마트로' 'V10' '005팩' '조선' '라라키즈' '프라임 Plus' '스키'
 '5G MV 요금제' '한한' '한게임' 'T All케어 100N' '5GX 무제한 프로모션' '5GX플래티넘' 'A10'
 '프라임 plus' '프라임 PLUS' 'G100S' 'T All케어 200' 'T All케어 150' 'LTE데이터전용 5G'
 'LG G8 ThinQ' '엘티이 100 요금제' '보안 LTE 100' 'T All케어 70' 'T All케어 85'
 '어르신 데이터 제어' '갤럭시 WIN' '갤럭시 S21' '갤럭시 A15' 'T 다이렉트샵' '태블릿 세이프' '갤럭시 S25+'
 'T끼리 100' '갤럭시 S21+' '갤럭시 S25' '카카오' '쿠키' 'T All케어 100_강' '신 LTE 100 요금제'
 'T All케어 100_당' 'T All케어 100_예' '갤럭시 A90 5G' '5G 데이터(신세계)' '갤럭시 A51 5G'
 '갤럭시 탭S6 5G' 'T 올케어+5 고급' '플로 무제한' '갤럭시 북S' '무선 이용료' '뉴LTE 100 요금제'
 'T 아이폰케어 15 프로' '갤럭시 탭 S10+' '엘티이 혜택 안내' '갤럭시 폴드 5G' '순액 요금제 적용'
 'LTE 혜택 안내' '엘티이데이터전용 5G' '국제IX 이용료' '요금제 test' '갤럭시 S10+_512G'
 'T 아이폰케어 15' '신 엘티이 100 요금제' '공기청정기(스마트홈 요청)' 'T All케어 100보험_당'
 'T All케어 100보험_예' 'T All케어 100보험_강' '요기요 혜택팩' 'All_S' '0틴 5G' '5G 음성'
 '5G 45' 'T 안심팩' 'oksusu 플레이' 'T 케어2' 'T All케어 150N' 'T All케어 200N'
 '뉴엘티이 100 요금제' 'T All케어 i150' 'T All케어 i200' 'T 우주PASS 100'
 '갤럭시 S10_512G' 'T All케어 파손보험' '패스 프라임 (무료)' '갤럭시 A35 5G' 'T 우주Pass 100'
 'T 우주pass 100' 'AIG-100' 'T All케어 파손N 보험' '보안 LTE 100 부가' '데이터차단 100'
 'oksusu CJ' 'T멤버십 더블카드' 'oksusu 애니' 'T 아이폰케어16' 'oksusu 비키' 'T 아이폰케어12'
 'oksusu 쿠폰' 'oksusu B tv' 'T All케어 i85' 'T All케어 i70' 'T All케어 250'
 'P500S' '미주 데이터무제한1' '미주 데이터무제한5' 'P500T' '다라이어스' '데이터1G'
 'VIP Pick-Oksusu' '갤럭시 A52S 5G' 'UCC 무제한 요금제' '휴대폰결제 멤버십' '다이렉트5G 31'
 '다이렉트5G 52' 'T 베이스볼(무료)' '전국민 무한 100' 'T 올케어+5 고급 예' '미디엄_oksusu 데이터'
 '밴드 데이터 3.5G' '밴드 데이터 6.5G' 'LoRa 100' 'LTE데이터전용 10G' 'Data 100' '보이스팩'
 'B tv 케이블' '5G 태블릿 추가데이터 6기가' '5G 캐스트' '홍콩 데이터로밍 무제한 요금제' '휴대폰 안심결제'
 'T pet요금제' 'V30S+ThinQ' '쿠키즈워치 할인' 'V30S ThinQ' '친구끼리 데이터' '★라이브벨100% 무료'
 '갤럭시 A10e' '다이렉트_경제형' '다이렉트_고급형' '바로 요금제' '애니케어 100' 'X500']
2025-08-19 15:39:42,323 - mms_extractor - INFO - 매칭된 상품 정보: (168, 2)
2025-08-19 15:39:42,323 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-19 15:39:42,411 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-19 15:39:42,411 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-19 15:39:42,411 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 404 문자
2025-08-19 15:39:42,411 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-19 15:39:42,411 - mms_extractor - INFO - 후보 아이템 리스트 크기: 177개
2025-08-19 15:39:42,411 - mms_extractor - INFO - 후보 아이템 리스트: ['T 케어' '5GX프라임' '데이터 100' '쿠키즈' '5GX 게임팩' '갤럭시 S10' '5GX 프라임' 'V50+'
 'V50' 'All+' 'T All케어 100' 'LG K10' '5G 멤버십VIP' 'TLK-100' 'T All케어 100보험'
 'T All케어 100N 보험' 'STA-100' '5GX 플래티넘(T 우주)' '라이트(무료)' 'T1 요금제'
 'VIP 클럽 100 보험' 'LTE 100 요금제' '3G데이터전용 5G' 'T 에이스' 'T 아이폰케어10' 'TLX게임'
 '데이터100' 'ⓜ한게임' '다이렉트5G 55' '이마트' '갤럭시S' 'T All케어 i100' '공장' '갤럭시S5'
 'X10' '갤럭시 S10e' '데이터500' '스마트로' 'V10' '005팩' '조선' '라라키즈' '프라임 Plus' '스키'
 '5G MV 요금제' '한한' '한게임' 'T All케어 100N' '5GX 무제한 프로모션' '5GX플래티넘' 'A10'
 '프라임 plus' '프라임 PLUS' 'G100S' 'T All케어 200' 'T All케어 150' 'LTE데이터전용 5G'
 'LG G8 ThinQ' '엘티이 100 요금제' '보안 LTE 100' 'T All케어 70' 'T All케어 85'
 '어르신 데이터 제어' '갤럭시 WIN' '갤럭시 S21' '갤럭시 A15' 'T 다이렉트샵' '태블릿 세이프' '갤럭시 S25+'
 'T끼리 100' '갤럭시 S21+' '갤럭시 S25' '카카오' '쿠키' 'T All케어 100_강' '신 LTE 100 요금제'
 'T All케어 100_당' 'T All케어 100_예' '갤럭시 A90 5G' '5G 데이터(신세계)' '갤럭시 A51 5G'
 '갤럭시 탭S6 5G' 'T 올케어+5 고급' '플로 무제한' '갤럭시 북S' '무선 이용료' '뉴LTE 100 요금제'
 'T 아이폰케어 15 프로' '갤럭시 탭 S10+' '엘티이 혜택 안내' '갤럭시 폴드 5G' '순액 요금제 적용'
 'LTE 혜택 안내' '엘티이데이터전용 5G' '국제IX 이용료' '요금제 test' '갤럭시 S10+_512G'
 'T 아이폰케어 15' '신 엘티이 100 요금제' '공기청정기(스마트홈 요청)' 'T All케어 100보험_당'
 'T All케어 100보험_예' 'T All케어 100보험_강' '요기요 혜택팩' 'All_S' '0틴 5G' '5G 음성'
 '5G 45' 'T 안심팩' 'oksusu 플레이' 'T 케어2' 'T All케어 150N' 'T All케어 200N'
 '뉴엘티이 100 요금제' 'T All케어 i150' 'T All케어 i200' 'T 우주PASS 100'
 '갤럭시 S10_512G' 'T All케어 파손보험' '패스 프라임 (무료)' '갤럭시 A35 5G' 'T 우주Pass 100'
 'T 우주pass 100' 'AIG-100' 'T All케어 파손N 보험' '보안 LTE 100 부가' '데이터차단 100'
 'oksusu CJ' 'T멤버십 더블카드' 'oksusu 애니' 'T 아이폰케어16' 'oksusu 비키' 'T 아이폰케어12'
 'oksusu 쿠폰' 'oksusu B tv' 'T All케어 i85' 'T All케어 i70' 'T All케어 250'
 'P500S' '미주 데이터무제한1' '미주 데이터무제한5' 'P500T' '다라이어스' '데이터1G'
 'VIP Pick-Oksusu' '갤럭시 A52S 5G' 'UCC 무제한 요금제' '휴대폰결제 멤버십' '다이렉트5G 31'
 '다이렉트5G 52' 'T 베이스볼(무료)' '전국민 무한 100' 'T 올케어+5 고급 예' '미디엄_oksusu 데이터'
 '밴드 데이터 3.5G' '밴드 데이터 6.5G' 'LoRa 100' 'LTE데이터전용 10G' 'Data 100' '보이스팩'
 'B tv 케이블' '5G 태블릿 추가데이터 6기가' '5G 캐스트' '홍콩 데이터로밍 무제한 요금제' '휴대폰 안심결제'
 'T pet요금제' 'V30S+ThinQ' '쿠키즈워치 할인' 'V30S ThinQ' '친구끼리 데이터' '★라이브벨100% 무료'
 '갤럭시 A10e' '다이렉트_경제형' '다이렉트_고급형' '바로 요금제' '애니케어 100' 'X500']
2025-08-19 15:39:42,411 - mms_extractor - INFO - extra_item_pdf 크기: (168, 2)
2025-08-19 15:39:42,411 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-19 15:39:42,411 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '005팩', 'item_id': ['NP00000209']}, {'item_nm': '0틴 5G', 'item_id': ['NA00006817']}]
2025-08-19 15:39:42,412 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-19 15:39:42,412 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-19 15:39:42,412 - mms_extractor - INFO - 구성된 프롬프트 길이: 8603 문자
2025-08-19 15:39:42,412 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-19 15:39:53,481 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:39:53,484 - mms_extractor - INFO - LLM 응답 길이: 1614 문자
2025-08-19 15:39:53,484 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "5월에는 특별한 혜택과 함께 5G를 만나보세요",
    "purpose": [
        "상품 가입 유도",
        "이벤트 응모 유도",
        "혜택 안내"
    ],
    "product": [
        {
            "name": "갤럭시 S10 5G",
            "action": "구매"
        },
        {
            "name": "LG V50 ThinQ",
            "action": "구매"
        },
        {
            "name": "5GX 요금제",
            "action": "가입"
        },
        {
            "name": "5GX 프라임",
            "action": "가입"
        },
        {
            "nam...
2025-08-19 15:39:53,484 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-19 15:39:53,485 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-19 15:39:53,485 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-19 15:39:53,485 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '5월에는 특별한 혜택과 함께 5G를 만나보세요', 'purpose': ['상품 가입 유도', '이벤트 응모 유도', '혜택 안내'], 'product': [{'name': '갤럭시 S10 5G', 'action': '구매'}, {'name': 'LG V50 ThinQ', 'action': '구매'}, {'name': '5GX 요금제', 'action': '가입'}, {'name': '5GX 프라임', 'action': '가입'}, {'name': '5GX 플래티넘', 'action': '가입'}, {'name': 'T All 케어 100 보험', 'action': '기타'}, {'name': '스마트워치/쿠키즈워치/태블릿 이용료', 'action': '기타'}, {'name': '5GX 게임팩', 'action': '사용'}, {'name': 'oksusu 5GX관', 'action': '사용'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&u=http://bit.ly/2GrYh1E', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://5gx.skt-event.com', 'action': '참여'}, {'type': 'URL', 'value': 'http://bit.ly/2Gzlzns', 'action': '문의'}, {'type': '대리점', 'value': 'T월드 매장', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['상품및부가서비스가입유도_요금제', '상품및부가서비스가입유도_단말']}
2025-08-19 15:39:53,485 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-19 15:39:53,485 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시 S10 5G', 'LG V50 ThinQ', '5GX 요금제', '5GX 프라임', '5GX 플래티넘', 'T All 케어 100 보험', '스마트워치/쿠키즈워치/태블릿 이용료', '5GX 게임팩', 'oksusu 5GX관']
2025-08-19 15:39:55,315 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:39:55,879 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 2.39초
2025-08-19 15:39:56,047 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-19 15:40:23,955 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-19 15:40:24,220 - mms_extractor - INFO - ============================================================
2025-08-19 15:40:24,220 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-19 15:40:24,220 - mms_extractor - INFO - ============================================================
2025-08-19 15:40:24,220 - mms_extractor - INFO - 제목: 5월에는 특별한 혜택과 함께 5G를 만나보세요
2025-08-19 15:40:24,220 - mms_extractor - INFO - 목적: ['상품 가입 유도', '이벤트 응모 유도', '혜택 안내']
2025-08-19 15:40:24,220 - mms_extractor - INFO - 상품 수: 6개
2025-08-19 15:40:24,220 - mms_extractor - INFO - 채널 수: 5개
2025-08-19 15:40:24,220 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-19 15:40:24,221 - mms_extractor - INFO - process_message 실행완료: 43.32초
2025-08-19 15:40:24,221 - __main__ - INFO - Successfully processed message 894
2025-08-19 15:40:24,221 - __main__ - INFO - Completed processing 2 messages
2025-08-19 15:40:24,221 - __main__ - INFO - Appending 2 results to existing file: ./data/batch_results.csv
2025-08-19 15:40:24,236 - __main__ - INFO - Results saved to: ./data/batch_results.csv
2025-08-19 15:40:24,236 - __main__ - INFO - Successfully processed 2 messages
2025-08-19 15:40:24,236 - __main__ - INFO - Processed message IDs: ['16788', '894']
2025-08-19 15:40:24,236 - __main__ - INFO - ==================================================
2025-08-19 15:40:24,236 - __main__ - INFO - Batch Processing Summary
2025-08-19 15:40:24,236 - __main__ - INFO - ==================================================
2025-08-19 15:40:24,236 - __main__ - INFO - status: completed
2025-08-19 15:40:24,236 - __main__ - INFO - processed_count: 2
2025-08-19 15:40:24,236 - __main__ - INFO - successful_count: 2
2025-08-19 15:40:24,236 - __main__ - INFO - failed_count: 0
2025-08-19 15:40:24,236 - __main__ - INFO - results_file: ./data/batch_results.csv
2025-08-19 15:40:24,236 - __main__ - INFO - ==================================================
2025-08-25 10:41:50,416 - __main__ - INFO - ==================================================
2025-08-25 10:41:50,416 - __main__ - INFO - 🚀 Starting Batch MMS Processing
2025-08-25 10:41:50,416 - __main__ - INFO - ==================================================
2025-08-25 10:41:50,416 - __main__ - INFO - 배치 크기: 6
2025-08-25 10:41:50,416 - __main__ - INFO - 출력 파일: ./data/batch_results.csv
2025-08-25 10:41:50,416 - __main__ - INFO - 병렬 처리: OFF
2025-08-25 10:41:50,416 - __main__ - INFO - 최대 워커 수: 2
2025-08-25 10:41:50,416 - __main__ - INFO - 추출기 설정: {'offer_info_data_src': 'local', 'product_info_extraction_mode': 'llm', 'entity_extraction_mode': 'llm', 'llm_model': 'ax', 'extract_entity_dag': False}
2025-08-25 10:41:50,416 - __main__ - INFO - ==================================================
2025-08-25 10:41:50,416 - __main__ - INFO - Loading MMS data from: ./data/mms_data_250806.csv
2025-08-25 10:41:50,896 - __main__ - INFO - Loaded 23950 messages
2025-08-25 10:41:50,896 - __main__ - INFO - Initializing MMS Extractor...
2025-08-25 10:41:50,896 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-08-25 10:41:50,896 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-08-25 10:41:50,939 - mms_extractor - INFO - Using device: mps
2025-08-25 10:41:50,939 - mms_extractor - INFO - _initialize_device 실행완료: 0.04초
2025-08-25 10:41:50,939 - mms_extractor - INFO - LLM 초기화 완료: ax (skt/ax4)
2025-08-25 10:41:50,939 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-08-25 10:41:50,939 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-08-25 10:41:50,940 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-25 10:41:50,940 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-08-25 10:41:55,691 - mms_extractor - INFO - Model loaded on mps
2025-08-25 10:41:55,691 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 4.75초
2025-08-25 10:41:56,223 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-08-25 10:41:56,223 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.53초
2025-08-25 10:41:56,223 - mms_extractor - INFO - ============================================================
2025-08-25 10:41:56,223 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-08-25 10:41:56,223 - mms_extractor - INFO - ============================================================
2025-08-25 10:41:56,223 - mms_extractor - INFO - 데이터 소스 모드: local
2025-08-25 10:41:56,223 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-08-25 10:41:56,223 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-08-25 10:41:56,224 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-08-25 10:41:56,224 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-08-25 10:41:56,344 - mms_extractor - INFO - 로컬 CSV에서 로드된 원본 데이터 크기: (44275, 7)
2025-08-25 10:41:56,345 - mms_extractor - INFO - 로컬 CSV 원본 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'start_dt', 'end_dt', 'rank']
2025-08-25 10:41:56,354 - mms_extractor - INFO - 중복 제거 후 데이터 크기: (44275, 4)
2025-08-25 10:41:56,360 - mms_extractor - INFO - 로컬 모드 컬럼명 변환: {'item_nm': 'item_nm', 'item_id': 'item_id', 'item_desc': 'item_desc', 'item_dmn': 'item_dmn', 'item_ctg': 'item_ctg', 'item_emb_vec': 'item_emb_vec', 'ofer_cd': 'ofer_cd', 'oper_dt_hms': 'oper_dt_hms'}
2025-08-25 10:41:56,361 - mms_extractor - INFO - 로컬 모드 상품명 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-25 10:41:56,364 - mms_extractor - INFO - 도메인 필터링: 44275 -> 44275 (제외된 도메인: ['R'])
2025-08-25 10:41:56,364 - mms_extractor - INFO - === 상품 정보 로드 최종 완료: 44275개 상품 ===
2025-08-25 10:41:56,364 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (44275, 8)
2025-08-25 10:41:56,364 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn', 'item_ctg', 'item_emb_vec', 'ofer_cd', 'oper_dt_hms']
2025-08-25 10:41:56,364 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-08-25 10:41:56,364 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-08-25 10:41:56,365 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (44275, 8)
2025-08-25 10:41:56,373 - mms_extractor - INFO - 로드된 별칭 규칙 수: 167개
2025-08-25 10:41:56,374 - mms_extractor - INFO - null이 아닌 상품명 수: 44275개
2025-08-25 10:41:56,374 - mms_extractor - INFO - 별칭 적용 전 상품명 샘플: ['#', '#', 'EHI-CADW']
2025-08-25 10:41:56,738 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: 44275 -> 94279
2025-08-25 10:41:56,740 - mms_extractor - INFO - 별칭 적용 후 샘플: ['#', '#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2']
2025-08-25 10:41:56,740 - mms_extractor - INFO - 별칭 규칙 적용 완료: 167개 규칙
2025-08-25 10:41:56,740 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (94279, 9)
2025-08-25 10:41:56,740 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-08-25 10:41:56,741 - mms_extractor - INFO - 정지어 로드 완료: 166개
2025-08-25 10:41:56,741 - mms_extractor - INFO - 로드된 정지어 수: 166개
2025-08-25 10:41:56,741 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-08-25 10:41:56,741 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-08-25 10:41:56,748 - mms_extractor - INFO - 등록할 고유 별칭 수: 65154개
2025-08-25 10:41:56,751 - mms_extractor - INFO - 유효한 별칭 수: 65154개
2025-08-25 10:41:56,751 - mms_extractor - INFO - 등록할 별칭 샘플: ['#', 'EHI-CADW', 'IPAD 10.2', '아이패드 10.2', 'KTF_IPAD PRO 12.9 5세대 2T(리퍼단말)']
2025-08-25 10:41:56,803 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 65154개 성공, 0개 실패
2025-08-25 10:41:56,804 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-08-25 10:41:56,804 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-08-25 10:41:56,814 - mms_extractor - INFO - 로컬 파일에서 프로그램 정보 로드: 25개
2025-08-25 10:41:56,814 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 시작...
2025-08-25 10:41:58,472 - mms_extractor - INFO - 프로그램 분류 임베딩 생성 완료: 25개 프로그램
2025-08-25 10:41:58,472 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (25, 6)
2025-08-25 10:41:58,472 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-08-25 10:41:58,995 - mms_extractor - INFO - 조직 정보 로드 완료: 259233개 조직
2025-08-25 10:41:58,995 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (259233, 8)
2025-08-25 10:41:58,995 - mms_extractor - INFO - ============================================================
2025-08-25 10:41:58,995 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-08-25 10:41:58,995 - mms_extractor - INFO - ============================================================
2025-08-25 10:41:58,995 - mms_extractor - INFO - ✅ 상품 데이터: (94279, 9)
2025-08-25 10:41:58,995 - mms_extractor - INFO - ✅ 프로그램 데이터: (25, 6)
2025-08-25 10:41:58,995 - mms_extractor - INFO - ✅ 조직 데이터: (259233, 8)
2025-08-25 10:41:58,995 - mms_extractor - INFO - ✅ 정지어: 166개
2025-08-25 10:41:58,995 - mms_extractor - INFO - === 상품 데이터 상세 정보 ===
2025-08-25 10:41:59,000 - mms_extractor - INFO - 고유 상품명 수: 32157개
2025-08-25 10:41:59,008 - mms_extractor - INFO - 고유 별칭 수: 65154개
2025-08-25 10:41:59,012 - mms_extractor - INFO - 고유 상품ID 수: 44186개
2025-08-25 10:41:59,012 - mms_extractor - INFO - _load_data 실행완료: 2.79초
2025-08-25 10:41:59,012 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-08-25 10:41:59,012 - __main__ - INFO - MMS Extractor initialized successfully (DAG 추출: OFF)
2025-08-25 10:41:59,021 - __main__ - INFO - Found 26 previously processed messages
2025-08-25 10:41:59,035 - __main__ - INFO - Total messages: 23950
2025-08-25 10:41:59,035 - __main__ - INFO - Previously processed: 26
2025-08-25 10:41:59,035 - __main__ - INFO - Unprocessed messages: 23924
2025-08-25 10:41:59,035 - __main__ - INFO - Sampled 6 messages for processing
2025-08-25 10:41:59,035 - __main__ - INFO - ⚡ 순차 처리 모드로 6개 메시지 처리 시작
2025-08-25 10:41:59,036 - __main__ - INFO - 처리 중 (1/6): 5756 - [SK텔레콤] 5월 T day 혜택 안내 
(광고)[SKT] 5월 T day 혜택 안내 _...
2025-08-25 10:41:59,036 - mms_extractor - INFO - ============================================================
2025-08-25 10:41:59,036 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:41:59,036 - mms_extractor - INFO - ============================================================
2025-08-25 10:41:59,036 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 5월 T day 혜택 안내 
(광고)[SKT] 5월 T day 혜택 안내 __5월 8일(월)~5월 12일(금)_부산엑스더스카이 대인/소인입장권 본인 및 동반 2인 40% 할인!_▶ 자세히 보기: http://t-mms.kr/t.do?m=#61&s=19756&a=&u=https://bit.ly/3Hd6IOJ_ _■ 결단이 짤 무료 다운로드 이벤...
2025-08-25 10:41:59,036 - mms_extractor - INFO - 메시지 길이: 430 문자
2025-08-25 10:41:59,036 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:41:59,036 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:41:59,036 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 10:41:59,036 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 10:41:59,036 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:41:59,036 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:41:59,036 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:41:59,036 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:41:59,036 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:41:59,036 - mms_extractor - INFO - 처리할 메시지 길이: 430 문자
2025-08-25 10:41:59,042 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:41:59,577 - mms_extractor - INFO - 분할된 문장 수: 11개
2025-08-25 10:41:59,578 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 T day 혜택 안내 광고 SKT T day 혜택 안내', ' 월 금 ', '부산엑스더스카이 대인 소인입장권 본인 및 동반 2인 40 할인 ']...
2025-08-25 10:41:59,581 - mms_extractor - INFO - 전체 토큰 수: 165개
2025-08-25 10:41:59,581 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '광고', '부산엑스더스카이', '이벤트', '-', '아이폰 14', '배스킨라빈스', '치즈케이크', '수신거부']
2025-08-25 10:41:59,581 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['아이폰 14', '부산엑스더스카이', '치즈케이크', '배스킨라빈스']
2025-08-25 10:41:59,581 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:42:06,925 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14897, 3)
2025-08-25 10:42:06,925 - mms_extractor - INFO - 퍼지 매칭 성공: 14897개 결과
2025-08-25 10:42:06,933 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 T day 혜택 안내 광고 SKT T day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': ' SK텔레콤 T day 혜택 안내 광고 SKT T day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.42105263157894735}, {'sent': ' SK텔레콤 T day 혜택 안내 광고 SKT T day 혜택 안내', 'item_nm_alias': '갤럭시 tab S6', 'sim': 0.4}]
2025-08-25 10:42:06,933 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:42:07,119 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14897, 3)
2025-08-25 10:42:07,119 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 T day 혜택 안내 광고 SKT T day 혜택 안내', 'item_nm_alias': 'Galaxy 탭 S6', 'sim': 0.36363636363636365}, {'sent': ' SK텔레콤 T day 혜택 안내 광고 SKT T day 혜택 안내', 'item_nm_alias': 'galaxy 탭 S6', 'sim': 0.36363636363636365}, {'sent': ' SK텔레콤 T day 혜택 안내 광고 SKT T day 혜택 안내', 'item_nm_alias': '갤럭시 tab S6', 'sim': 0.4}]
2025-08-25 10:42:07,119 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:42:07,124 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 20개
2025-08-25 10:42:07,129 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 50개
2025-08-25 10:42:07,130 - mms_extractor - INFO - 통합된 후보 아이템 수: 70개
2025-08-25 10:42:07,131 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['부산엑스더스카이', '아이폰 14', '배스킨라빈스', '아우라', '우드', '아이폰5', '아이폰4', 'Data', '이반', 'data', 'SK텔레콤(주)', 'LTE 혜택 안내', '0 day', '아이폰 12', '아이폰 15', 'T Day 적립', '배스킨라빈스 쿠폰', '배스킨라빈스 구독', '아이폰7 케이스', '아이폰7+ 케이스', '이모티콘 플러스']
2025-08-25 10:42:07,135 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (20, 2)
2025-08-25 10:42:07,135 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'IPHONE 12', 'item_id': ['A2FU', 'A2T7', 'A2FQ', 'A2SZ', 'A38U', 'A2SV', 'A2T2', 'A2FP', 'A2FW', 'A2FT', 'A3A4', 'A31Y', 'A2FJ', 'A2R5', 'A3A2', 'A2QU', 'A2QZ', 'A2QW', 'A2FL', 'A2FR', 'A2R4', 'A2SW', 'A2T1', 'A2FM', 'A2T4', 'A2QT', 'A31X', 'A2SY', 'A2QX', 'A2QY', 'A2T6', 'A2SX', 'A2SU', 'A2QV', 'A2R1', 'A2FN', 'A2FX', 'A38T', 'A2FS', 'A2T8', 'A2QS', 'A2QR', 'A2T3', 'A2QQ', 'A38V', 'A2FK', 'A2FH', 'A2T9', 'A2R3', 'A2R2', 'A3A3', 'A31Z', 'A2T5', 'A2FV']}, {'item_nm': 'IPHONE 14', 'item_id': ['A524', 'A4DE', 'A4A1', 'A528', 'A525', 'A4DH', 'A52E', 'A49V', 'A4DS', 'A4DG', 'A4DR', 'A52A', 'A49R', 'A4VM', 'A4DK', 'A4DN', 'A49N', 'A4VN', 'A49W', 'A49U', 'A52D', 'A4DJ', 'A4DT', 'A4VU', 'A4DL', 'A52F', 'A4VT', 'A4VV', 'A49T', 'A4DF', 'A526', 'A529', 'A49X', 'A4DM', 'A49L', 'A4DU', 'A53D', 'A49Q', 'A527', 'A49S', 'A49P', 'A4DQ', 'A52C', 'A49M', 'A4VP', 'A4DP', 'A49Z', 'A49Y']}]
2025-08-25 10:42:07,136 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 8.10초
2025-08-25 10:42:07,136 - mms_extractor - INFO - 추출된 후보 엔티티: ['부산엑스더스카이', '아이폰 14', '배스킨라빈스', '아우라', '우드', '아이폰5', '아이폰4', 'Data', '이반', 'data', 'SK텔레콤(주)', 'LTE 혜택 안내', '0 day', '아이폰 12', '아이폰 15', 'T Day 적립', '배스킨라빈스 쿠폰', '배스킨라빈스 구독', '아이폰7 케이스', '아이폰7+ 케이스', '이모티콘 플러스']
2025-08-25 10:42:07,136 - mms_extractor - INFO - 매칭된 상품 정보: (20, 2)
2025-08-25 10:42:07,136 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:42:08,265 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:42:08,266 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:42:08,266 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 367 문자
2025-08-25 10:42:08,266 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:42:08,266 - mms_extractor - INFO - 후보 아이템 리스트 크기: 21개
2025-08-25 10:42:08,266 - mms_extractor - INFO - 후보 아이템 리스트: ['부산엑스더스카이', '아이폰 14', '배스킨라빈스', '아우라', '우드', '아이폰5', '아이폰4', 'Data', '이반', 'data', 'SK텔레콤(주)', 'LTE 혜택 안내', '0 day', '아이폰 12', '아이폰 15', 'T Day 적립', '배스킨라빈스 쿠폰', '배스킨라빈스 구독', '아이폰7 케이스', '아이폰7+ 케이스', '이모티콘 플러스']
2025-08-25 10:42:08,266 - mms_extractor - INFO - extra_item_pdf 크기: (20, 2)
2025-08-25 10:42:08,266 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:42:08,266 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '0 day', 'item_id': ['9301']}, {'item_nm': 'IPHONE 12', 'item_id': ['A2FU', 'A2T7', 'A2FQ', 'A2SZ', 'A38U', 'A2SV', 'A2T2', 'A2FP', 'A2FW', 'A2FT', 'A3A4', 'A31Y', 'A2FJ', 'A2R5', 'A3A2', 'A2QU', 'A2QZ', 'A2QW', 'A2FL', 'A2FR', 'A2R4', 'A2SW', 'A2T1', 'A2FM', 'A2T4', 'A2QT', 'A31X', 'A2SY', 'A2QX', 'A2QY', 'A2T6', 'A2SX', 'A2SU', 'A2QV', 'A2R1', 'A2FN', 'A2FX', 'A38T', 'A2FS', 'A2T8', 'A2QS', 'A2QR', 'A2T3', 'A2QQ', 'A38V', 'A2FK', 'A2FH', 'A2T9', 'A2R3', 'A2R2', 'A3A3', 'A31Z', 'A2T5', 'A2FV']}]
2025-08-25 10:42:08,266 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 10:42:08,266 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:42:08,266 - mms_extractor - INFO - 구성된 프롬프트 길이: 6382 문자
2025-08-25 10:42:08,266 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 10:42:17,103 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:17,115 - mms_extractor - INFO - LLM 응답 길이: 1197 문자
2025-08-25 10:42:17,115 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 5월 T day 혜택 안내",
    "purpose": [
        "혜택 안내",
        "이벤트 응모 유도",
        "경품 제공 안내"
    ],
    "product": [
        {
            "name": "부산엑스더스카이 대인/소인입장권",
            "action": "구매"
        },
        {
            "name": "결단이 짤 이모티콘",
            "action": "참여"
        },
        {
            "name": "아이폰14 256GB 옐로우",
            "action": "기타"
        },
        {
            "name": "BBQ 황금올리브치킨+콜라1.25L",
            "action": "기타"
        },
    ...
2025-08-25 10:42:17,115 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:42:17,115 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:42:17,115 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:42:17,115 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 5월 T day 혜택 안내', 'purpose': ['혜택 안내', '이벤트 응모 유도', '경품 제공 안내'], 'product': [{'name': '부산엑스더스카이 대인/소인입장권', 'action': '구매'}, {'name': '결단이 짤 이모티콘', 'action': '참여'}, {'name': '아이폰14 256GB 옐로우', 'action': '기타'}, {'name': 'BBQ 황금올리브치킨+콜라1.25L', 'action': '기타'}, {'name': '배스킨라빈스 딸기 치즈케이크 블라스트', 'action': '기타'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=19756&a=&u=https://bit.ly/3Hd6IOJ', 'action': '추가 정보'}, {'type': 'URL', 'value': 'https://bit.ly/42h1ZDs', 'action': '참여'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_T멤버십', '사용법/혜택/이벤트안내_SKT']}
2025-08-25 10:42:17,115 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:42:17,115 - mms_extractor - INFO - LLM 추출 엔티티: ['부산엑스더스카이 대인/소인입장권', '결단이 짤 이모티콘', '아이폰14 256GB 옐로우', 'BBQ 황금올리브치킨+콜라1.25L', '배스킨라빈스 딸기 치즈케이크 블라스트']
2025-08-25 10:42:18,443 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:18,804 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.69초
2025-08-25 10:42:18,812 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:42:18,812 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:18,812 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:42:18,812 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:18,812 - mms_extractor - INFO - 제목: [SK텔레콤] 5월 T day 혜택 안내
2025-08-25 10:42:18,812 - mms_extractor - INFO - 목적: ['혜택 안내', '이벤트 응모 유도', '경품 제공 안내']
2025-08-25 10:42:18,812 - mms_extractor - INFO - 상품 수: 4개
2025-08-25 10:42:18,812 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 10:42:18,812 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:42:18,812 - mms_extractor - INFO - process_message 실행완료: 19.78초
2025-08-25 10:42:18,812 - __main__ - INFO - ✅ 메시지 5756 순차 처리 완료
2025-08-25 10:42:18,812 - __main__ - INFO - 처리 중 (2/6): 23192 - 천호사거리점 
(광고)[SKT] 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매...
2025-08-25 10:42:18,812 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:18,812 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:42:18,812 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:18,812 - mms_extractor - INFO - 메시지 내용: 천호사거리점 
(광고)[SKT] 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내__#04 고객님, 안녕하세요._휴대폰 어떤 걸로 바꿀지 고민이신가요? __SK텔레콤 공식 인증 대리점 천호사거리점이 체험형 매장인 T Factory로 새롭게 문을 열었습니다. (천호역 7번 출구 앞)_천호사거리점에서 최신 휴대폰을 직접 만져보고 구독 상품도...
2025-08-25 10:42:18,812 - mms_extractor - INFO - 메시지 길이: 719 문자
2025-08-25 10:42:18,812 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:42:18,813 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:42:18,813 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 10:42:18,813 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 10:42:18,813 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:42:18,813 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:42:18,813 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:42:18,813 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:42:18,813 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:42:18,813 - mms_extractor - INFO - 처리할 메시지 길이: 719 문자
2025-08-25 10:42:18,818 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:42:18,822 - mms_extractor - INFO - 분할된 문장 수: 21개
2025-08-25 10:42:18,823 - mms_extractor - INFO - 필터링된 문장들: ['천호사거리점 광고 SKT 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내', ' 고객님 안녕하세요 ', '휴대폰 어떤 걸로 고민이신가요 ']...
2025-08-25 10:42:18,830 - mms_extractor - INFO - 전체 토큰 수: 304개
2025-08-25 10:42:18,831 - mms_extractor - INFO - NNP 태그 토큰들: ['광고', '매장', '천호역', '-', '갤럭시 S22', '아이폰', '매장', '-', '아이폰', '-', '갤럭시 S21', '갤럭시 Z 플립3', '인터넷', '결합', '할인', '매장', '-', '-', '할인', '쿠폰', 'SK텔레콤', '코로나', '수신거부']
2025-08-25 10:42:18,831 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['갤럭시 Z 플립3', '천호역', '갤럭시 S22', '갤럭시 S21', '아이폰', '코로나']
2025-08-25 10:42:18,831 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:42:20,412 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (8344, 3)
2025-08-25 10:42:20,412 - mms_extractor - INFO - 퍼지 매칭 성공: 8344개 결과
2025-08-25 10:42:20,413 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': '천호사거리점 광고 SKT 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내', 'item_nm_alias': 'IoT Starter Kit', 'sim': 0.4}, {'sent': '천호사거리점 광고 SKT 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내', 'item_nm_alias': '공장', 'sim': 0.5}, {'sent': '천호사거리점 광고 SKT 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.4}]
2025-08-25 10:42:20,413 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:42:20,528 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (8344, 3)
2025-08-25 10:42:20,528 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': '천호사거리점 광고 SKT 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내', 'item_nm_alias': 'IoT Starter Kit', 'sim': 0.29333333333333333}, {'sent': '천호사거리점 광고 SKT 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내', 'item_nm_alias': '공장', 'sim': 0.4}, {'sent': '천호사거리점 광고 SKT 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내', 'item_nm_alias': '특별한혜택충전 개편', 'sim': 0.24}]
2025-08-25 10:42:20,528 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:42:20,531 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 24개
2025-08-25 10:42:20,534 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 26개
2025-08-25 10:42:20,535 - mms_extractor - INFO - 통합된 후보 아이템 수: 50개
2025-08-25 10:42:20,535 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['갤럭시 S21', '갤럭시 S22', '갤럭시 Z 플립3', '휴넷', '플로', '치안', '리안', '갤럭시S3', '공장', '레이', '구독상품_사용', 'SK텔레콤(주)', '갤럭시S2', '갤럭시S', 'LTE 혜택 안내', '구.인터넷', '갤럭시S22 클럽', '갤럭시S22+ 클럽', '구독상품 결제사용', '갤럭시 Z플립4', '갤럭시 Z 플립']
2025-08-25 10:42:20,539 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (21, 2)
2025-08-25 10:42:20,539 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': 'FLO', 'item_id': ['V683']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}, {'item_nm': 'SK텔레콤(주)', 'item_id': ['V275']}]
2025-08-25 10:42:20,540 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 1.73초
2025-08-25 10:42:20,540 - mms_extractor - INFO - 추출된 후보 엔티티: ['갤럭시 S21', '갤럭시 S22', '갤럭시 Z 플립3', '휴넷', '플로', '치안', '리안', '갤럭시S3', '공장', '레이', '구독상품_사용', 'SK텔레콤(주)', '갤럭시S2', '갤럭시S', 'LTE 혜택 안내', '구.인터넷', '갤럭시S22 클럽', '갤럭시S22+ 클럽', '구독상품 결제사용', '갤럭시 Z플립4', '갤럭시 Z 플립']
2025-08-25 10:42:20,540 - mms_extractor - INFO - 매칭된 상품 정보: (21, 2)
2025-08-25 10:42:20,540 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:42:20,602 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:42:20,602 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:42:20,602 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 389 문자
2025-08-25 10:42:20,602 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:42:20,602 - mms_extractor - INFO - 후보 아이템 리스트 크기: 21개
2025-08-25 10:42:20,602 - mms_extractor - INFO - 후보 아이템 리스트: ['갤럭시 S21', '갤럭시 S22', '갤럭시 Z 플립3', '휴넷', '플로', '치안', '리안', '갤럭시S3', '공장', '레이', '구독상품_사용', 'SK텔레콤(주)', '갤럭시S2', '갤럭시S', 'LTE 혜택 안내', '구.인터넷', '갤럭시S22 클럽', '갤럭시S22+ 클럽', '구독상품 결제사용', '갤럭시 Z플립4', '갤럭시 Z 플립']
2025-08-25 10:42:20,602 - mms_extractor - INFO - extra_item_pdf 크기: (21, 2)
2025-08-25 10:42:20,602 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:42:20,602 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': 'FLO', 'item_id': ['V683']}, {'item_nm': 'LTE 혜택 안내', 'item_id': ['NA00004316']}]
2025-08-25 10:42:20,602 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 10:42:20,602 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:42:20,602 - mms_extractor - INFO - 구성된 프롬프트 길이: 6687 문자
2025-08-25 10:42:20,602 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 10:42:26,947 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:26,950 - mms_extractor - INFO - LLM 응답 길이: 793 문자
2025-08-25 10:42:26,950 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "SKT 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내",
    "purpose": [
        "매장오픈안내및방문유도",
        "상품 가입 유도",
        "혜택 안내"
    ],
    "product": [
        {"name": "갤럭시S22", "action": "구매"},
        {"name": "아이폰SE3", "action": "구매"},
        {"name": "갤럭시S21", "action": "구매"},
        {"name": "갤럭시Z플립3", "action": "구매"},
        {"name": "구독 상품", "action": "사용"}
    ],
    "channel": [
        {"type": "대리점", "value": "천호사거리점", "action": "방문"},
        {"type": "URL", "val...
2025-08-25 10:42:26,950 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:42:26,951 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:42:26,951 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:42:26,951 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': 'SKT 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내', 'purpose': ['매장오픈안내및방문유도', '상품 가입 유도', '혜택 안내'], 'product': [{'name': '갤럭시S22', 'action': '구매'}, {'name': '아이폰SE3', 'action': '구매'}, {'name': '갤럭시S21', 'action': '구매'}, {'name': '갤럭시Z플립3', 'action': '구매'}, {'name': '구독 상품', 'action': '사용'}], 'channel': [{'type': '대리점', 'value': '천호사거리점', 'action': '방문'}, {'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=11043&a=&u=http://naver.me/xDs6kpVm', 'action': '추가 정보'}, {'type': '전화번호', 'value': '1558', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['매장오픈안내및방문유도', '상품및부가서비스가입유도_단말']}
2025-08-25 10:42:26,951 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:42:26,951 - mms_extractor - INFO - LLM 추출 엔티티: ['갤럭시S22', '아이폰SE3', '갤럭시S21', '갤럭시Z플립3', '구독 상품']
2025-08-25 10:42:27,917 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:28,301 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.35초
2025-08-25 10:42:28,755 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:42:28,756 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:28,756 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:42:28,756 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:28,756 - mms_extractor - INFO - 제목: SKT 체험형 매장 T Factory 오픈 기념 인기 휴대폰 구매 혜택 안내
2025-08-25 10:42:28,756 - mms_extractor - INFO - 목적: ['매장오픈안내및방문유도', '상품 가입 유도', '혜택 안내']
2025-08-25 10:42:28,756 - mms_extractor - INFO - 상품 수: 2개
2025-08-25 10:42:28,756 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 10:42:28,756 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:42:28,756 - mms_extractor - INFO - process_message 실행완료: 9.94초
2025-08-25 10:42:28,756 - __main__ - INFO - ✅ 메시지 23192 순차 처리 완료
2025-08-25 10:42:28,756 - __main__ - INFO - 처리 중 (3/6): 12964 - [SK텔레콤] 북스 앤 데이터 혜택 안내 
(광고)[SKT] < 북스 앤 데이터 >   고...
2025-08-25 10:42:28,756 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:28,756 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:42:28,756 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:28,756 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] 북스 앤 데이터 혜택 안내 
(광고)[SKT] < 북스 앤 데이터 >   고객님, 안녕하세요. 원스토어 북스에서 제공하는 신규 고객 혜택 안내드립니다.   ① [원스토어] 최초 가입 고객님께는 추가 북스포인트 3,000포인트 지급 ② 최신 만화까지 무제한으로 보실 수 있도록 만화 쿠폰 추가 지급(최대 8천 원 수준) *만화 쿠폰은 로그인 일 ...
2025-08-25 10:42:28,756 - mms_extractor - INFO - 메시지 길이: 674 문자
2025-08-25 10:42:28,756 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:42:28,756 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:42:28,756 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 10:42:28,756 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 10:42:28,756 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:42:28,756 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:42:28,756 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:42:28,756 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:42:28,756 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:42:28,756 - mms_extractor - INFO - 처리할 메시지 길이: 674 문자
2025-08-25 10:42:28,762 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:42:28,769 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-25 10:42:28,769 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 북스 앤 데이터 혜택 안내 광고 SKT 북스 앤 데이터 고객님 안녕하세요 ', '원스토어 북스에서 제공하는 신규 고객 혜택 안내드립니다 ', ' 원스토어 최초 가입 고객님께는 추가 북스포인트 3,000포인트 지급 최신 만화까지 무제한으로 보실 수 있도록 만화 쿠폰 추가 지급 최대 8천 원 수준 만화 쿠폰은 로그인 일 이후 화요일에 일괄 지급됩니다 ']...
2025-08-25 10:42:28,775 - mms_extractor - INFO - 전체 토큰 수: 223개
2025-08-25 10:42:28,775 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '앤', '데이터', '광고', '앤', '데이터', '원스토어', '원스토어', '쿠폰', '쿠폰', '안드로이드', '아이폰', '앤', '데이터', '-', '인터넷', '스마트폰', '메타버스', '-', '오디오북', '-', '웹툰', '-', '코로나', '수신거부']
2025-08-25 10:42:28,775 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['웹툰', '원스토어', '메타버스', '오디오북', '안드로이드', '아이폰', '코로나']
2025-08-25 10:42:28,775 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:42:29,406 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (6020, 3)
2025-08-25 10:42:29,406 - mms_extractor - INFO - 퍼지 매칭 성공: 6020개 결과
2025-08-25 10:42:29,406 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 북스 앤 데이터 혜택 안내 광고 SKT 북스 앤 데이터 고객님 안녕하세요 ', 'item_nm_alias': '마빡이맞고', 'sim': 0.4}, {'sent': ' SK텔레콤 북스 앤 데이터 혜택 안내 광고 SKT 북스 앤 데이터 고객님 안녕하세요 ', 'item_nm_alias': 'test', 'sim': 0.5}, {'sent': ' SK텔레콤 북스 앤 데이터 혜택 안내 광고 SKT 북스 앤 데이터 고객님 안녕하세요 ', 'item_nm_alias': '데빌스카이', 'sim': 0.4}]
2025-08-25 10:42:29,407 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:42:29,640 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (6020, 3)
2025-08-25 10:42:29,641 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 북스 앤 데이터 혜택 안내 광고 SKT 북스 앤 데이터 고객님 안녕하세요 ', 'item_nm_alias': '마빡이맞고', 'sim': 0.32000000000000006}, {'sent': ' SK텔레콤 북스 앤 데이터 혜택 안내 광고 SKT 북스 앤 데이터 고객님 안녕하세요 ', 'item_nm_alias': 'test', 'sim': 0.4}, {'sent': ' SK텔레콤 북스 앤 데이터 혜택 안내 광고 SKT 북스 앤 데이터 고객님 안녕하세요 ', 'item_nm_alias': '데빌스카이', 'sim': 0.4}]
2025-08-25 10:42:29,641 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:42:29,643 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 51개
2025-08-25 10:42:29,645 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 1개
2025-08-25 10:42:29,645 - mms_extractor - INFO - 통합된 후보 아이템 수: 52개
2025-08-25 10:42:29,646 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['원스토어', '아이폰 15', '플로 앤 데이터', '플로 앤 데이터 구독', '(안드로이드)프로거', '하우리', '(안드로이드)부카', '스마트버스', '스마트로', '스마트19', '스도쿠', '베가', '아이폰5', '이마트', '레이', '데이터300', '이마트 구독', 'ⓜ하이마트', '데이터 260', '데이터 100', 'SK텔레콤(주)', '로이드', '웨이브 앤 데이터 구독', '인터넷(임의)', '아이폰 16', '아이폰 12', '아이폰 14', '아이폰 13', '웨이브 앤 데이터', '엘티이 혜택 안내', '플로 앤 데이터_인증', '구.인터넷', '플로 앤 데이터 플러스 구독', '와인스마트', '(안드로이드)레이디언트', '밀리패스 데이터 혜택', '버킷스토어 혜택', '라이트(무료)', '데이터 인피니티', '눋 데이터 전환 1GB', '안심데이터150', 'FLO 앤 데이터 구독', '플로 앤 데이터 플러스', '벅스 앤 데이터 플러스', '아이폰 테스트2', '플로 앤 데이터_할인1', '웨이브 앤 데이터_인증']
2025-08-25 10:42:29,651 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (46, 2)
2025-08-25 10:42:29,651 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '(안드로이드)레이디언트', 'item_id': ['T000008426']}, {'item_nm': '(안드로이드)부카', 'item_id': ['T000008428']}, {'item_nm': '(안드로이드)프로거', 'item_id': ['T000008431']}]
2025-08-25 10:42:29,651 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.90초
2025-08-25 10:42:29,651 - mms_extractor - INFO - 추출된 후보 엔티티: ['원스토어', '아이폰 15', '플로 앤 데이터', '플로 앤 데이터 구독', '(안드로이드)프로거', '하우리', '(안드로이드)부카', '스마트버스', '스마트로', '스마트19', '스도쿠', '베가', '아이폰5', '이마트', '레이', '데이터300', '이마트 구독', 'ⓜ하이마트', '데이터 260', '데이터 100', 'SK텔레콤(주)', '로이드', '웨이브 앤 데이터 구독', '인터넷(임의)', '아이폰 16', '아이폰 12', '아이폰 14', '아이폰 13', '웨이브 앤 데이터', '엘티이 혜택 안내', '플로 앤 데이터_인증', '구.인터넷', '플로 앤 데이터 플러스 구독', '와인스마트', '(안드로이드)레이디언트', '밀리패스 데이터 혜택', '버킷스토어 혜택', '라이트(무료)', '데이터 인피니티', '눋 데이터 전환 1GB', '안심데이터150', 'FLO 앤 데이터 구독', '플로 앤 데이터 플러스', '벅스 앤 데이터 플러스', '아이폰 테스트2', '플로 앤 데이터_할인1', '웨이브 앤 데이터_인증']
2025-08-25 10:42:29,651 - mms_extractor - INFO - 매칭된 상품 정보: (46, 2)
2025-08-25 10:42:29,651 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:42:29,698 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:42:29,698 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:42:29,698 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 398 문자
2025-08-25 10:42:29,698 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:42:29,698 - mms_extractor - INFO - 후보 아이템 리스트 크기: 47개
2025-08-25 10:42:29,698 - mms_extractor - INFO - 후보 아이템 리스트: ['원스토어', '아이폰 15', '플로 앤 데이터', '플로 앤 데이터 구독', '(안드로이드)프로거', '하우리', '(안드로이드)부카', '스마트버스', '스마트로', '스마트19', '스도쿠', '베가', '아이폰5', '이마트', '레이', '데이터300', '이마트 구독', 'ⓜ하이마트', '데이터 260', '데이터 100', 'SK텔레콤(주)', '로이드', '웨이브 앤 데이터 구독', '인터넷(임의)', '아이폰 16', '아이폰 12', '아이폰 14', '아이폰 13', '웨이브 앤 데이터', '엘티이 혜택 안내', '플로 앤 데이터_인증', '구.인터넷', '플로 앤 데이터 플러스 구독', '와인스마트', '(안드로이드)레이디언트', '밀리패스 데이터 혜택', '버킷스토어 혜택', '라이트(무료)', '데이터 인피니티', '눋 데이터 전환 1GB', '안심데이터150', 'FLO 앤 데이터 구독', '플로 앤 데이터 플러스', '벅스 앤 데이터 플러스', '아이폰 테스트2', '플로 앤 데이터_할인1', '웨이브 앤 데이터_인증']
2025-08-25 10:42:29,698 - mms_extractor - INFO - extra_item_pdf 크기: (46, 2)
2025-08-25 10:42:29,698 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:42:29,698 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '(안드로이드)레이디언트', 'item_id': ['T000008426']}, {'item_nm': '(안드로이드)부카', 'item_id': ['T000008428']}]
2025-08-25 10:42:29,698 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 10:42:29,698 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:42:29,698 - mms_extractor - INFO - 구성된 프롬프트 길이: 6985 문자
2025-08-25 10:42:29,698 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 10:42:36,966 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:36,969 - mms_extractor - INFO - LLM 응답 길이: 968 문자
2025-08-25 10:42:36,970 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] 북스 앤 데이터 혜택 안내",
    "purpose": [
        "혜택 안내",
        "웹/앱 접속 유도"
    ],
    "product": [
        {
            "name": "원스토어 북스",
            "action": "사용"
        },
        {
            "name": "북스 앤 데이터",
            "action": "가입"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/t.do?m=#61&s=1465&a=&u=https://onesto.re/0000676388",
            "action": "추가 정보"
        },
        {
           ...
2025-08-25 10:42:36,970 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:42:36,971 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:42:36,971 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:42:36,971 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] 북스 앤 데이터 혜택 안내', 'purpose': ['혜택 안내', '웹/앱 접속 유도'], 'product': [{'name': '원스토어 북스', 'action': '사용'}, {'name': '북스 앤 데이터', 'action': '가입'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=1465&a=&u=https://onesto.re/0000676388', 'action': '추가 정보'}, {'type': 'URL', 'value': 'http://t-mms.kr/t.do?m=#61&s=1466&a=&u=https://apps.apple.com/kr/app/one-books/id637169319', 'action': '추가 정보'}, {'type': '전화번호', 'value': '1505', 'action': '문의'}, {'type': '전화번호', 'value': '1504', 'action': '수신 거부'}], 'pgm': ['사용법/혜택/이벤트안내_구독', '상품및부가서비스가입유도_구독']}
2025-08-25 10:42:36,971 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:42:36,971 - mms_extractor - INFO - LLM 추출 엔티티: ['원스토어 북스', '북스 앤 데이터']
2025-08-25 10:42:38,297 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:38,639 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.67초
2025-08-25 10:42:38,645 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:42:38,645 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:38,645 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:42:38,645 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:38,645 - mms_extractor - INFO - 제목: [SK텔레콤] 북스 앤 데이터 혜택 안내
2025-08-25 10:42:38,645 - mms_extractor - INFO - 목적: ['혜택 안내', '웹/앱 접속 유도']
2025-08-25 10:42:38,645 - mms_extractor - INFO - 상품 수: 2개
2025-08-25 10:42:38,645 - mms_extractor - INFO - 채널 수: 4개
2025-08-25 10:42:38,645 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:42:38,645 - mms_extractor - INFO - process_message 실행완료: 9.89초
2025-08-25 10:42:38,646 - __main__ - INFO - ✅ 메시지 12964 순차 처리 완료
2025-08-25 10:42:38,646 - __main__ - INFO - 처리 중 (4/6): 2351 - T로밍 OnePass 400 신규가입 중단 안내
[SKT] T로밍 OnePass 400 신...
2025-08-25 10:42:38,646 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:38,646 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:42:38,646 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:38,646 - mms_extractor - INFO - 메시지 내용: T로밍 OnePass 400 신규가입 중단 안내
[SKT] T로밍 OnePass 400 신규가입 중단 안내  고객님, 안녕하세요.  고객님은 현재 <T로밍 OnePass 400> 상품을 이용하고 계십니다. 해당 상품은 2019년 5월 2일(목)부터 신규가입이 중단됩니다.  상품에 가입되어 있는 고객님은 계속해서 이용하실 수 있지만, 5월 2일 이후 해지하면...
2025-08-25 10:42:38,646 - mms_extractor - INFO - 메시지 길이: 446 문자
2025-08-25 10:42:38,646 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:42:38,646 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:42:38,646 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 10:42:38,646 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 10:42:38,646 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:42:38,646 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:42:38,646 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:42:38,646 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:42:38,646 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:42:38,646 - mms_extractor - INFO - 처리할 메시지 길이: 446 문자
2025-08-25 10:42:38,651 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:42:38,656 - mms_extractor - INFO - 분할된 문장 수: 6개
2025-08-25 10:42:38,656 - mms_extractor - INFO - 필터링된 문장들: ['T로밍 OnePass 400 신규가입 중단 안내 SKT T로밍 OnePass 400 신규가입 중단 안내 고객님 안녕하세요 ', '고객님은 현재 T로밍 OnePass 400 상품 이용 계십니다 ', '해당 상품은 목 부터 신규가입이 중단됩니다 ']...
2025-08-25 10:42:38,659 - mms_extractor - INFO - 전체 토큰 수: 194개
2025-08-25 10:42:38,660 - mms_extractor - INFO - NNP 태그 토큰들: ['로밍', '로밍', '로밍', '데이터', '로밍', '로밍', '-', '로밍', '로밍']
2025-08-25 10:42:38,660 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: []
2025-08-25 10:42:38,660 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:42:39,123 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (5222, 3)
2025-08-25 10:42:39,123 - mms_extractor - INFO - 퍼지 매칭 성공: 5222개 결과
2025-08-25 10:42:39,124 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': 'T로밍 OnePass 400 신규가입 중단 안내 SKT T로밍 OnePass 400 신규가입 중단 안내 고객님 안녕하세요 ', 'item_nm_alias': 'G6 프로', 'sim': 0.4}, {'sent': 'T로밍 OnePass 400 신규가입 중단 안내 SKT T로밍 OnePass 400 신규가입 중단 안내 고객님 안녕하세요 ', 'item_nm_alias': '매니지드 40', 'sim': 0.4285714285714286}, {'sent': 'T로밍 OnePass 400 신규가입 중단 안내 SKT T로밍 OnePass 400 신규가입 중단 안내 고객님 안녕하세요 ', 'item_nm_alias': 'test', 'sim': 0.5}]
2025-08-25 10:42:39,124 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:42:39,258 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (5222, 3)
2025-08-25 10:42:39,258 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': 'T로밍 OnePass 400 신규가입 중단 안내 SKT T로밍 OnePass 400 신규가입 중단 안내 고객님 안녕하세요 ', 'item_nm_alias': 'G6 프로', 'sim': 0.24000000000000005}, {'sent': 'T로밍 OnePass 400 신규가입 중단 안내 SKT T로밍 OnePass 400 신규가입 중단 안내 고객님 안녕하세요 ', 'item_nm_alias': '매니지드 40', 'sim': 0.34285714285714286}, {'sent': 'T로밍 OnePass 400 신규가입 중단 안내 SKT T로밍 OnePass 400 신규가입 중단 안내 고객님 안녕하세요 ', 'item_nm_alias': 'test', 'sim': 0.8}]
2025-08-25 10:42:39,258 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:42:39,260 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 105개
2025-08-25 10:42:39,261 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-25 10:42:39,262 - mms_extractor - INFO - 통합된 후보 아이템 수: 105개
2025-08-25 10:42:39,263 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['LTE 34 요금제', 'LTE 100 요금제', 'LTE 42 요금제', '신 LTE 34 요금제', 'T로밍 OnePass Plus', 'QoS 400Kbps', 'OnePass 400 기본형', 'OnePass 400 기간형', 'LTE 데이터100', 'LTE 부가요금제', '요기요', '상품 중단', '뉴LTE 40 요금제', '뉴LTE 34 요금제', 'T로밍 OnePassplus', 'T로밍 OnePassPlus', 'T로밍 OnePassPLUS', 'T로밍 Biz 요금제', '데이터 100', 'T로밍 OnePass250', 'T로밍 onepass250', 'OnePass 400 기간형2', '신 LTE 100 요금제', 'LTE 62 요금제', 'T로밍 OnePass 플러스', 'LTE 72 요금제', 'LTE 85 요금제', 'LTE 52 요금제', 'T1 요금제', '신 LTE 42 요금제', 'T로밍 LongPass 3GB', '바로 요금제', 'T로밍 미주Pass  3GB', 'T로밍 미주pass  3GB', 'T로밍 유럽Pass 3GB', 'T로밍 유럽pass 3GB', 'T pet요금제', 'LTE 데이터180', 'LTE 데이터130', 'LTE 데이터250', 'LTE 데이터330', 'T로밍OnePass 미니', 'LTE IB렌탈 요금제', '뉴LTE 100 요금제', 'T로밍 데이터 일2MB', 'T로밍 데이터 12시간', 'OnePass 데이터 VIP 기본형', 'OnePass 데이터 VIP 기간형', 'T로밍 OnePass플러스', 'T로밍 onepass250 기간', 'T로밍 OnePass250 기간', 'T로밍 데이터충전', '데이터 이용하지 않기', 'test용', 'T로밍 한중일pass', 'T로밍 한중일PASS', 'T로밍 한중일Pass', 'T로밍 LongPass 3기가', 'T로밍 데이터 5만원', 'T로밍 데이터 3만원', 'T로밍 데이터 1만원', 'OnePass 용량 추가', 'T Zone 요금', 'QoS 4Mbps', 'OnePass 500 기간형', 'OnePass 500 기본형', 'T로밍 원pass250', 'T로밍 원Pass250', 'T로밍 LTE Pass 10일', 'Tech 400', 'OnePass100(test2)', '신 LTE 52 요금제', '신 LTE 62 요금제', '신 LTE 72 요금제', '신 LTE 85 요금제', 'OnePass 데이터 VIP 기간형2', '펄 3G']
2025-08-25 10:42:39,267 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (64, 2)
2025-08-25 10:42:39,267 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': 'Data 100', 'item_id': ['NA00000721']}, {'item_nm': 'LTE 100 요금제', 'item_id': ['NA00003385']}, {'item_nm': 'LTE 34 요금제', 'item_id': ['NA00003379']}]
2025-08-25 10:42:39,267 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.62초
2025-08-25 10:42:39,267 - mms_extractor - INFO - 추출된 후보 엔티티: ['LTE 34 요금제', 'LTE 100 요금제', 'LTE 42 요금제', '신 LTE 34 요금제', 'T로밍 OnePass Plus', 'QoS 400Kbps', 'OnePass 400 기본형', 'OnePass 400 기간형', 'LTE 데이터100', 'LTE 부가요금제', '요기요', '상품 중단', '뉴LTE 40 요금제', '뉴LTE 34 요금제', 'T로밍 OnePassplus', 'T로밍 OnePassPlus', 'T로밍 OnePassPLUS', 'T로밍 Biz 요금제', '데이터 100', 'T로밍 OnePass250', 'T로밍 onepass250', 'OnePass 400 기간형2', '신 LTE 100 요금제', 'LTE 62 요금제', 'T로밍 OnePass 플러스', 'LTE 72 요금제', 'LTE 85 요금제', 'LTE 52 요금제', 'T1 요금제', '신 LTE 42 요금제', 'T로밍 LongPass 3GB', '바로 요금제', 'T로밍 미주Pass  3GB', 'T로밍 미주pass  3GB', 'T로밍 유럽Pass 3GB', 'T로밍 유럽pass 3GB', 'T pet요금제', 'LTE 데이터180', 'LTE 데이터130', 'LTE 데이터250', 'LTE 데이터330', 'T로밍OnePass 미니', 'LTE IB렌탈 요금제', '뉴LTE 100 요금제', 'T로밍 데이터 일2MB', 'T로밍 데이터 12시간', 'OnePass 데이터 VIP 기본형', 'OnePass 데이터 VIP 기간형', 'T로밍 OnePass플러스', 'T로밍 onepass250 기간', 'T로밍 OnePass250 기간', 'T로밍 데이터충전', '데이터 이용하지 않기', 'test용', 'T로밍 한중일pass', 'T로밍 한중일PASS', 'T로밍 한중일Pass', 'T로밍 LongPass 3기가', 'T로밍 데이터 5만원', 'T로밍 데이터 3만원', 'T로밍 데이터 1만원', 'OnePass 용량 추가', 'T Zone 요금', 'QoS 4Mbps', 'OnePass 500 기간형', 'OnePass 500 기본형', 'T로밍 원pass250', 'T로밍 원Pass250', 'T로밍 LTE Pass 10일', 'Tech 400', 'OnePass100(test2)', '신 LTE 52 요금제', '신 LTE 62 요금제', '신 LTE 72 요금제', '신 LTE 85 요금제', 'OnePass 데이터 VIP 기간형2', '펄 3G']
2025-08-25 10:42:39,267 - mms_extractor - INFO - 매칭된 상품 정보: (64, 2)
2025-08-25 10:42:39,267 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:42:39,308 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:42:39,308 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:42:39,309 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 391 문자
2025-08-25 10:42:39,309 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:42:39,309 - mms_extractor - INFO - 후보 아이템 리스트 크기: 77개
2025-08-25 10:42:39,309 - mms_extractor - INFO - 후보 아이템 리스트: ['LTE 34 요금제', 'LTE 100 요금제', 'LTE 42 요금제', '신 LTE 34 요금제', 'T로밍 OnePass Plus', 'QoS 400Kbps', 'OnePass 400 기본형', 'OnePass 400 기간형', 'LTE 데이터100', 'LTE 부가요금제', '요기요', '상품 중단', '뉴LTE 40 요금제', '뉴LTE 34 요금제', 'T로밍 OnePassplus', 'T로밍 OnePassPlus', 'T로밍 OnePassPLUS', 'T로밍 Biz 요금제', '데이터 100', 'T로밍 OnePass250', 'T로밍 onepass250', 'OnePass 400 기간형2', '신 LTE 100 요금제', 'LTE 62 요금제', 'T로밍 OnePass 플러스', 'LTE 72 요금제', 'LTE 85 요금제', 'LTE 52 요금제', 'T1 요금제', '신 LTE 42 요금제', 'T로밍 LongPass 3GB', '바로 요금제', 'T로밍 미주Pass  3GB', 'T로밍 미주pass  3GB', 'T로밍 유럽Pass 3GB', 'T로밍 유럽pass 3GB', 'T pet요금제', 'LTE 데이터180', 'LTE 데이터130', 'LTE 데이터250', 'LTE 데이터330', 'T로밍OnePass 미니', 'LTE IB렌탈 요금제', '뉴LTE 100 요금제', 'T로밍 데이터 일2MB', 'T로밍 데이터 12시간', 'OnePass 데이터 VIP 기본형', 'OnePass 데이터 VIP 기간형', 'T로밍 OnePass플러스', 'T로밍 onepass250 기간', 'T로밍 OnePass250 기간', 'T로밍 데이터충전', '데이터 이용하지 않기', 'test용', 'T로밍 한중일pass', 'T로밍 한중일PASS', 'T로밍 한중일Pass', 'T로밍 LongPass 3기가', 'T로밍 데이터 5만원', 'T로밍 데이터 3만원', 'T로밍 데이터 1만원', 'OnePass 용량 추가', 'T Zone 요금', 'QoS 4Mbps', 'OnePass 500 기간형', 'OnePass 500 기본형', 'T로밍 원pass250', 'T로밍 원Pass250', 'T로밍 LTE Pass 10일', 'Tech 400', 'OnePass100(test2)', '신 LTE 52 요금제', '신 LTE 62 요금제', '신 LTE 72 요금제', '신 LTE 85 요금제', 'OnePass 데이터 VIP 기간형2', '펄 3G']
2025-08-25 10:42:39,309 - mms_extractor - INFO - extra_item_pdf 크기: (64, 2)
2025-08-25 10:42:39,309 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:42:39,309 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': 'Data 100', 'item_id': ['NA00000721']}, {'item_nm': 'LTE 100 요금제', 'item_id': ['NA00003385']}]
2025-08-25 10:42:39,309 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 10:42:39,309 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:42:39,309 - mms_extractor - INFO - 구성된 프롬프트 길이: 7440 문자
2025-08-25 10:42:39,309 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 10:42:43,616 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:43,618 - mms_extractor - INFO - LLM 응답 길이: 542 문자
2025-08-25 10:42:43,618 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "T로밍 OnePass 400 신규가입 중단 안내",
    "purpose": [
        "혜택 안내",
        "상품 가입 유도"
    ],
    "product": [
        {
            "name": "T로밍 OnePass 400",
            "action": "가입"
        },
        {
            "name": "T로밍 요금제",
            "action": "가입"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "https://m.tworld.co.kr/product/roaming/fee",
            "action": "추가 정보"
        }
    ],
    "pgm": [
        "상품및부가서비스...
2025-08-25 10:42:43,618 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:42:43,619 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:42:43,619 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:42:43,619 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': 'T로밍 OnePass 400 신규가입 중단 안내', 'purpose': ['혜택 안내', '상품 가입 유도'], 'product': [{'name': 'T로밍 OnePass 400', 'action': '가입'}, {'name': 'T로밍 요금제', 'action': '가입'}], 'channel': [{'type': 'URL', 'value': 'https://m.tworld.co.kr/product/roaming/fee', 'action': '추가 정보'}], 'pgm': ['상품및부가서비스가입유도_SKT', '기변유도및해지방어']}
2025-08-25 10:42:43,619 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:42:43,619 - mms_extractor - INFO - LLM 추출 엔티티: ['T로밍 OnePass 400', 'T로밍 요금제']
2025-08-25 10:42:44,441 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:44,543 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 0.92초
2025-08-25 10:42:44,550 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:42:44,550 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:44,550 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:42:44,550 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:44,550 - mms_extractor - INFO - 제목: T로밍 OnePass 400 신규가입 중단 안내
2025-08-25 10:42:44,550 - mms_extractor - INFO - 목적: ['혜택 안내', '상품 가입 유도']
2025-08-25 10:42:44,550 - mms_extractor - INFO - 상품 수: 1개
2025-08-25 10:42:44,550 - mms_extractor - INFO - 채널 수: 1개
2025-08-25 10:42:44,550 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:42:44,550 - mms_extractor - INFO - process_message 실행완료: 5.90초
2025-08-25 10:42:44,550 - __main__ - INFO - ✅ 메시지 2351 순차 처리 완료
2025-08-25 10:42:44,550 - __main__ - INFO - 처리 중 (5/6): 8129 - [SK텔레콤] T 청소년유해차단 앱을 설치해 주시기 바랍니다.
[SKT] <T 청소년유해차...
2025-08-25 10:42:44,550 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:44,550 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:42:44,550 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:44,550 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] T 청소년유해차단 앱을 설치해 주시기 바랍니다.
[SKT] <T 청소년유해차단> 앱 의무 설치 안내__고객님, 안녕하세요._청소년 가입자 관련 법령에 따라, 만 19세 미만의 고객님은 휴대폰에 유해 정보 차단 서비스를 의무적으로 설치하셔야 합니다._유해 정보 차단 서비스인 <T 청소년유해차단> 앱이 설치되어 있는지 확인해 주시기 바랍니다.__...
2025-08-25 10:42:44,550 - mms_extractor - INFO - 메시지 길이: 356 문자
2025-08-25 10:42:44,550 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:42:44,550 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:42:44,550 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 10:42:44,550 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 10:42:44,550 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:42:44,550 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:42:44,550 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:42:44,550 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:42:44,550 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:42:44,550 - mms_extractor - INFO - 처리할 메시지 길이: 356 문자
2025-08-25 10:42:44,556 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:42:44,558 - mms_extractor - INFO - 분할된 문장 수: 10개
2025-08-25 10:42:44,558 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 T 청소년유해차단 앱 설치 주시기 바랍니다 SKT T 청소년유해차단 ', '앱 의무 설치 안내', '고객님 안녕하세요 ']...
2025-08-25 10:42:44,562 - mms_extractor - INFO - 전체 토큰 수: 166개
2025-08-25 10:42:44,562 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '-', '-', '와이즈']
2025-08-25 10:42:44,562 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: ['와이즈']
2025-08-25 10:42:44,562 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:42:45,163 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (4963, 3)
2025-08-25 10:42:45,163 - mms_extractor - INFO - 퍼지 매칭 성공: 4963개 결과
2025-08-25 10:42:45,163 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 T 청소년유해차단 앱 설치 주시기 바랍니다 SKT T 청소년유해차단 ', 'item_nm_alias': 'test', 'sim': 0.5}, {'sent': ' SK텔레콤 T 청소년유해차단 앱 설치 주시기 바랍니다 SKT T 청소년유해차단 ', 'item_nm_alias': '기신병단', 'sim': 0.4}, {'sent': ' SK텔레콤 T 청소년유해차단 앱 설치 주시기 바랍니다 SKT T 청소년유해차단 ', 'item_nm_alias': '스팸SMS차단', 'sim': 0.4444444444444444}]
2025-08-25 10:42:45,163 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:42:45,257 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (4963, 3)
2025-08-25 10:42:45,257 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 T 청소년유해차단 앱 설치 주시기 바랍니다 SKT T 청소년유해차단 ', 'item_nm_alias': 'test', 'sim': 0.5}, {'sent': ' SK텔레콤 T 청소년유해차단 앱 설치 주시기 바랍니다 SKT T 청소년유해차단 ', 'item_nm_alias': '기신병단', 'sim': 0.30000000000000004}, {'sent': ' SK텔레콤 T 청소년유해차단 앱 설치 주시기 바랍니다 SKT T 청소년유해차단 ', 'item_nm_alias': '스팸SMS차단', 'sim': 0.4}]
2025-08-25 10:42:45,257 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:42:45,259 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 17개
2025-08-25 10:42:45,261 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-25 10:42:45,262 - mms_extractor - INFO - 통합된 후보 아이템 수: 17개
2025-08-25 10:42:45,262 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['SK텔레콤(주)', 'I서비스', 'T청소년유해차단', 'wer', '미정', '치안', '휴대폰 보호 서비스', 'CUG 서비스', 'T 서비스', 'Lite 서비스', '단문 문자 차단 서비스']
2025-08-25 10:42:45,266 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (11, 2)
2025-08-25 10:42:45,266 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': 'CUG 서비스', 'item_id': ['NT00000521']}, {'item_nm': 'I서비스', 'item_id': ['NA00000329']}, {'item_nm': 'Lite 서비스', 'item_id': ['NM00000061']}]
2025-08-25 10:42:45,266 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 0.72초
2025-08-25 10:42:45,266 - mms_extractor - INFO - 추출된 후보 엔티티: ['SK텔레콤(주)', 'I서비스', 'T청소년유해차단', 'wer', '미정', '치안', '휴대폰 보호 서비스', 'CUG 서비스', 'T 서비스', 'Lite 서비스', '단문 문자 차단 서비스']
2025-08-25 10:42:45,267 - mms_extractor - INFO - 매칭된 상품 정보: (11, 2)
2025-08-25 10:42:45,267 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:42:45,309 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:42:45,309 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:42:45,309 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 376 문자
2025-08-25 10:42:45,309 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:42:45,309 - mms_extractor - INFO - 후보 아이템 리스트 크기: 11개
2025-08-25 10:42:45,309 - mms_extractor - INFO - 후보 아이템 리스트: ['SK텔레콤(주)', 'I서비스', 'T청소년유해차단', 'wer', '미정', '치안', '휴대폰 보호 서비스', 'CUG 서비스', 'T 서비스', 'Lite 서비스', '단문 문자 차단 서비스']
2025-08-25 10:42:45,309 - mms_extractor - INFO - extra_item_pdf 크기: (11, 2)
2025-08-25 10:42:45,309 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:42:45,309 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': 'CUG 서비스', 'item_id': ['NT00000521']}, {'item_nm': 'I서비스', 'item_id': ['NA00000329']}]
2025-08-25 10:42:45,309 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 10:42:45,309 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:42:45,309 - mms_extractor - INFO - 구성된 프롬프트 길이: 6218 문자
2025-08-25 10:42:45,309 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 10:42:50,101 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:50,103 - mms_extractor - INFO - LLM 응답 길이: 656 문자
2025-08-25 10:42:50,104 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] T 청소년유해차단 앱을 설치해 주시기 바랍니다.",
    "purpose": [
        "상품 가입 유도"
    ],
    "product": [
        {
            "name": "T 청소년유해차단",
            "action": "사용"
        }
    ],
    "channel": [
        {
            "type": "URL",
            "value": "http://t-mms.kr/bZ3/#74",
            "action": "사용"
        },
        {
            "type": "전화번호",
            "value": "114",
            "action": "문의"
        },
        {
            "type": "URL",
           ...
2025-08-25 10:42:50,104 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:42:50,104 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:42:50,104 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:42:50,104 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] T 청소년유해차단 앱을 설치해 주시기 바랍니다.', 'purpose': ['상품 가입 유도'], 'product': [{'name': 'T 청소년유해차단', 'action': '사용'}], 'channel': [{'type': 'URL', 'value': 'http://t-mms.kr/bZ3/#74', 'action': '사용'}, {'type': '전화번호', 'value': '114', 'action': '문의'}, {'type': 'URL', 'value': 'www.wiseuser.go.kr', 'action': '추가 정보'}], 'pgm': ['상품및부가서비스가입유도_기타', '사용법/혜택/이벤트안내_단말']}
2025-08-25 10:42:50,104 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:42:50,105 - mms_extractor - INFO - LLM 추출 엔티티: ['T 청소년유해차단']
2025-08-25 10:42:50,790 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:50,893 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 0.79초
2025-08-25 10:42:50,900 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:42:50,900 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:50,900 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:42:50,900 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:50,900 - mms_extractor - INFO - 제목: [SK텔레콤] T 청소년유해차단 앱을 설치해 주시기 바랍니다.
2025-08-25 10:42:50,900 - mms_extractor - INFO - 목적: ['상품 가입 유도']
2025-08-25 10:42:50,900 - mms_extractor - INFO - 상품 수: 1개
2025-08-25 10:42:50,900 - mms_extractor - INFO - 채널 수: 3개
2025-08-25 10:42:50,900 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:42:50,900 - mms_extractor - INFO - process_message 실행완료: 6.35초
2025-08-25 10:42:50,900 - __main__ - INFO - ✅ 메시지 8129 순차 처리 완료
2025-08-25 10:42:50,900 - __main__ - INFO - 처리 중 (6/6): 8180 - [SK텔레콤] TMAP 데이터요금제가 종료됩니다.
[SKT] TMAP 데이터요금제 종료 안...
2025-08-25 10:42:50,900 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:50,900 - mms_extractor - INFO - 🚀 MMS 메시지 처리 시작
2025-08-25 10:42:50,900 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:50,900 - mms_extractor - INFO - 메시지 내용: [SK텔레콤] TMAP 데이터요금제가 종료됩니다.
[SKT] TMAP 데이터요금제 종료 안내__고객님, 안녕하세요._TMAP 데이터요금제(월 1,100원, TMAP 데이터 무제한)가 2023년 3월 1일(수)부로 신규가입이 중단되고, 2023년 4월 1일(토)부터 서비스 제공이 종료됩니다._TMAP 데이터요금제는 3월 31일(금)까지 이용하실 수 있으며, ...
2025-08-25 10:42:50,900 - mms_extractor - INFO - 메시지 길이: 703 문자
2025-08-25 10:42:50,900 - mms_extractor - INFO - === 현재 추출기 설정 ===
2025-08-25 10:42:50,900 - mms_extractor - INFO - 데이터 소스: local
2025-08-25 10:42:50,900 - mms_extractor - INFO - 상품 정보 추출 모드: llm
2025-08-25 10:42:50,900 - mms_extractor - INFO - 엔티티 추출 모드: llm
2025-08-25 10:42:50,900 - mms_extractor - INFO - LLM 모델: ax
2025-08-25 10:42:50,900 - mms_extractor - INFO - 상품 데이터 크기: (94279, 9)
2025-08-25 10:42:50,900 - mms_extractor - INFO - 프로그램 데이터 크기: (25, 6)
2025-08-25 10:42:50,900 - mms_extractor - INFO - ============================== 1단계: 엔티티 추출 ==============================
2025-08-25 10:42:50,900 - mms_extractor - INFO - === Kiwi 기반 엔티티 추출 시작 ===
2025-08-25 10:42:50,900 - mms_extractor - INFO - 처리할 메시지 길이: 703 문자
2025-08-25 10:42:50,906 - mms_extractor - INFO - 매칭할 상품 별칭 수: 65154개
2025-08-25 10:42:50,907 - mms_extractor - INFO - 분할된 문장 수: 19개
2025-08-25 10:42:50,908 - mms_extractor - INFO - 필터링된 문장들: [' SK텔레콤 TMAP 데이터요금제가 종료됩니다 SKT ', 'TMAP 데이터요금제 종료 안내', '고객님 안녕하세요 ']...
2025-08-25 10:42:50,915 - mms_extractor - INFO - 전체 토큰 수: 355개
2025-08-25 10:42:50,915 - mms_extractor - INFO - NNP 태그 토큰들: ['SK텔레콤', '데이터', '데이터', '데이터', '데이터', '데이터', '데이터', '데이터', '-', '-', '데이터', '-', '데이터']
2025-08-25 10:42:50,915 - mms_extractor - INFO - 필터링 후 Kiwi 추출 엔티티: []
2025-08-25 10:42:50,915 - mms_extractor - INFO - 퍼지 매칭 시작...
2025-08-25 10:42:52,720 - mms_extractor - INFO - 퍼지 매칭 결과 크기: (14713, 3)
2025-08-25 10:42:52,720 - mms_extractor - INFO - 퍼지 매칭 성공: 14713개 결과
2025-08-25 10:42:52,720 - mms_extractor - INFO - 퍼지 매칭 샘플: [{'sent': ' SK텔레콤 TMAP 데이터요금제가 종료됩니다 SKT ', 'item_nm_alias': '갤럭시 tab S6', 'sim': 0.4}, {'sent': ' SK텔레콤 TMAP 데이터요금제가 종료됩니다 SKT ', 'item_nm_alias': '베트남 데이터무제한1', 'sim': 0.4545454545454546}, {'sent': ' SK텔레콤 TMAP 데이터요금제가 종료됩니다 SKT ', 'item_nm_alias': 'test', 'sim': 0.5714285714285714}]
2025-08-25 10:42:52,720 - mms_extractor - INFO - 시퀀스 유사도 계산 시작...
2025-08-25 10:42:52,924 - mms_extractor - INFO - 시퀀스 유사도 결과 크기: (14713, 3)
2025-08-25 10:42:52,925 - mms_extractor - INFO - 시퀀스 유사도 샘플: [{'sent': ' SK텔레콤 TMAP 데이터요금제가 종료됩니다 SKT ', 'item_nm_alias': '갤럭시 tab S6', 'sim': 0.4}, {'sent': ' SK텔레콤 TMAP 데이터요금제가 종료됩니다 SKT ', 'item_nm_alias': '베트남 데이터무제한1', 'sim': 0.36363636363636365}, {'sent': ' SK텔레콤 TMAP 데이터요금제가 종료됩니다 SKT ', 'item_nm_alias': 'test', 'sim': 0.5}]
2025-08-25 10:42:52,925 - mms_extractor - INFO - 사용할 유사도 임계값: 0.7
2025-08-25 10:42:52,928 - mms_extractor - INFO - 임계값 필터링 후 후보 아이템 수: 9개
2025-08-25 10:42:52,930 - mms_extractor - INFO - Kiwi 엔티티 매칭 결과: 0개
2025-08-25 10:42:52,930 - mms_extractor - INFO - 통합된 후보 아이템 수: 9개
2025-08-25 10:42:52,931 - mms_extractor - INFO - 최종 후보 아이템 리스트: ['T 서비스', '가수로', '레이', 'SK텔레콤(주)', '국제 서비스', '3 TAP 서비스', '데이터요금상한서비스', '데이터 테스트 서비스']
2025-08-25 10:42:52,934 - mms_extractor - INFO - 최종 상품 정보 DataFrame 크기: (8, 2)
2025-08-25 10:42:52,934 - mms_extractor - INFO - 최종 상품 정보 샘플: [{'item_nm': '3 TAP 서비스', 'item_id': ['T000009277']}, {'item_nm': 'SK텔레콤(주)', 'item_id': ['V275']}, {'item_nm': 'T 서비스', 'item_id': ['NA00003911']}]
2025-08-25 10:42:52,935 - mms_extractor - INFO - extract_entities_from_kiwi 실행완료: 2.03초
2025-08-25 10:42:52,935 - mms_extractor - INFO - 추출된 후보 엔티티: ['T 서비스', '가수로', '레이', 'SK텔레콤(주)', '국제 서비스', '3 TAP 서비스', '데이터요금상한서비스', '데이터 테스트 서비스']
2025-08-25 10:42:52,935 - mms_extractor - INFO - 매칭된 상품 정보: (8, 2)
2025-08-25 10:42:52,935 - mms_extractor - INFO - ============================== 2단계: 프로그램 분류 ==============================
2025-08-25 10:42:52,981 - mms_extractor - INFO - 프로그램 분류 결과 키: ['pgm_cand_info', 'similarities', 'pgm_pdf_tmp']
2025-08-25 10:42:52,981 - mms_extractor - INFO - ============================== 3단계: RAG 컨텍스트 구성 ==============================
2025-08-25 10:42:52,981 - mms_extractor - INFO - 프로그램 분류 컨텍스트 길이: 392 문자
2025-08-25 10:42:52,981 - mms_extractor - INFO - ============================== 4단계: 제품 정보 준비 ==============================
2025-08-25 10:42:52,981 - mms_extractor - INFO - 후보 아이템 리스트 크기: 8개
2025-08-25 10:42:52,981 - mms_extractor - INFO - 후보 아이템 리스트: ['T 서비스', '가수로', '레이', 'SK텔레콤(주)', '국제 서비스', '3 TAP 서비스', '데이터요금상한서비스', '데이터 테스트 서비스']
2025-08-25 10:42:52,981 - mms_extractor - INFO - extra_item_pdf 크기: (8, 2)
2025-08-25 10:42:52,981 - mms_extractor - INFO - extra_item_pdf 컬럼들: ['item_nm', 'item_id']
2025-08-25 10:42:52,981 - mms_extractor - INFO - extra_item_pdf 샘플: [{'item_nm': '3 TAP 서비스', 'item_id': ['T000009277']}, {'item_nm': 'SK텔레콤(주)', 'item_id': ['V275']}]
2025-08-25 10:42:52,981 - mms_extractor - INFO - LLM 모드: 참고용 후보 상품 목록을 RAG 컨텍스트에 추가
2025-08-25 10:42:52,981 - mms_extractor - INFO - ============================== 5단계: LLM 호출 ==============================
2025-08-25 10:42:52,981 - mms_extractor - INFO - 구성된 프롬프트 길이: 6554 문자
2025-08-25 10:42:52,981 - mms_extractor - INFO - RAG 컨텍스트 포함 여부: True
2025-08-25 10:42:56,798 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:56,799 - mms_extractor - INFO - LLM 응답 길이: 429 문자
2025-08-25 10:42:56,799 - mms_extractor - INFO - LLM 응답 내용 (처음 500자): ```json
{
    "title": "[SK텔레콤] TMAP 데이터요금제가 종료됩니다.",
    "purpose": [
        "혜택 안내",
        "기타 정보 제공"
    ],
    "product": [
        {
            "name": "TMAP 데이터요금제",
            "action": "사용"
        }
    ],
    "channel": [
        {
            "type": "전화번호",
            "value": "SKT 고객센터(114)",
            "action": "문의"
        }
    ],
    "pgm": [
        "기변유도및해지방어",
        "상품및부가서비스가입유도_요금제"
    ]
}
```...
2025-08-25 10:42:56,799 - mms_extractor - INFO - ============================== 6단계: JSON 파싱 ==============================
2025-08-25 10:42:56,799 - mms_extractor - INFO - 추출된 JSON 객체 수: 1개
2025-08-25 10:42:56,799 - mms_extractor - INFO - 파싱된 JSON 객체 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-08-25 10:42:56,799 - mms_extractor - INFO - 파싱된 JSON 내용: {'title': '[SK텔레콤] TMAP 데이터요금제가 종료됩니다.', 'purpose': ['혜택 안내', '기타 정보 제공'], 'product': [{'name': 'TMAP 데이터요금제', 'action': '사용'}], 'channel': [{'type': '전화번호', 'value': 'SKT 고객센터(114)', 'action': '문의'}], 'pgm': ['기변유도및해지방어', '상품및부가서비스가입유도_요금제']}
2025-08-25 10:42:56,799 - mms_extractor - INFO - ============================== 7단계: 최종 결과 구성 ==============================
2025-08-25 10:42:56,799 - mms_extractor - INFO - LLM 추출 엔티티: ['TMAP 데이터요금제']
2025-08-25 10:42:57,712 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-25 10:42:57,816 - mms_extractor - INFO - extract_entities_by_llm 실행완료: 1.02초
2025-08-25 10:42:57,817 - mms_extractor - INFO - ============================== 8단계: 결과 검증 ==============================
2025-08-25 10:42:57,817 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:57,817 - mms_extractor - INFO - ✅ 메시지 처리 완료 - 최종 결과 요약
2025-08-25 10:42:57,817 - mms_extractor - INFO - ============================================================
2025-08-25 10:42:57,817 - mms_extractor - INFO - 제목: [SK텔레콤] TMAP 데이터요금제가 종료됩니다.
2025-08-25 10:42:57,817 - mms_extractor - INFO - 목적: ['혜택 안내', '기타 정보 제공']
2025-08-25 10:42:57,817 - mms_extractor - INFO - 상품 수: 1개
2025-08-25 10:42:57,817 - mms_extractor - INFO - 채널 수: 1개
2025-08-25 10:42:57,817 - mms_extractor - INFO - 프로그램 수: 2개
2025-08-25 10:42:57,817 - mms_extractor - INFO - process_message 실행완료: 6.92초
2025-08-25 10:42:57,817 - __main__ - INFO - ✅ 메시지 8180 순차 처리 완료
2025-08-25 10:42:57,817 - __main__ - INFO - ⚡ 순차 처리 완료: 6개 메시지, 58.78초 소요
2025-08-25 10:42:57,817 - __main__ - INFO - Appending 6 results to existing file: ./data/batch_results.csv
2025-08-25 10:42:57,830 - __main__ - INFO - Results saved to: ./data/batch_results.csv
2025-08-25 10:42:57,830 - __main__ - INFO - Successfully processed 6 messages
2025-08-25 10:42:57,830 - __main__ - INFO - Processed message IDs: ['5756', '23192', '12964', '2351', '8129', '8180']
2025-08-25 10:42:57,830 - __main__ - INFO - ==================================================
2025-08-25 10:42:57,830 - __main__ - INFO - 🎯 배치 처리 성능 요약
2025-08-25 10:42:57,830 - __main__ - INFO - ==================================================
2025-08-25 10:42:57,830 - __main__ - INFO - 처리 모드: 순차 처리
2025-08-25 10:42:57,830 - __main__ - INFO - 워커 수: 2
2025-08-25 10:42:57,830 - __main__ - INFO - DAG 추출: OFF
2025-08-25 10:42:57,830 - __main__ - INFO - 총 처리 시간: 67.41초
2025-08-25 10:42:57,830 - __main__ - INFO - 메시지 처리 시간: 58.78초
2025-08-25 10:42:57,830 - __main__ - INFO - 메시지당 평균 시간: 9.80초
2025-08-25 10:42:57,830 - __main__ - INFO - 처리량: 0.10 메시지/초
2025-08-25 10:42:57,830 - __main__ - INFO - ==================================================
2025-08-25 10:42:57,830 - __main__ - INFO - ==================================================
2025-08-25 10:42:57,830 - __main__ - INFO - Batch Processing Summary
2025-08-25 10:42:57,830 - __main__ - INFO - ==================================================
2025-08-25 10:42:57,830 - __main__ - INFO - status: completed
2025-08-25 10:42:57,830 - __main__ - INFO - processed_count: 6
2025-08-25 10:42:57,830 - __main__ - INFO - successful_count: 6
2025-08-25 10:42:57,830 - __main__ - INFO - failed_count: 0
2025-08-25 10:42:57,830 - __main__ - INFO - results_file: ./data/batch_results.csv
2025-08-25 10:42:57,830 - __main__ - INFO - processing_mode: 순차 처리
2025-08-25 10:42:57,830 - __main__ - INFO - max_workers: 2
2025-08-25 10:42:57,830 - __main__ - INFO - dag_extraction: False
2025-08-25 10:42:57,830 - __main__ - INFO - total_time_seconds: 67.41
2025-08-25 10:42:57,830 - __main__ - INFO - processing_time_seconds: 58.78
2025-08-25 10:42:57,830 - __main__ - INFO - avg_time_per_message: 9.8
2025-08-25 10:42:57,830 - __main__ - INFO - throughput_messages_per_second: 0.1
2025-08-25 10:42:57,830 - __main__ - INFO - ==================================================
