2025-09-03 17:22:25,723 - __main__ - INFO - === 모델 비교 실험 시작 ===
2025-09-03 17:22:25,723 - __main__ - INFO - 배치 크기: 3
2025-09-03 17:22:25,724 - __main__ - INFO - 결과 저장 디렉토리: test_timestamp
2025-09-03 17:22:25,724 - __main__ - INFO - 최소 메시지 길이: 400자
2025-09-03 17:22:25,724 - __main__ - INFO - 1단계: MMS 데이터 로딩
2025-09-03 17:22:25,724 - __main__ - INFO - MMS 데이터 로딩: /Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/data/mms_data_250806.csv
2025-09-03 17:22:26,711 - __main__ - INFO - 총 23950개 메시지 로드됨
2025-09-03 17:22:26,716 - __main__ - INFO - 메시지 길이 필터링 적용 (최소 400자): 23950개 → 18816개
2025-09-03 17:22:26,716 - __main__ - INFO - 3개 메시지 샘플링 완료
2025-09-03 17:22:26,717 - __main__ - INFO - 2단계: 모든 모델로 추출 실행
2025-09-03 17:22:26,717 - __main__ - INFO - === 전체 모델 추출 실험 시작 ===
2025-09-03 17:22:26,717 - __main__ - INFO - === gemma 모델 추출 시작 (skt/gemma3-12b-it) ===
2025-09-03 17:22:26,717 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-09-03 17:22:26,717 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-09-03 17:22:26,775 - mms_extractor - INFO - Using device: mps
2025-09-03 17:22:26,775 - mms_extractor - INFO - _initialize_device 실행완료: 0.06초
2025-09-03 17:22:26,775 - mms_extractor - INFO - LLM 초기화 완료: skt/gemma3-12b-it (skt/ax4)
2025-09-03 17:22:26,775 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-09-03 17:22:26,775 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-09-03 17:22:26,776 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-09-03 17:22:26,776 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-09-03 17:22:26,776 - mms_extractor - ERROR - 임베딩 모델 초기화 실패: Path ./models/ko-sbert-nli not found
2025-09-03 17:22:26,776 - mms_extractor - INFO - 기본 모델로 fallback 시도
2025-09-03 17:22:26,776 - mms_extractor - INFO - Loading model from jhgan/ko-sroberta-multitask...
2025-09-03 17:22:26,776 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-09-03 17:22:26,776 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: jhgan/ko-sroberta-multitask
2025-09-03 17:22:33,986 - mms_extractor - INFO - Model loaded on mps
2025-09-03 17:22:33,986 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 7.21초
2025-09-03 17:22:34,498 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-09-03 17:22:34,498 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.51초
2025-09-03 17:22:34,498 - mms_extractor - INFO - ============================================================
2025-09-03 17:22:34,498 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-09-03 17:22:34,498 - mms_extractor - INFO - ============================================================
2025-09-03 17:22:34,498 - mms_extractor - INFO - 데이터 소스 모드: local
2025-09-03 17:22:34,498 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-09-03 17:22:34,498 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-09-03 17:22:34,498 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-09-03 17:22:34,498 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-09-03 17:22:34,498 - mms_extractor - ERROR - 상품 정보 로드 실패: [Errno 2] No such file or directory: './data/item_info_all_250527.csv'
2025-09-03 17:22:34,529 - mms_extractor - ERROR - 오류 상세: Traceback (most recent call last):
  File "/Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/mms_extractor.py", line 797, in _load_item_data
    item_pdf_raw = pd.read_csv(csv_path)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './data/item_info_all_250527.csv'

2025-09-03 17:22:34,530 - mms_extractor - WARNING - 빈 DataFrame으로 fallback 설정됨
2025-09-03 17:22:34,530 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (0, 4)
2025-09-03 17:22:34,530 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn']
2025-09-03 17:22:34,530 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-09-03 17:22:34,530 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-09-03 17:22:34,530 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (0, 4)
2025-09-03 17:22:34,530 - mms_extractor - WARNING - 별칭 규칙 적용 실패: [Errno 2] No such file or directory: './data/alias_rules.csv'
2025-09-03 17:22:34,531 - mms_extractor - WARNING - 오류 상세: Traceback (most recent call last):
  File "/Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/mms_extractor.py", line 1005, in _apply_alias_rules
    alias_pdf = pd.read_csv(getattr(METADATA_CONFIG, 'alias_rules_path', './data/alias_rules.csv'))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './data/alias_rules.csv'

2025-09-03 17:22:34,531 - mms_extractor - INFO - 원본 상품명을 별칭으로 사용합니다
2025-09-03 17:22:34,531 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (0, 5)
2025-09-03 17:22:34,531 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-09-03 17:22:34,531 - mms_extractor - WARNING - 정지어 로드 실패: [Errno 2] No such file or directory: './data/stop_words.csv'
2025-09-03 17:22:34,531 - mms_extractor - INFO - 로드된 정지어 수: 0개
2025-09-03 17:22:34,531 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-09-03 17:22:34,531 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-09-03 17:22:34,531 - mms_extractor - INFO - 등록할 고유 별칭 수: 0개
2025-09-03 17:22:34,531 - mms_extractor - INFO - 유효한 별칭 수: 0개
2025-09-03 17:22:34,531 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 0개 성공, 0개 실패
2025-09-03 17:22:34,531 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-09-03 17:22:34,531 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-09-03 17:22:34,531 - mms_extractor - ERROR - 프로그램 데이터 로드 실패: [Errno 2] No such file or directory: './data/pgm_tag_ext_250516.csv'
2025-09-03 17:22:34,532 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (0, 3)
2025-09-03 17:22:34,532 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-09-03 17:22:34,548 - mms_extractor - WARNING - 조직 정보 로드 실패: [Errno 2] No such file or directory: './data/org_info_all_250605.csv'
2025-09-03 17:22:34,548 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (0, 4)
2025-09-03 17:22:34,548 - mms_extractor - INFO - ============================================================
2025-09-03 17:22:34,548 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-09-03 17:22:34,548 - mms_extractor - INFO - ============================================================
2025-09-03 17:22:34,548 - mms_extractor - INFO - ✅ 상품 데이터: (0, 5)
2025-09-03 17:22:34,548 - mms_extractor - INFO - ✅ 프로그램 데이터: (0, 3)
2025-09-03 17:22:34,548 - mms_extractor - INFO - ✅ 조직 데이터: (0, 4)
2025-09-03 17:22:34,548 - mms_extractor - INFO - ✅ 정지어: 0개
2025-09-03 17:22:34,548 - mms_extractor - INFO - _load_data 실행완료: 0.05초
2025-09-03 17:22:34,548 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-09-03 17:22:34,548 - __main__ - INFO - gemma 추출기 초기화 완료
2025-09-03 17:22:34,548 - __main__ - INFO - 처리 중: gemma - 메시지 1/3 (ID: 11816)
2025-09-03 17:22:43,428 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:22:43,440 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:22:43,440 - __main__ - INFO - ✅ gemma - 메시지 11816 추출 완료
2025-09-03 17:22:44,444 - __main__ - INFO - 처리 중: gemma - 메시지 2/3 (ID: 22466)
2025-09-03 17:22:52,919 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:22:52,922 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:22:52,922 - __main__ - INFO - ✅ gemma - 메시지 22466 추출 완료
2025-09-03 17:22:53,923 - __main__ - INFO - 처리 중: gemma - 메시지 3/3 (ID: 8170)
2025-09-03 17:22:59,989 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:22:59,991 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:22:59,991 - __main__ - INFO - ✅ gemma - 메시지 8170 추출 완료
2025-09-03 17:23:00,994 - __main__ - INFO - === gemma 모델 추출 완료 ===
2025-09-03 17:23:01,030 - __main__ - INFO - ✅ gemma 모델 완료: 3/3 성공, 34.31초 소요
2025-09-03 17:23:01,030 - __main__ - INFO - === gemini 모델 추출 시작 (gcp/gemini-2.5-flash) ===
2025-09-03 17:23:01,030 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-09-03 17:23:01,030 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-09-03 17:23:01,032 - mms_extractor - INFO - Using device: mps
2025-09-03 17:23:01,032 - mms_extractor - INFO - _initialize_device 실행완료: 0.00초
2025-09-03 17:23:01,032 - mms_extractor - INFO - LLM 초기화 완료: gcp/gemini-2.5-flash (skt/ax4)
2025-09-03 17:23:01,033 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-09-03 17:23:01,033 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-09-03 17:23:01,033 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-09-03 17:23:01,033 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-09-03 17:23:01,033 - mms_extractor - ERROR - 임베딩 모델 초기화 실패: Path ./models/ko-sbert-nli not found
2025-09-03 17:23:01,033 - mms_extractor - INFO - 기본 모델로 fallback 시도
2025-09-03 17:23:01,033 - mms_extractor - INFO - Loading model from jhgan/ko-sroberta-multitask...
2025-09-03 17:23:01,033 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-09-03 17:23:01,034 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: jhgan/ko-sroberta-multitask
2025-09-03 17:23:04,588 - mms_extractor - INFO - Model loaded on mps
2025-09-03 17:23:04,589 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 3.56초
2025-09-03 17:23:05,040 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-09-03 17:23:05,040 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.45초
2025-09-03 17:23:05,040 - mms_extractor - INFO - ============================================================
2025-09-03 17:23:05,040 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-09-03 17:23:05,041 - mms_extractor - INFO - ============================================================
2025-09-03 17:23:05,041 - mms_extractor - INFO - 데이터 소스 모드: local
2025-09-03 17:23:05,041 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-09-03 17:23:05,041 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-09-03 17:23:05,041 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-09-03 17:23:05,041 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-09-03 17:23:05,041 - mms_extractor - ERROR - 상품 정보 로드 실패: [Errno 2] No such file or directory: './data/item_info_all_250527.csv'
2025-09-03 17:23:05,041 - mms_extractor - ERROR - 오류 상세: Traceback (most recent call last):
  File "/Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/mms_extractor.py", line 797, in _load_item_data
    item_pdf_raw = pd.read_csv(csv_path)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './data/item_info_all_250527.csv'

2025-09-03 17:23:05,042 - mms_extractor - WARNING - 빈 DataFrame으로 fallback 설정됨
2025-09-03 17:23:05,042 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (0, 4)
2025-09-03 17:23:05,042 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn']
2025-09-03 17:23:05,042 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-09-03 17:23:05,042 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-09-03 17:23:05,042 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (0, 4)
2025-09-03 17:23:05,042 - mms_extractor - WARNING - 별칭 규칙 적용 실패: [Errno 2] No such file or directory: './data/alias_rules.csv'
2025-09-03 17:23:05,043 - mms_extractor - WARNING - 오류 상세: Traceback (most recent call last):
  File "/Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/mms_extractor.py", line 1005, in _apply_alias_rules
    alias_pdf = pd.read_csv(getattr(METADATA_CONFIG, 'alias_rules_path', './data/alias_rules.csv'))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './data/alias_rules.csv'

2025-09-03 17:23:05,043 - mms_extractor - INFO - 원본 상품명을 별칭으로 사용합니다
2025-09-03 17:23:05,043 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (0, 5)
2025-09-03 17:23:05,043 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-09-03 17:23:05,043 - mms_extractor - WARNING - 정지어 로드 실패: [Errno 2] No such file or directory: './data/stop_words.csv'
2025-09-03 17:23:05,043 - mms_extractor - INFO - 로드된 정지어 수: 0개
2025-09-03 17:23:05,043 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-09-03 17:23:05,043 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-09-03 17:23:05,044 - mms_extractor - INFO - 등록할 고유 별칭 수: 0개
2025-09-03 17:23:05,044 - mms_extractor - INFO - 유효한 별칭 수: 0개
2025-09-03 17:23:05,044 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 0개 성공, 0개 실패
2025-09-03 17:23:05,044 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-09-03 17:23:05,044 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-09-03 17:23:05,044 - mms_extractor - ERROR - 프로그램 데이터 로드 실패: [Errno 2] No such file or directory: './data/pgm_tag_ext_250516.csv'
2025-09-03 17:23:05,044 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (0, 3)
2025-09-03 17:23:05,044 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-09-03 17:23:05,044 - mms_extractor - WARNING - 조직 정보 로드 실패: [Errno 2] No such file or directory: './data/org_info_all_250605.csv'
2025-09-03 17:23:05,044 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (0, 4)
2025-09-03 17:23:05,044 - mms_extractor - INFO - ============================================================
2025-09-03 17:23:05,044 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-09-03 17:23:05,044 - mms_extractor - INFO - ============================================================
2025-09-03 17:23:05,044 - mms_extractor - INFO - ✅ 상품 데이터: (0, 5)
2025-09-03 17:23:05,044 - mms_extractor - INFO - ✅ 프로그램 데이터: (0, 3)
2025-09-03 17:23:05,044 - mms_extractor - INFO - ✅ 조직 데이터: (0, 4)
2025-09-03 17:23:05,044 - mms_extractor - INFO - ✅ 정지어: 0개
2025-09-03 17:23:05,044 - mms_extractor - INFO - _load_data 실행완료: 0.00초
2025-09-03 17:23:05,044 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-09-03 17:23:05,044 - __main__ - INFO - gemini 추출기 초기화 완료
2025-09-03 17:23:05,045 - __main__ - INFO - 처리 중: gemini - 메시지 1/3 (ID: 11816)
2025-09-03 17:23:13,594 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:23:13,598 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:23:13,598 - __main__ - INFO - ✅ gemini - 메시지 11816 추출 완료
2025-09-03 17:23:14,602 - __main__ - INFO - 처리 중: gemini - 메시지 2/3 (ID: 22466)
2025-09-03 17:23:20,411 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:23:20,415 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:23:20,415 - __main__ - INFO - ✅ gemini - 메시지 22466 추출 완료
2025-09-03 17:23:21,419 - __main__ - INFO - 처리 중: gemini - 메시지 3/3 (ID: 8170)
2025-09-03 17:23:27,227 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:23:27,231 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:23:27,231 - __main__ - INFO - ✅ gemini - 메시지 8170 추출 완료
2025-09-03 17:23:28,233 - __main__ - INFO - === gemini 모델 추출 완료 ===
2025-09-03 17:23:28,268 - __main__ - INFO - ✅ gemini 모델 완료: 3/3 성공, 27.24초 소요
2025-09-03 17:23:28,268 - __main__ - INFO - === claude 모델 추출 시작 (amazon/anthropic/claude-sonnet-4-20250514) ===
2025-09-03 17:23:28,268 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-09-03 17:23:28,268 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-09-03 17:23:28,269 - mms_extractor - INFO - Using device: mps
2025-09-03 17:23:28,269 - mms_extractor - INFO - _initialize_device 실행완료: 0.00초
2025-09-03 17:23:28,269 - mms_extractor - INFO - LLM 초기화 완료: amazon/anthropic/claude-sonnet-4-20250514 (skt/ax4)
2025-09-03 17:23:28,269 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-09-03 17:23:28,269 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-09-03 17:23:28,270 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-09-03 17:23:28,270 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-09-03 17:23:28,270 - mms_extractor - ERROR - 임베딩 모델 초기화 실패: Path ./models/ko-sbert-nli not found
2025-09-03 17:23:28,270 - mms_extractor - INFO - 기본 모델로 fallback 시도
2025-09-03 17:23:28,270 - mms_extractor - INFO - Loading model from jhgan/ko-sroberta-multitask...
2025-09-03 17:23:28,270 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-09-03 17:23:28,270 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: jhgan/ko-sroberta-multitask
2025-09-03 17:23:31,896 - mms_extractor - INFO - Model loaded on mps
2025-09-03 17:23:31,896 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 3.63초
2025-09-03 17:23:32,369 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-09-03 17:23:32,370 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.47초
2025-09-03 17:23:32,370 - mms_extractor - INFO - ============================================================
2025-09-03 17:23:32,370 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-09-03 17:23:32,370 - mms_extractor - INFO - ============================================================
2025-09-03 17:23:32,370 - mms_extractor - INFO - 데이터 소스 모드: local
2025-09-03 17:23:32,370 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-09-03 17:23:32,370 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-09-03 17:23:32,370 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-09-03 17:23:32,371 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-09-03 17:23:32,371 - mms_extractor - ERROR - 상품 정보 로드 실패: [Errno 2] No such file or directory: './data/item_info_all_250527.csv'
2025-09-03 17:23:32,371 - mms_extractor - ERROR - 오류 상세: Traceback (most recent call last):
  File "/Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/mms_extractor.py", line 797, in _load_item_data
    item_pdf_raw = pd.read_csv(csv_path)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './data/item_info_all_250527.csv'

2025-09-03 17:23:32,372 - mms_extractor - WARNING - 빈 DataFrame으로 fallback 설정됨
2025-09-03 17:23:32,372 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (0, 4)
2025-09-03 17:23:32,372 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn']
2025-09-03 17:23:32,372 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-09-03 17:23:32,372 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-09-03 17:23:32,372 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (0, 4)
2025-09-03 17:23:32,372 - mms_extractor - WARNING - 별칭 규칙 적용 실패: [Errno 2] No such file or directory: './data/alias_rules.csv'
2025-09-03 17:23:32,373 - mms_extractor - WARNING - 오류 상세: Traceback (most recent call last):
  File "/Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/mms_extractor.py", line 1005, in _apply_alias_rules
    alias_pdf = pd.read_csv(getattr(METADATA_CONFIG, 'alias_rules_path', './data/alias_rules.csv'))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './data/alias_rules.csv'

2025-09-03 17:23:32,374 - mms_extractor - INFO - 원본 상품명을 별칭으로 사용합니다
2025-09-03 17:23:32,374 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (0, 5)
2025-09-03 17:23:32,374 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-09-03 17:23:32,374 - mms_extractor - WARNING - 정지어 로드 실패: [Errno 2] No such file or directory: './data/stop_words.csv'
2025-09-03 17:23:32,374 - mms_extractor - INFO - 로드된 정지어 수: 0개
2025-09-03 17:23:32,374 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-09-03 17:23:32,374 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-09-03 17:23:32,374 - mms_extractor - INFO - 등록할 고유 별칭 수: 0개
2025-09-03 17:23:32,374 - mms_extractor - INFO - 유효한 별칭 수: 0개
2025-09-03 17:23:32,374 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 0개 성공, 0개 실패
2025-09-03 17:23:32,374 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-09-03 17:23:32,374 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-09-03 17:23:32,374 - mms_extractor - ERROR - 프로그램 데이터 로드 실패: [Errno 2] No such file or directory: './data/pgm_tag_ext_250516.csv'
2025-09-03 17:23:32,375 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (0, 3)
2025-09-03 17:23:32,375 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-09-03 17:23:32,375 - mms_extractor - WARNING - 조직 정보 로드 실패: [Errno 2] No such file or directory: './data/org_info_all_250605.csv'
2025-09-03 17:23:32,375 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (0, 4)
2025-09-03 17:23:32,375 - mms_extractor - INFO - ============================================================
2025-09-03 17:23:32,375 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-09-03 17:23:32,375 - mms_extractor - INFO - ============================================================
2025-09-03 17:23:32,375 - mms_extractor - INFO - ✅ 상품 데이터: (0, 5)
2025-09-03 17:23:32,375 - mms_extractor - INFO - ✅ 프로그램 데이터: (0, 3)
2025-09-03 17:23:32,375 - mms_extractor - INFO - ✅ 조직 데이터: (0, 4)
2025-09-03 17:23:32,375 - mms_extractor - INFO - ✅ 정지어: 0개
2025-09-03 17:23:32,375 - mms_extractor - INFO - _load_data 실행완료: 0.01초
2025-09-03 17:23:32,375 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-09-03 17:23:32,375 - __main__ - INFO - claude 추출기 초기화 완료
2025-09-03 17:23:32,375 - __main__ - INFO - 처리 중: claude - 메시지 1/3 (ID: 11816)
2025-09-03 17:23:43,221 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:23:43,224 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:23:43,224 - __main__ - INFO - ✅ claude - 메시지 11816 추출 완료
2025-09-03 17:23:44,227 - __main__ - INFO - 처리 중: claude - 메시지 2/3 (ID: 22466)
2025-09-03 17:23:58,352 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:23:58,354 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:23:58,354 - __main__ - INFO - ✅ claude - 메시지 22466 추출 완료
2025-09-03 17:23:59,359 - __main__ - INFO - 처리 중: claude - 메시지 3/3 (ID: 8170)
2025-09-03 17:24:06,021 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:24:06,024 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:24:06,024 - __main__ - INFO - ✅ claude - 메시지 8170 추출 완료
2025-09-03 17:24:07,027 - __main__ - INFO - === claude 모델 추출 완료 ===
2025-09-03 17:24:07,060 - __main__ - INFO - ✅ claude 모델 완료: 3/3 성공, 38.79초 소요
2025-09-03 17:24:07,060 - __main__ - INFO - === ax 모델 추출 시작 (skt/ax4) ===
2025-09-03 17:24:07,060 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-09-03 17:24:07,060 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-09-03 17:24:07,062 - mms_extractor - INFO - Using device: mps
2025-09-03 17:24:07,062 - mms_extractor - INFO - _initialize_device 실행완료: 0.00초
2025-09-03 17:24:07,062 - mms_extractor - INFO - LLM 초기화 완료: skt/ax4 (skt/ax4)
2025-09-03 17:24:07,062 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-09-03 17:24:07,062 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-09-03 17:24:07,062 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-09-03 17:24:07,062 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-09-03 17:24:07,062 - mms_extractor - ERROR - 임베딩 모델 초기화 실패: Path ./models/ko-sbert-nli not found
2025-09-03 17:24:07,062 - mms_extractor - INFO - 기본 모델로 fallback 시도
2025-09-03 17:24:07,062 - mms_extractor - INFO - Loading model from jhgan/ko-sroberta-multitask...
2025-09-03 17:24:07,063 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-09-03 17:24:07,063 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: jhgan/ko-sroberta-multitask
2025-09-03 17:24:10,400 - mms_extractor - INFO - Model loaded on mps
2025-09-03 17:24:10,400 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 3.34초
2025-09-03 17:24:10,851 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-09-03 17:24:10,852 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.45초
2025-09-03 17:24:10,852 - mms_extractor - INFO - ============================================================
2025-09-03 17:24:10,852 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-09-03 17:24:10,852 - mms_extractor - INFO - ============================================================
2025-09-03 17:24:10,852 - mms_extractor - INFO - 데이터 소스 모드: local
2025-09-03 17:24:10,852 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-09-03 17:24:10,852 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-09-03 17:24:10,852 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-09-03 17:24:10,852 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-09-03 17:24:10,852 - mms_extractor - ERROR - 상품 정보 로드 실패: [Errno 2] No such file or directory: './data/item_info_all_250527.csv'
2025-09-03 17:24:10,853 - mms_extractor - ERROR - 오류 상세: Traceback (most recent call last):
  File "/Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/mms_extractor.py", line 797, in _load_item_data
    item_pdf_raw = pd.read_csv(csv_path)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './data/item_info_all_250527.csv'

2025-09-03 17:24:10,853 - mms_extractor - WARNING - 빈 DataFrame으로 fallback 설정됨
2025-09-03 17:24:10,853 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (0, 4)
2025-09-03 17:24:10,853 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn']
2025-09-03 17:24:10,853 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-09-03 17:24:10,853 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-09-03 17:24:10,853 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (0, 4)
2025-09-03 17:24:10,853 - mms_extractor - WARNING - 별칭 규칙 적용 실패: [Errno 2] No such file or directory: './data/alias_rules.csv'
2025-09-03 17:24:10,854 - mms_extractor - WARNING - 오류 상세: Traceback (most recent call last):
  File "/Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/mms_extractor.py", line 1005, in _apply_alias_rules
    alias_pdf = pd.read_csv(getattr(METADATA_CONFIG, 'alias_rules_path', './data/alias_rules.csv'))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './data/alias_rules.csv'

2025-09-03 17:24:10,854 - mms_extractor - INFO - 원본 상품명을 별칭으로 사용합니다
2025-09-03 17:24:10,854 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (0, 5)
2025-09-03 17:24:10,854 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-09-03 17:24:10,854 - mms_extractor - WARNING - 정지어 로드 실패: [Errno 2] No such file or directory: './data/stop_words.csv'
2025-09-03 17:24:10,854 - mms_extractor - INFO - 로드된 정지어 수: 0개
2025-09-03 17:24:10,854 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-09-03 17:24:10,854 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-09-03 17:24:10,854 - mms_extractor - INFO - 등록할 고유 별칭 수: 0개
2025-09-03 17:24:10,854 - mms_extractor - INFO - 유효한 별칭 수: 0개
2025-09-03 17:24:10,854 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 0개 성공, 0개 실패
2025-09-03 17:24:10,854 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-09-03 17:24:10,854 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-09-03 17:24:10,854 - mms_extractor - ERROR - 프로그램 데이터 로드 실패: [Errno 2] No such file or directory: './data/pgm_tag_ext_250516.csv'
2025-09-03 17:24:10,855 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (0, 3)
2025-09-03 17:24:10,855 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-09-03 17:24:10,855 - mms_extractor - WARNING - 조직 정보 로드 실패: [Errno 2] No such file or directory: './data/org_info_all_250605.csv'
2025-09-03 17:24:10,855 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (0, 4)
2025-09-03 17:24:10,855 - mms_extractor - INFO - ============================================================
2025-09-03 17:24:10,855 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-09-03 17:24:10,855 - mms_extractor - INFO - ============================================================
2025-09-03 17:24:10,855 - mms_extractor - INFO - ✅ 상품 데이터: (0, 5)
2025-09-03 17:24:10,855 - mms_extractor - INFO - ✅ 프로그램 데이터: (0, 3)
2025-09-03 17:24:10,855 - mms_extractor - INFO - ✅ 조직 데이터: (0, 4)
2025-09-03 17:24:10,855 - mms_extractor - INFO - ✅ 정지어: 0개
2025-09-03 17:24:10,855 - mms_extractor - INFO - _load_data 실행완료: 0.00초
2025-09-03 17:24:10,855 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-09-03 17:24:10,855 - __main__ - INFO - ax 추출기 초기화 완료
2025-09-03 17:24:10,856 - __main__ - INFO - 처리 중: ax - 메시지 1/3 (ID: 11816)
2025-09-03 17:24:19,332 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:24:19,335 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:24:19,335 - __main__ - INFO - ✅ ax - 메시지 11816 추출 완료
2025-09-03 17:24:20,340 - __main__ - INFO - 처리 중: ax - 메시지 2/3 (ID: 22466)
2025-09-03 17:24:26,604 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:24:26,607 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:24:26,607 - __main__ - INFO - ✅ ax - 메시지 22466 추출 완료
2025-09-03 17:24:27,611 - __main__ - INFO - 처리 중: ax - 메시지 3/3 (ID: 8170)
2025-09-03 17:24:32,747 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:24:32,749 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:24:32,749 - __main__ - INFO - ✅ ax - 메시지 8170 추출 완료
2025-09-03 17:24:33,754 - __main__ - INFO - === ax 모델 추출 완료 ===
2025-09-03 17:24:33,787 - __main__ - INFO - ✅ ax 모델 완료: 3/3 성공, 26.73초 소요
2025-09-03 17:24:33,787 - __main__ - INFO - === gpt 모델 추출 시작 (openai/gpt-4o-2024-11-20) ===
2025-09-03 17:24:33,787 - mms_extractor - INFO - MMSExtractor 초기화 시작
2025-09-03 17:24:33,787 - mms_extractor - INFO - 📋 표준 추출 모드 (DAG 비활성화)
2025-09-03 17:24:33,788 - mms_extractor - INFO - Using device: mps
2025-09-03 17:24:33,789 - mms_extractor - INFO - _initialize_device 실행완료: 0.00초
2025-09-03 17:24:33,789 - mms_extractor - INFO - LLM 초기화 완료: openai/gpt-4o-2024-11-20 (skt/ax4)
2025-09-03 17:24:33,789 - mms_extractor - INFO - _initialize_llm 실행완료: 0.00초
2025-09-03 17:24:33,789 - mms_extractor - INFO - Loading model from ./models/ko-sbert-nli...
2025-09-03 17:24:33,789 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-09-03 17:24:33,789 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./models/ko-sbert-nli
2025-09-03 17:24:33,789 - mms_extractor - ERROR - 임베딩 모델 초기화 실패: Path ./models/ko-sbert-nli not found
2025-09-03 17:24:33,789 - mms_extractor - INFO - 기본 모델로 fallback 시도
2025-09-03 17:24:33,789 - mms_extractor - INFO - Loading model from jhgan/ko-sroberta-multitask...
2025-09-03 17:24:33,789 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-09-03 17:24:33,789 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: jhgan/ko-sroberta-multitask
2025-09-03 17:24:37,083 - mms_extractor - INFO - Model loaded on mps
2025-09-03 17:24:37,084 - mms_extractor - INFO - _initialize_embedding_model 실행완료: 3.30초
2025-09-03 17:24:37,540 - mms_extractor - INFO - Kiwi 형태소 분석기 초기화 완료
2025-09-03 17:24:37,540 - mms_extractor - INFO - _initialize_kiwi 실행완료: 0.46초
2025-09-03 17:24:37,540 - mms_extractor - INFO - ============================================================
2025-09-03 17:24:37,540 - mms_extractor - INFO - 📊 데이터 로딩 시작
2025-09-03 17:24:37,540 - mms_extractor - INFO - ============================================================
2025-09-03 17:24:37,540 - mms_extractor - INFO - 데이터 소스 모드: local
2025-09-03 17:24:37,540 - mms_extractor - INFO - 1️⃣ 상품 정보 로드 중...
2025-09-03 17:24:37,540 - mms_extractor - INFO - === 상품 정보 로드 시작 (모드: local) ===
2025-09-03 17:24:37,540 - mms_extractor - INFO - 로컬 CSV 파일에서 상품 정보 로드 중...
2025-09-03 17:24:37,540 - mms_extractor - INFO - CSV 파일 경로: ./data/item_info_all_250527.csv
2025-09-03 17:24:37,540 - mms_extractor - ERROR - 상품 정보 로드 실패: [Errno 2] No such file or directory: './data/item_info_all_250527.csv'
2025-09-03 17:24:37,541 - mms_extractor - ERROR - 오류 상세: Traceback (most recent call last):
  File "/Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/mms_extractor.py", line 797, in _load_item_data
    item_pdf_raw = pd.read_csv(csv_path)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './data/item_info_all_250527.csv'

2025-09-03 17:24:37,541 - mms_extractor - WARNING - 빈 DataFrame으로 fallback 설정됨
2025-09-03 17:24:37,542 - mms_extractor - INFO - 상품 정보 로드 후 데이터 크기: (0, 4)
2025-09-03 17:24:37,542 - mms_extractor - INFO - 상품 정보 컬럼들: ['item_nm', 'item_id', 'item_desc', 'item_dmn']
2025-09-03 17:24:37,542 - mms_extractor - INFO - 2️⃣ 별칭 규칙 적용 중...
2025-09-03 17:24:37,542 - mms_extractor - INFO - === 별칭 규칙 적용 시작 ===
2025-09-03 17:24:37,542 - mms_extractor - INFO - 별칭 규칙 적용 전 상품 데이터 크기: (0, 4)
2025-09-03 17:24:37,542 - mms_extractor - WARNING - 별칭 규칙 적용 실패: [Errno 2] No such file or directory: './data/alias_rules.csv'
2025-09-03 17:24:37,542 - mms_extractor - WARNING - 오류 상세: Traceback (most recent call last):
  File "/Users/1110566/workspace/AgenticWorkflow/mms_extractor_unified/mms_extractor.py", line 1005, in _apply_alias_rules
    alias_pdf = pd.read_csv(getattr(METADATA_CONFIG, 'alias_rules_path', './data/alias_rules.csv'))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/parsers/readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './data/alias_rules.csv'

2025-09-03 17:24:37,542 - mms_extractor - INFO - 원본 상품명을 별칭으로 사용합니다
2025-09-03 17:24:37,542 - mms_extractor - INFO - 별칭 규칙 적용 후 데이터 크기: (0, 5)
2025-09-03 17:24:37,542 - mms_extractor - INFO - 3️⃣ 정지어 로드 중...
2025-09-03 17:24:37,543 - mms_extractor - WARNING - 정지어 로드 실패: [Errno 2] No such file or directory: './data/stop_words.csv'
2025-09-03 17:24:37,543 - mms_extractor - INFO - 로드된 정지어 수: 0개
2025-09-03 17:24:37,543 - mms_extractor - INFO - 4️⃣ Kiwi에 상품명 등록 중...
2025-09-03 17:24:37,543 - mms_extractor - INFO - === Kiwi에 상품명 등록 시작 ===
2025-09-03 17:24:37,543 - mms_extractor - INFO - 등록할 고유 별칭 수: 0개
2025-09-03 17:24:37,543 - mms_extractor - INFO - 유효한 별칭 수: 0개
2025-09-03 17:24:37,543 - mms_extractor - INFO - Kiwi에 상품명 등록 완료: 0개 성공, 0개 실패
2025-09-03 17:24:37,543 - mms_extractor - INFO - 5️⃣ 프로그램 분류 정보 로드 중...
2025-09-03 17:24:37,543 - mms_extractor - INFO - 프로그램 분류 정보 로딩 시작...
2025-09-03 17:24:37,543 - mms_extractor - ERROR - 프로그램 데이터 로드 실패: [Errno 2] No such file or directory: './data/pgm_tag_ext_250516.csv'
2025-09-03 17:24:37,543 - mms_extractor - INFO - 프로그램 분류 정보 로드 후 데이터 크기: (0, 3)
2025-09-03 17:24:37,543 - mms_extractor - INFO - 6️⃣ 조직 정보 로드 중...
2025-09-03 17:24:37,543 - mms_extractor - WARNING - 조직 정보 로드 실패: [Errno 2] No such file or directory: './data/org_info_all_250605.csv'
2025-09-03 17:24:37,543 - mms_extractor - INFO - 조직 정보 로드 후 데이터 크기: (0, 4)
2025-09-03 17:24:37,543 - mms_extractor - INFO - ============================================================
2025-09-03 17:24:37,543 - mms_extractor - INFO - 📋 데이터 로딩 완료 - 최종 상태 요약
2025-09-03 17:24:37,544 - mms_extractor - INFO - ============================================================
2025-09-03 17:24:37,544 - mms_extractor - INFO - ✅ 상품 데이터: (0, 5)
2025-09-03 17:24:37,544 - mms_extractor - INFO - ✅ 프로그램 데이터: (0, 3)
2025-09-03 17:24:37,544 - mms_extractor - INFO - ✅ 조직 데이터: (0, 4)
2025-09-03 17:24:37,544 - mms_extractor - INFO - ✅ 정지어: 0개
2025-09-03 17:24:37,544 - mms_extractor - INFO - _load_data 실행완료: 0.00초
2025-09-03 17:24:37,544 - mms_extractor - INFO - MMSExtractor 초기화 완료
2025-09-03 17:24:37,544 - __main__ - INFO - gpt 추출기 초기화 완료
2025-09-03 17:24:37,544 - __main__ - INFO - 처리 중: gpt - 메시지 1/3 (ID: 11816)
2025-09-03 17:24:54,147 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:24:54,150 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:24:54,150 - __main__ - INFO - ✅ gpt - 메시지 11816 추출 완료
2025-09-03 17:24:55,154 - __main__ - INFO - 처리 중: gpt - 메시지 2/3 (ID: 22466)
2025-09-03 17:25:02,136 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:25:02,139 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:25:02,139 - __main__ - INFO - ✅ gpt - 메시지 22466 추출 완료
2025-09-03 17:25:03,150 - __main__ - INFO - 처리 중: gpt - 메시지 3/3 (ID: 8170)
2025-09-03 17:25:08,321 - httpx - INFO - HTTP Request: POST https://api.platform.a15t.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:25:08,323 - __main__ - INFO - JSON 객체 추출 완료 - 키: ['title', 'purpose', 'product', 'channel', 'pgm']
2025-09-03 17:25:08,324 - __main__ - INFO - ✅ gpt - 메시지 8170 추출 완료
2025-09-03 17:25:09,328 - __main__ - INFO - === gpt 모델 추출 완료 ===
2025-09-03 17:25:09,366 - __main__ - INFO - ✅ gpt 모델 완료: 3/3 성공, 35.58초 소요
2025-09-03 17:25:09,366 - __main__ - INFO - === 전체 모델 추출 실험 완료 ===
2025-09-03 17:25:09,367 - __main__ - INFO - 3단계: 결과 저장
2025-09-03 17:25:09,367 - __main__ - INFO - 통합 결과 저장 중...
2025-09-03 17:25:09,369 - __main__ - INFO - 통합 결과 저장 완료: test_timestamp_202509031722
2025-09-03 17:25:09,369 - __main__ - INFO - === 모델 비교 실험 완료 ===
